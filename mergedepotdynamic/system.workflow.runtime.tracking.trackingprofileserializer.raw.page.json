{"content":"    \r\n    <h1 id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer\">\r\n      <span class=\"lang-csharp\">TrackingProfileSerializer</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Provides methods to serialize and deserialize tracking profiles into and from XML documents by using the tracking profile XML schema definition (XSD).</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">[System.Obsolete(&quot;The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*&quot;)]\npublic class TrackingProfileSerializer</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l1\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">TrackingProfileSerializer</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <div class=\"NOTE\"><h5>Note</h5><p> <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/deprecatedcontent-md.md&quot; -->This material discusses types and namespaces that are obsolete. For more information, see <a href=\"http://aka.ms/wfdeprecatedtypes\" data-linktype=\"external\">Deprecated Types in Windows Workflow Foundation 4.5</a>.<!--END INCLUDE -->  </p>\n</div>\n<p> The TrackingProfileSerializer uses the tracking profile XSD contained in <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema_\" data-linktype=\"relative-path\">Schema</a> to serialize <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a> objects into valid XML documents and to deserialize valid XML documents into <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a> objects. The TrackingProfileSerializer performs validation during both serialization and deserialization and, if necessary, throws an appropriate exception.  </p>\n<p> An XML document provides a convenient format in which to store a tracking profile. It also provides a non-programmatic way of authoring tracking profiles. The out-of-box <a class=\"xref\" href=\"system.workflow.runtime.tracking.sqltrackingservice\" data-linktype=\"relative-path\">SqlTrackingService</a> uses a TrackingProfileSerializer to serialize and deserialize the tracking profiles that are stored in its database.</p>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Tracking_TrackingProfileSerializer__ctor\" data-linktype=\"self-bookmark\">TrackingProfileSerializer()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> class.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema\" data-linktype=\"self-bookmark\">Schema</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the tracking profile XML schema definition (XSD).</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Deserialize_System_IO_TextReader_\" data-linktype=\"self-bookmark\">Deserialize(TextReader)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Deserializes the XML document that is contained in the text reader by using the tracking profile XML Schema definition (XSD).</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Serialize_System_IO_TextWriter_System_Workflow_Runtime_Tracking_TrackingProfile_\" data-linktype=\"self-bookmark\">Serialize(TextWriter,TrackingProfile)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Serializes the tracking profile into an XML document by using the tracking profile XML Schema definition (XSD).</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer__ctor\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">TrackingProfileSerializer()</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> class.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public TrackingProfileSerializer ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example demonstrates how you can create a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> using the TrackingProfileSerializer constructor to serialize a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>. The code also uses the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Serialize_\" data-linktype=\"relative-path\">Serialize</a> method.  </p>\n<p> This code example is part of the Query using SQLTrackingService SDK sample from the Program.cs file. For more information, see <a href=\"http://msdn.microsoft.com/en-us/a81e48bb-12f4-4e2b-9176-ea4e6b6e3d21\" data-linktype=\"external\">Query Using SQLTrackingService</a>.  </p>\n<pre><code class=\"lang-cs\" name=\"WF_Samples#291\">private static void CreateAndInsertTrackingProfile()\n{\n    TrackingProfile profile = new TrackingProfile();\n    ActivityTrackPoint activityTrack = new ActivityTrackPoint();\n    ActivityTrackingLocation activityLocation = new ActivityTrackingLocation(typeof(Activity));\n    activityLocation.MatchDerivedTypes = true;\n    IEnumerable&lt;ActivityExecutionStatus&gt; statuses = Enum.GetValues(typeof(ActivityExecutionStatus)) as IEnumerable&lt;ActivityExecutionStatus&gt;;\n    foreach (ActivityExecutionStatus status in statuses)\n    {\n        activityLocation.ExecutionStatusEvents.Add(status);\n    }\n\n    activityTrack.MatchingLocations.Add(activityLocation);\n    profile.ActivityTrackPoints.Add(activityTrack);\n    profile.Version = version;\n\n    WorkflowTrackPoint workflowTrack = new WorkflowTrackPoint();\n    WorkflowTrackingLocation workflowLocation = new WorkflowTrackingLocation();\n    IEnumerable&lt;TrackingWorkflowEvent&gt; eventStatuses = Enum.GetValues(typeof(TrackingWorkflowEvent)) as IEnumerable&lt;TrackingWorkflowEvent&gt;;\n    foreach (TrackingWorkflowEvent status in eventStatuses)\n    {\n        workflowLocation.Events.Add(status);\n    }\n\n    workflowTrack.MatchingLocation = workflowLocation;\n    profile.WorkflowTrackPoints.Add(workflowTrack);\n\n    TrackingProfileSerializer serializer = new TrackingProfileSerializer();\n    StringWriter writer = new StringWriter(new StringBuilder(), CultureInfo.InvariantCulture);\n    serializer.Serialize(writer, profile);\n    String trackingprofile = writer.ToString();\n    InsertTrackingProfile(trackingprofile);\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"WF_Samples#291\">Shared Sub CreateAndInsertTrackingProfile()\n    Dim profile As TrackingProfile = New TrackingProfile()\n\n    Dim activityTrack As ActivityTrackPoint = New ActivityTrackPoint()\n    Dim activityLocation As ActivityTrackingLocation = New ActivityTrackingLocation(GetType(Activity))\n    activityLocation.MatchDerivedTypes = True\n    Dim statuses As IEnumerable(Of ActivityExecutionStatus) = CType(System.Enum.GetValues(GetType(ActivityExecutionStatus)), IEnumerable(Of ActivityExecutionStatus))\n    For Each status As ActivityExecutionStatus In statuses\n        activityLocation.ExecutionStatusEvents.Add(status)\n    Next\n\n    activityTrack.MatchingLocations.Add(activityLocation)\n    profile.ActivityTrackPoints.Add(activityTrack)\n    profile.Version = version\n\n    Dim workflowTrack As WorkflowTrackPoint = New WorkflowTrackPoint()\n    Dim workflowLocation As WorkflowTrackingLocation = New WorkflowTrackingLocation()\n    Dim eventStatuses As IEnumerable(Of TrackingWorkflowEvent) = CType(System.Enum.GetValues(GetType(TrackingWorkflowEvent)), IEnumerable(Of TrackingWorkflowEvent))\n    For Each status As TrackingWorkflowEvent In eventStatuses\n        workflowLocation.Events.Add(status)\n    Next\n\n    workflowTrack.MatchingLocation = workflowLocation\n    profile.WorkflowTrackPoints.Add(workflowTrack)\n\n    Dim serializer As TrackingProfileSerializer = New TrackingProfileSerializer()\n    Dim writer As StringWriter = New StringWriter(New StringBuilder(), CultureInfo.InvariantCulture)\n    serializer.Serialize(writer, profile)\n    Dim trackingProfile As String = writer.ToString()\n    InsertTrackingProfile(trackingProfile)\nEnd Sub\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Schema</div>        \r\n          </div>\r\n    \r\n            <p>Gets the tracking profile XML schema definition (XSD).</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Xml.Schema.XmlSchema Schema { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.xml.schema.xmlschema\" data-linktype=\"relative-path\">XmlSchema</a></div>\r\n                  </div>\r\n                  <p>The tracking profile XSD.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This property exposes the tracking profile XSD used by the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> to perform serialization and deserialization of a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>. You may also use this property to get the tracking profile XSD in order to write your own validator for tracking profiles. For example, you may want to do this in order to validate XML representations of tracking profiles without performing deserialization.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Deserialize_System_IO_TextReader_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Deserialize_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Deserialize(TextReader)</div>        \r\n          </div>\r\n    \r\n            <p>Deserializes the XML document that is contained in the text reader by using the tracking profile XML Schema definition (XSD).</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Workflow.Runtime.Tracking.TrackingProfile Deserialize (System.IO.TextReader reader);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>reader</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.textreader\" data-linktype=\"relative-path\">TextReader</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.io.textreader\" data-linktype=\"relative-path\">TextReader</a> that contains an XML document.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a></div>\r\n                  </div>\r\n                  <p>A <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a> that contains the deserialized tracking profile.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>reader</code> is a null reference (<code>Nothing</code> in Visual Basic).</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofiledeserializationexception\" data-linktype=\"relative-path\">TrackingProfileDeserializationException</a></div>\r\n                  </div>\r\n                  <p><code>reader</code> does not contain a document that conforms to the tracking profile XSD.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Deserialization refers to the process of creating an object from a well-formed XML document. Deserialize uses the tracking profile XSD contained in <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema_\" data-linktype=\"relative-path\">Schema</a> to deserialize the XML document that is contained in the text reader into a valid <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>. Validation on the XML document is performed during deserialization, and, if the document is not valid, a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofiledeserializationexception\" data-linktype=\"relative-path\">TrackingProfileDeserializationException</a> is thrown. You can catch this exception and examine <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofiledeserializationexception#System_Workflow_Runtime_Tracking_TrackingProfileDeserializationException_ValidationEventArgs_\" data-linktype=\"relative-path\">ValidationEventArgs</a> to determine the cause of the validation error. If there are any unhandled exceptions while deserializing the tracking profile then the workflow instance for which the tracking profile was requested will be terminated.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> If you want to perform validation without deserializing the XML representation of a tracking profile, you can write your own tracking profile validator. See the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema_\" data-linktype=\"relative-path\">Schema</a> property for more information.</p>\n</div>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Serialize_System_IO_TextWriter_System_Workflow_Runtime_Tracking_TrackingProfile_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Serialize_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Serialize(TextWriter,TrackingProfile)</div>        \r\n          </div>\r\n    \r\n            <p>Serializes the tracking profile into an XML document by using the tracking profile XML Schema definition (XSD).</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void Serialize (System.IO.TextWriter writer, System.Workflow.Runtime.Tracking.TrackingProfile profile);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>writer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.textwriter\" data-linktype=\"relative-path\">TextWriter</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A valid <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>profile</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>When this method returns, contains a <a class=\"xref\" href=\"system.io.textwriter\" data-linktype=\"relative-path\">TextWriter</a> that holds the XML document. The parameter is passed uninitialized.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>profile</code> is <code>null</code>.  </p>\n<p> -or-  </p>\n<p> <code>writer</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>profile</code> is not a valid tracking profile.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Serialization refers to the process of creating a well-formed XML document from a valid <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>. Serialize uses the tracking profile <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer_Schema_\" data-linktype=\"relative-path\">Schema</a> to serialize the tracking profile. <code>profile</code> must be a valid <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a> that contains at least one valid track point. Validation on the tracking profile is performed during serialization, and, if the tracking profile is not valid, an <a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a> is thrown. You can catch this exception and examine its message property to determine the cause of the validation error. If there are any unhandled exceptions while serializing the tracking profile, then the workflow instance for which the tracking profile was requested is terminated.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example demonstrates how you can create a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> using the <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofileserializer#System_Workflow_Runtime_Tracking_TrackingProfileSerializer__ctor_\" data-linktype=\"relative-path\">TrackingProfileSerializer</a> constructor to serialize a <a class=\"xref\" href=\"system.workflow.runtime.tracking.trackingprofile\" data-linktype=\"relative-path\">TrackingProfile</a>. The code also uses the Serialize method.  </p>\n<p> This code example is part of the Query using SQLTrackingService SDK sample from the Program.cs file. For more information, see <a href=\"http://msdn.microsoft.com/en-us/a81e48bb-12f4-4e2b-9176-ea4e6b6e3d21\" data-linktype=\"external\">Query Using SQLTrackingService</a>.  </p>\n<pre><code class=\"lang-cs\" name=\"WF_Samples#291\">private static void CreateAndInsertTrackingProfile()\n{\n    TrackingProfile profile = new TrackingProfile();\n    ActivityTrackPoint activityTrack = new ActivityTrackPoint();\n    ActivityTrackingLocation activityLocation = new ActivityTrackingLocation(typeof(Activity));\n    activityLocation.MatchDerivedTypes = true;\n    IEnumerable&lt;ActivityExecutionStatus&gt; statuses = Enum.GetValues(typeof(ActivityExecutionStatus)) as IEnumerable&lt;ActivityExecutionStatus&gt;;\n    foreach (ActivityExecutionStatus status in statuses)\n    {\n        activityLocation.ExecutionStatusEvents.Add(status);\n    }\n\n    activityTrack.MatchingLocations.Add(activityLocation);\n    profile.ActivityTrackPoints.Add(activityTrack);\n    profile.Version = version;\n\n    WorkflowTrackPoint workflowTrack = new WorkflowTrackPoint();\n    WorkflowTrackingLocation workflowLocation = new WorkflowTrackingLocation();\n    IEnumerable&lt;TrackingWorkflowEvent&gt; eventStatuses = Enum.GetValues(typeof(TrackingWorkflowEvent)) as IEnumerable&lt;TrackingWorkflowEvent&gt;;\n    foreach (TrackingWorkflowEvent status in eventStatuses)\n    {\n        workflowLocation.Events.Add(status);\n    }\n\n    workflowTrack.MatchingLocation = workflowLocation;\n    profile.WorkflowTrackPoints.Add(workflowTrack);\n\n    TrackingProfileSerializer serializer = new TrackingProfileSerializer();\n    StringWriter writer = new StringWriter(new StringBuilder(), CultureInfo.InvariantCulture);\n    serializer.Serialize(writer, profile);\n    String trackingprofile = writer.ToString();\n    InsertTrackingProfile(trackingprofile);\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"WF_Samples#291\">Shared Sub CreateAndInsertTrackingProfile()\n    Dim profile As TrackingProfile = New TrackingProfile()\n\n    Dim activityTrack As ActivityTrackPoint = New ActivityTrackPoint()\n    Dim activityLocation As ActivityTrackingLocation = New ActivityTrackingLocation(GetType(Activity))\n    activityLocation.MatchDerivedTypes = True\n    Dim statuses As IEnumerable(Of ActivityExecutionStatus) = CType(System.Enum.GetValues(GetType(ActivityExecutionStatus)), IEnumerable(Of ActivityExecutionStatus))\n    For Each status As ActivityExecutionStatus In statuses\n        activityLocation.ExecutionStatusEvents.Add(status)\n    Next\n\n    activityTrack.MatchingLocations.Add(activityLocation)\n    profile.ActivityTrackPoints.Add(activityTrack)\n    profile.Version = version\n\n    Dim workflowTrack As WorkflowTrackPoint = New WorkflowTrackPoint()\n    Dim workflowLocation As WorkflowTrackingLocation = New WorkflowTrackingLocation()\n    Dim eventStatuses As IEnumerable(Of TrackingWorkflowEvent) = CType(System.Enum.GetValues(GetType(TrackingWorkflowEvent)), IEnumerable(Of TrackingWorkflowEvent))\n    For Each status As TrackingWorkflowEvent In eventStatuses\n        workflowLocation.Events.Add(status)\n    Next\n\n    workflowTrack.MatchingLocation = workflowLocation\n    profile.WorkflowTrackPoints.Add(workflowTrack)\n\n    Dim serializer As TrackingProfileSerializer = New TrackingProfileSerializer()\n    Dim writer As StringWriter = New StringWriter(New StringBuilder(), CultureInfo.InvariantCulture)\n    serializer.Serialize(writer, profile)\n    Dim trackingProfile As String = writer.ToString()\n    InsertTrackingProfile(trackingProfile)\nEnd Sub\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Workflow.Runtime.Tracking.TrackingProfileSerializer.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Workflow.Runtime.Tracking.TrackingProfileSerializer.yml\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer..ctor\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Deserialize\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Schema\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Serialize\">\r\n<meta name=\"APILocation\" content=\"System.Workflow.Runtime.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"a00f54bc-9440-6c9a-801b-592b62183050\">\r\n<meta name=\"original_ecmaxml_local_path\" content=\"W:\\vejk\\s\\fulldocset\\xml\\System.Workflow.Runtime.Tracking\\TrackingProfileSerializer.xml\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Provides methods to serialize and deserialize tracking profiles into and from XML documents by using the tracking profile XML schema definition (XSD).\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Workflow.Runtime.Tracking/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Workflow.Runtime.Tracking.TrackingProfileSerializer\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Workflow.Runtime.Tracking.TrackingProfileSerializer.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Workflow.Runtime.Tracking.TrackingProfileSerializer.yml","open_to_public_contributors":true,"api_name":["System.Workflow.Runtime.Tracking.TrackingProfileSerializer","System.Workflow.Runtime.Tracking.TrackingProfileSerializer..ctor","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Deserialize","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Schema","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Serialize"],"api_location":["System.Workflow.Runtime.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Workflow.Runtime.Tracking.TrackingProfileSerializer","System::Workflow::Runtime::Tracking::TrackingProfileSerializer","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.#ctor","System::Workflow::Runtime::Tracking::TrackingProfileSerializer::#ctor","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Deserialize","System::Workflow::Runtime::Tracking::TrackingProfileSerializer::Deserialize","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Schema","System::Workflow::Runtime::Tracking::TrackingProfileSerializer::Schema","System.Workflow.Runtime.Tracking.TrackingProfileSerializer.Serialize","System::Workflow::Runtime::Tracking::TrackingProfileSerializer::Serialize"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"a00f54bc-9440-6c9a-801b-592b62183050","original_ecmaxml_local_path":"W:\\vejk\\s\\fulldocset\\xml\\System.Workflow.Runtime.Tracking\\TrackingProfileSerializer.xml","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Workflow.Runtime.Tracking/TrackingProfileSerializer.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"TrackingProfileSerializer class | Microsoft Docs","_op_ogTitle":"TrackingProfileSerializer class","description":"Provides methods to serialize and deserialize tracking profiles into and from XML documents by using the tracking profile XML schema definition (XSD).\n","toc_asset_id":"_splitted/System.Workflow.Runtime.Tracking/toc.json","toc_rel":"_splitted/System.Workflow.Runtime.Tracking/toc.json","source_url":"","ms.assetid":"System.Workflow.Runtime.Tracking.TrackingProfileSerializer","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.workflow.runtime.tracking.trackingprofileserializer","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.workflow.runtime.tracking.trackingprofileserializer","fileRelativePath":"System.Workflow.Runtime.Tracking.TrackingProfileSerializer.html"},"themesRelativePathToOutputRoot":"_themes/"}