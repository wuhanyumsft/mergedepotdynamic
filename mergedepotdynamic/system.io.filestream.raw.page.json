{"content":"    \r\n    <h1 id=\"System_IO_FileStream\">\r\n      <span class=\"lang-csharp\">FileStream</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Provides a <a class=\"xref\" href=\"system.io.stream\" data-linktype=\"relative-path\">Stream</a> for a file, supporting both synchronous and asynchronous read and write operations.  </p>\n<p> To browse the .NET Framework source code for this type, see the <a href=\"http://referencesource.microsoft.com/#mscorlib/system/io/filestream.cs#e23a38af5d11ddd3\" data-linktype=\"external\">Reference Source</a>.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">[System.Runtime.InteropServices.ComVisible(true)]\npublic class FileStream : System.IO.Stream</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.marshalbyrefobject\" data-linktype=\"relative-path\">MarshalByRefObject</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l2\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream\" data-linktype=\"relative-path\">System.IO.Stream</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l3\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">FileStream</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanTimeout\" data-linktype=\"relative-path\">CanTimeout</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close\" data-linktype=\"relative-path\">Close()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_\" data-linktype=\"relative-path\">CopyTo(Stream)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_System_Int32_\" data-linktype=\"relative-path\">CopyTo(Stream,Int32)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_\" data-linktype=\"relative-path\">CopyToAsync(Stream)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_\" data-linktype=\"relative-path\">CopyToAsync(Stream,Int32)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_System_Threading_CancellationToken_\" data-linktype=\"relative-path\">CopyToAsync(Stream,Int32,CancellationToken)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CreateWaitHandle\" data-linktype=\"relative-path\">CreateWaitHandle()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Dispose\" data-linktype=\"relative-path\">Dispose()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_FlushAsync\" data-linktype=\"relative-path\">FlushAsync()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Null\" data-linktype=\"relative-path\">Null</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_ObjectInvariant\" data-linktype=\"relative-path\">ObjectInvariant()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_ReadAsync_System_Byte___System_Int32_System_Int32_\" data-linktype=\"relative-path\">ReadAsync(Byte[],Int32,Int32)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_ReadTimeout\" data-linktype=\"relative-path\">ReadTimeout</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Synchronized_System_IO_Stream_\" data-linktype=\"relative-path\">Synchronized(Stream)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_WriteAsync_System_Byte___System_Int32_System_Int32_\" data-linktype=\"relative-path\">WriteAsync(Byte[],Int32,Int32)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_WriteTimeout\" data-linktype=\"relative-path\">WriteTimeout</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.marshalbyrefobject#System_MarshalByRefObject_CreateObjRef_System_Type_\" data-linktype=\"relative-path\">CreateObjRef(Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.marshalbyrefobject#System_MarshalByRefObject_GetLifetimeService\" data-linktype=\"relative-path\">GetLifetimeService()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.marshalbyrefobject#System_MarshalByRefObject_InitializeLifetimeService\" data-linktype=\"relative-path\">InitializeLifetimeService()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.marshalbyrefobject#System_MarshalByRefObject_MemberwiseClone_System_Boolean_\" data-linktype=\"relative-path\">MemberwiseClone(Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <div class=\"NOTE\"><h5>Note</h5><p> To view the .NET Framework source code for this type, see the <a href=\"http://referencesource.microsoft.com/#mscorlib/system/io/filestream.cs#e23a38af5d11ddd3\" data-linktype=\"external\">Reference Source</a>. You can browse through the source code online, download the reference for offline viewing, and step through the sources (including patches and updates) during debugging; see <a href=\"http://referencesource.microsoft.com/\" data-linktype=\"external\">instructions</a>.  </p>\n</div>\n<p> Use the FileStream class to read from, write to, open, and close files on a file system, and to manipulate other file-related operating system handles, including pipes, standard input, and standard output. You can use the [Read(Byte&lt;xref:System.IO.FileStream.Read%2A&gt;, [Write(Byte&lt;xref:System.IO.FileStream.Write%2A&gt;, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyTo_\" data-linktype=\"relative-path\">CopyTo</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> methods to perform synchronous operations, or the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_FlushAsync_\" data-linktype=\"relative-path\">FlushAsync</a> methods to perform asynchronous operations. Use the asynchronous methods to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a Windows 8.x Store app or desktop app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. FileStream buffers input and output for better performance.  </p>\n<div class=\"IMPORTANT\"><h5>Important</h5><p> This type implements the <a class=\"xref\" href=\"system.idisposable\" data-linktype=\"relative-path\">IDisposable</a> interface. When you have finished using the type, you should dispose of it either directly or indirectly. To dispose of the type directly, call its <a class=\"xref\" href=\"system.idisposable#System_IDisposable_Dispose_\" data-linktype=\"relative-path\">Dispose</a> method in a <code>try</code>/<code>catch</code> block. To dispose of it indirectly, use a language construct such as <code>using</code> (in C#) or <code>Using</code> (in Visual Basic). For more information, see the â€œUsing an Object that Implements IDisposableâ€ section in the <a class=\"xref\" href=\"system.idisposable\" data-linktype=\"relative-path\">IDisposable</a> interface topic.  </p>\n</div>\n<p> The <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_IsAsync_\" data-linktype=\"relative-path\">IsAsync</a> property detects whether the file handle was opened asynchronously. You specify this value when you create an instance of the FileStream class using a constructor that has an <code>isAsync</code>, <code>useAsync</code>, or <code>options</code> parameter. When the property is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_IsAsync_\" data-linktype=\"relative-path\">IsAsync</a> property does not have to be <code>true</code> to call the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, or <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a> method. When the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_IsAsync_\" data-linktype=\"relative-path\">IsAsync</a> property is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.  </p>\n<p> The <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Seek_\" data-linktype=\"relative-path\">Seek</a> method supports random access to files. <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Seek_\" data-linktype=\"relative-path\">Seek</a> allows the read/write position to be moved to any position within the file. This is done with byte offset reference point parameters. The byte offset is relative to the seek reference point, which can be the beginning, the current position, or the end of the underlying file, as represented by the three members of the <a class=\"xref\" href=\"system.io.seekorigin\" data-linktype=\"relative-path\">SeekOrigin</a> enumeration.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Disk files always support random access. At the time of construction, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property value is set to <code>true</code> or <code>false</code> depending on the underlying file type.If the underlying file type is FILE_TYPE_DISK, as defined in winbase.h, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property value is <code>true</code>. Otherwise, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property value is <code>false</code>.  </p>\n</div>\n<p> If a process terminates with part of a file locked or closes a file that has outstanding locks, the behavior is undefined.  </p>\n<p> For directory operations and other file operations, see the <a class=\"xref\" href=\"system.io.file\" data-linktype=\"relative-path\">File</a>, <a class=\"xref\" href=\"system.io.directory\" data-linktype=\"relative-path\">Directory</a>, and <a class=\"xref\" href=\"system.io.path\" data-linktype=\"relative-path\">Path</a> classes. The <a class=\"xref\" href=\"system.io.file\" data-linktype=\"relative-path\">File</a> class is a utility class that has static methods primarily for the creation of FileStream objects based on file paths. The <a class=\"xref\" href=\"system.io.memorystream\" data-linktype=\"relative-path\">MemoryStream</a> class creates a stream from a byte array and is similar to the FileStream class.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.  </p>\n<h2 id=\"detection-of-stream-position-changes\">Detection of Stream Position Changes</h2>\n<p> When a FileStream object does not have an exclusive hold on its handle, another thread could access the file handle concurrently and change the position of the operating system&#39;s file pointer that is associated with the file handle. In this case, the cached position in the FileStream object and the cached data in the buffer could be compromised. The FileStream object routinely performs checks on methods that access the cached buffer to ensure that the operating system&#39;s handle position is the same as the cached position used by the FileStream object.  </p>\n<p> If an unexpected change in the handle position is detected in a call to the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Read_\" data-linktype=\"relative-path\">Read</a> method, the .NET Framework discards the contents of the buffer and reads the stream from the file again. This can affect performance, depending on the size of the file and any other processes that could affect the position of the file stream.  </p>\n<p> If an unexpected change in the handle position is detected in a call to the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Write_\" data-linktype=\"relative-path\">Write</a> method, the contents of the buffer are discarded and an <a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a> exception is thrown.  </p>\n<p> A FileStream object will not have an exclusive hold on its handle when either the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_SafeFileHandle_\" data-linktype=\"relative-path\">SafeFileHandle</a> property is accessed to expose the handle or the FileStream object is given the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_SafeFileHandle_\" data-linktype=\"relative-path\">SafeFileHandle</a> property in its constructor.</p>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_\" data-linktype=\"self-bookmark\">FileStream(SafeFileHandle,FileAccess)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_\" data-linktype=\"self-bookmark\">FileStream(IntPtr,FileAccess)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path and creation mode.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_\" data-linktype=\"self-bookmark\">FileStream(SafeFileHandle,FileAccess,Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, and buffer size.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_\" data-linktype=\"self-bookmark\">FileStream(IntPtr,FileAccess,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission and <code>FileStream</code> instance ownership.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileAccess)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, and read/write permission.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_System_Boolean_\" data-linktype=\"self-bookmark\">FileStream(SafeFileHandle,FileAccess,Int32,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, buffer size, and synchronous or asynchronous state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_\" data-linktype=\"self-bookmark\">FileStream(IntPtr,FileAccess,Boolean,Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, and buffer size.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileAccess,FileShare)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write permission, and sharing permission.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_System_Boolean_\" data-linktype=\"self-bookmark\">FileStream(IntPtr,FileAccess,Boolean,Int32,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, buffer size, and synchronous or asynchronous state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileAccess,FileShare,Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, and buffer size.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, buffer size, and synchronous or asynchronous state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_IO_FileOptions_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileAccess,FileShare,Int32,FileOptions)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, the access other FileStreams can have to the same file, the buffer size, and additional file options.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, access rights and sharing permission, the buffer size, and additional file options.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_System_Security_AccessControl_FileSecurity_\" data-linktype=\"self-bookmark\">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions,FileSecurity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, access rights and sharing permission, the buffer size, additional file options, access control and audit security.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_CanRead\" data-linktype=\"self-bookmark\">CanRead</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value indicating whether the current stream supports reading.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_CanSeek\" data-linktype=\"self-bookmark\">CanSeek</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value indicating whether the current stream supports seeking.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_CanWrite\" data-linktype=\"self-bookmark\">CanWrite</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value indicating whether the current stream supports writing.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Handle\" data-linktype=\"self-bookmark\">Handle</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the operating system file handle for the file that the current <code>FileStream</code> object encapsulates.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_IsAsync\" data-linktype=\"self-bookmark\">IsAsync</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value indicating whether the <code>FileStream</code> was opened asynchronously or synchronously.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Length\" data-linktype=\"self-bookmark\">Length</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the length in bytes of the stream.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Name\" data-linktype=\"self-bookmark\">Name</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the name of the <code>FileStream</code> that was passed to the constructor.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Position\" data-linktype=\"self-bookmark\">Position</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets the current position of this stream.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_SafeFileHandle\" data-linktype=\"self-bookmark\">SafeFileHandle</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a <a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a> object that represents the operating system file handle for the file that the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object encapsulates.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_\" data-linktype=\"self-bookmark\">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Begins an asynchronous read operation. (Consider using <span class=\"xref\">stem.IO.FileStream.ReadAsync*</span> instead; see the Remarks section.)</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_\" data-linktype=\"self-bookmark\">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Begins an asynchronous write operation. (Consider using <span class=\"xref\">stem.IO.FileStream.WriteAsync*</span> instead; see the Remarks section.)</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Dispose_System_Boolean_\" data-linktype=\"self-bookmark\">Dispose(Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Releases the unmanaged resources used by the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> and optionally releases the managed resources.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_EndRead_System_IAsyncResult_\" data-linktype=\"self-bookmark\">EndRead(IAsyncResult)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Waits for the pending asynchronous read operation to complete. (Consider using <span class=\"xref\">stem.IO.FileStream.ReadAsync*</span> instead; see the Remarks section.)</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_EndWrite_System_IAsyncResult_\" data-linktype=\"self-bookmark\">EndWrite(IAsyncResult)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <span class=\"xref\">stem.IO.FileStream.WriteAsync*</span> instead; see the Remarks section.)</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Finalize\" data-linktype=\"self-bookmark\">Finalize()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Ensures that resources are freed and other cleanup operations are performed when the garbage collector reclaims the <code>FileStream</code>.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Flush\" data-linktype=\"self-bookmark\">Flush()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Clears buffers for this stream and causes any buffered data to be written to the file.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Flush_System_Boolean_\" data-linktype=\"self-bookmark\">Flush(Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Clears buffers for this stream and causes any buffered data to be written to the file, and also clears all intermediate file buffers.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_FlushAsync_System_Threading_CancellationToken_\" data-linktype=\"self-bookmark\">FlushAsync(CancellationToken)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_GetAccessControl\" data-linktype=\"self-bookmark\">GetAccessControl()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> object that encapsulates the access control list (ACL) entries for the file described by the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Lock_System_Int64_System_Int64_\" data-linktype=\"self-bookmark\">Lock(Int64,Int64)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Prevents other processes from reading from or writing to the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a>.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Read_System_Byte___System_Int32_System_Int32_\" data-linktype=\"self-bookmark\">Read(Byte[],Int32,Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Reads a block of bytes from the stream and writes the data in a given buffer.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_\" data-linktype=\"self-bookmark\">ReadAsync(Byte[],Int32,Int32,CancellationToken)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_ReadByte\" data-linktype=\"self-bookmark\">ReadByte()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Reads a byte from the file and advances the read position one byte.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Seek_System_Int64_System_IO_SeekOrigin_\" data-linktype=\"self-bookmark\">Seek(Int64,SeekOrigin)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Sets the current position of this stream to the given value.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_SetAccessControl_System_Security_AccessControl_FileSecurity_\" data-linktype=\"self-bookmark\">SetAccessControl(FileSecurity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Applies access control list (ACL) entries described by a <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> object to the file described by the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_SetLength_System_Int64_\" data-linktype=\"self-bookmark\">SetLength(Int64)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Sets the length of this stream to the given value.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Unlock_System_Int64_System_Int64_\" data-linktype=\"self-bookmark\">Unlock(Int64,Int64)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Allows access by other processes to all or part of a file that was previously locked.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_Write_System_Byte___System_Int32_System_Int32_\" data-linktype=\"self-bookmark\">Write(Byte[],Int32,Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Writes a block of bytes to the file stream.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_\" data-linktype=\"self-bookmark\">WriteAsync(Byte[],Int32,Int32,CancellationToken)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IO_FileStream_WriteByte_System_Byte_\" data-linktype=\"self-bookmark\">WriteByte(Byte)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Writes a byte to the current position in the file stream.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(SafeFileHandle,FileAccess)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>access</code> is not a field of <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close_\" data-linktype=\"relative-path\">Close</a> is called, the handle is also closed and the file&#39;s handle count is decremented.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(IntPtr,FileAccess)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (IntPtr handle, System.IO.FileAccess access);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.intptr\" data-linktype=\"relative-path\">IntPtr</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>access</code> is not a field of <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close_\" data-linktype=\"relative-path\">Close</a> is called, the handle is also closed and the file&#39;s handle count is decremented.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path and creation mode.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>mode</code> contains an invalid value.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed).  </p>\n<p> You cannot use this constructor to open read-only files; instead, you must use a constructor that accepts a <code>FileAccess</code> parameter with the value set to <code>FileAccess.Read</code>.  </p>\n<p> The buffer size is set to the default size of 4096 bytes (4 KB).  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<p> For constructors without a <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a> parameter, if the <code>mode</code> parameter is set to <a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a>, <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a> is the default access. Otherwise, the access is set to <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  </p>\n<pre><code class=\"lang-vb\" name=\"System.IO.FileStream1#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nClass FStream\n\n    Shared Sub Main()\n\n        Const fileName As String = &quot;Test#@@#.dat&quot;\n\n        &#39; Create random data to write to the file.\n        Dim dataArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(dataArray)\n\n        Dim fileStream As FileStream = _\n            new FileStream(fileName, FileMode.Create)\n        Try\n\n            &#39; Write the data to the file, byte by byte.\n            For i As Integer = 0 To dataArray.Length - 1\n                fileStream.WriteByte(dataArray(i))\n            Next i\n\n            &#39; Set the stream position to the beginning of the stream.\n            fileStream.Seek(0, SeekOrigin.Begin)\n\n            &#39; Read and verify the data.\n            For i As Integer = 0 To _\n                CType(fileStream.Length, Integer) - 1\n\n                If dataArray(i) &lt;&gt; fileStream.ReadByte() Then\n                    Console.WriteLine(&quot;Error writing data.&quot;)\n                    Return\n                End If\n            Next i\n            Console.WriteLine(&quot;The data was written to {0} &quot; &amp; _\n                &quot;and verified.&quot;, fileStream.Name)\n        Finally\n            fileStream.Close()\n        End Try\n    \n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"System.IO.FileStream1#1\">using System;\nusing System.IO;\n\nclass FStream\n{\n    static void Main()\n    {\n        const string fileName = &quot;Test#@@#.dat&quot;;\n\n        // Create random data to write to the file.\n        byte[] dataArray = new byte[100000];\n        new Random().NextBytes(dataArray);\n\n        using(FileStream  \n            fileStream = new FileStream(fileName, FileMode.Create))\n        {\n            // Write the data to the file, byte by byte.\n            for(int i = 0; i &lt; dataArray.Length; i++)\n            {\n                fileStream.WriteByte(dataArray[i]);\n            }\n\n            // Set the stream position to the beginning of the file.\n            fileStream.Seek(0, SeekOrigin.Begin);\n\n            // Read and verify the data.\n            for(int i = 0; i &lt; fileStream.Length; i++)\n            {\n                if(dataArray[i] != fileStream.ReadByte())\n                {\n                    Console.WriteLine(&quot;Error writing data.&quot;);\n                    return;\n                }\n            }\n            Console.WriteLine(&quot;The data was written to {0} &quot; +\n                &quot;and verified.&quot;, fileStream.Name);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream1#1\">using namespace System;\nusing namespace System::IO;\nint main()\n{\n   String^ fileName =  &quot;Test@##@.dat&quot;;\n   \n   // Create random data to write to the file.\n   array&lt;Byte&gt;^dataArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( dataArray );\n   FileStream^ fileStream = gcnew FileStream( fileName,FileMode::Create );\n   try\n   {\n      \n      // Write the data to the file, byte by byte.\n      for ( int i = 0; i &lt; dataArray-&gt;Length; i++ )\n      {\n         fileStream-&gt;WriteByte( dataArray[ i ] );\n\n      }\n      \n      // Set the stream position to the beginning of the file.\n      fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n      \n      // Read and verify the data.\n      for ( int i = 0; i &lt; fileStream-&gt;Length; i++ )\n      {\n         if ( dataArray[ i ] != fileStream-&gt;ReadByte() )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            return  -1;\n         }\n\n      }\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, fileStream-&gt;Name );\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(SafeFileHandle,FileAccess,Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, and buffer size.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access, int bufferSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a> constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The <code>handle</code> parameter is an invalid handle.  </p>\n<p> -or-  </p>\n<p> The <code>handle</code> parameter is a synchronous handle and it was used asynchronously.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>The <code>bufferSize</code> parameter is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p><code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(IntPtr,FileAccess,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission and <code>FileStream</code> instance ownership.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.intptr\" data-linktype=\"relative-path\">IntPtr</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>ownsHandle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>access</code> is not a field of <a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this process owns the handle, a call to the <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close_\" data-linktype=\"relative-path\">Close</a> method will also close the handle and the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the default buffer size of 4096 bytes.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling methods other than <code>Close</code> after you are done using the handle.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileAccess)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, and read/write permission.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object. <span class=\"xref\">stem.IO.FileStream.CanSeek*</span> is <code>true</code> if <code>path</code> specifies a disk file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>mode</code> contains an invalid value.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed). The buffer size is set to the default size of 4096 bytes (4 KB).  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(SafeFileHandle,FileAccess,Int32,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, buffer size, and synchronous or asynchronous state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access, int bufferSize, bool isAsync);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>isAsync</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the handle was opened asynchronously (that is, in overlapped I/O mode); otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The <code>handle</code> parameter is an invalid handle.  </p>\n<p> -or-  </p>\n<p> The <code>handle</code> parameter is a synchronous handle and it was used asynchronously.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>The <code>bufferSize</code> parameter is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>You set the <code>isAsync</code> parameter to <code>true</code> to open the file handle asynchronously. When the parameter is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the parameter does not have to be <code>true</code> to call the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, or <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a> method. When the <code>isAsync</code> parameter is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(IntPtr,FileAccess,Boolean,Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, and buffer size.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle, int bufferSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.intptr\" data-linktype=\"relative-path\">IntPtr</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>ownsHandle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this <code>FileStream</code> owns the handle, a call to the <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close_\" data-linktype=\"relative-path\">Close</a> method will also close the handle. In particular, the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the specified buffer size.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileAccess,FileShare)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write permission, and sharing permission.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object. <span class=\"xref\">stem.IO.FileStream.CanSeek*</span> is <code>true</code> if <code>path</code> specifies a disk file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The system is running Windows 98 or Windows 98 Second Edition and <code>share</code> is set to <code>FileShare.Delete</code>.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>mode</code> contains an invalid value.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed). The buffer size is set to the default size of 4096 bytes (4 KB).  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Lock_\" data-linktype=\"relative-path\">Lock</a> method.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream3#2\">        using(FileStream fileStream = new FileStream(\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, \n            FileAccess.ReadWrite, FileShare.ReadWrite))\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream3#2\">   FileStream^ fileStream = gcnew FileStream( &quot;Test#@@#.dat&quot;,FileMode::OpenOrCreate,FileAccess::ReadWrite,FileShare::ReadWrite );\n   \n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream3#2\">        Dim aFileStream As New FileStream( _\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, _\n            FileAccess.ReadWrite, FileShare.ReadWrite)\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(IntPtr,FileAccess,Boolean,Int32,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, buffer size, and synchronous or asynchronous state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle, int bufferSize, bool isAsync);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>handle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.intptr\" data-linktype=\"relative-path\">IntPtr</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that sets the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>ownsHandle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>isAsync</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the handle was opened asynchronously (that is, in overlapped I/O mode); otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>access</code> is less than <code>FileAccess.Read</code> or greater than <code>FileAccess.ReadWrite</code> or <code>bufferSize</code> is less than or equal to 0.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The handle is invalid.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as a disk error, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified file handle, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file handle is set for read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this <code>FileStream</code> owns the handle, a call to the <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Close_\" data-linktype=\"relative-path\">Close</a> method will also close the handle. In particular, the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the specified buffer size.  </p>\n<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_\" data-linktype=\"relative-path\">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>\n<p> <code>FileShare.Read</code> is the default for those <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileAccess,FileShare,Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, and buffer size.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object. <span class=\"xref\">stem.IO.FileStream.CanSeek*</span> is <code>true</code> if <code>path</code> specifies a disk file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative or zero.  </p>\n<p> -or-  </p>\n<p> <code>mode</code>, <code>access</code>, or <code>share</code> contain an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The system is running Windows 98 or Windows 98 Second Edition and <code>share</code> is set to <code>FileShare.Delete</code>.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, buffer size, and synchronous or asynchronous state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize, bool useAsync);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object. <span class=\"xref\">stem.IO.FileStream.CanSeek*</span> is <code>true</code> if <code>path</code> specifies a disk file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096..</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>useAsync</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>Specifies whether to use asynchronous I/O or synchronous I/O. However, note that the underlying operating system might not support asynchronous I/O, so when specifying <code>true</code>, the handle might be opened synchronously depending on the platform. When opened asynchronously, the <span class=\"xref\">stem.IO.FileStream.BeginRead*</span> and <span class=\"xref\">stem.IO.FileStream.BeginWrite*</span> methods perform better on large reads or writes, but they might be much slower for small reads or writes. If the application is designed to take advantage of asynchronous I/O, set the <code>useAsync</code> parameter to <code>true</code>. Using asynchronous I/O correctly can speed up applications by as much as a factor of 10, but using it without redesigning the application for asynchronous I/O can decrease performance by as much as a factor of 10.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative or zero.  </p>\n<p> -or-  </p>\n<p> <code>mode</code>, <code>access</code>, or <code>share</code> contain an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The system is running Windows 98 or Windows 98 Second Edition and <code>share</code> is set to <code>FileShare.Delete</code>.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example shows how to asynchronously write data to a file and then verify that the data was written correctly. A <code>State</code> object is created to pass information from the main thread to the <code>EndReadCallback</code> and <code>EndWriteCallback</code> methods.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#1\">using System;\nusing System.IO;\nusing System.Threading;\n\nclass FStream\n{\n    static void Main()\n    {\n        // Create a synchronization object that gets \n        // signaled when verification is complete.\n        ManualResetEvent manualEvent = new ManualResetEvent(false);\n\n        // Create random data to write to the file.\n        byte[] writeArray = new byte[100000];\n        new Random().NextBytes(writeArray);\n\n        FileStream fStream = \n            new FileStream(&quot;Test#@@#.dat&quot;, FileMode.Create, \n            FileAccess.ReadWrite, FileShare.None, 4096, true);\n\n        // Check that the FileStream was opened asynchronously.\n        Console.WriteLine(&quot;fStream was {0}opened asynchronously.&quot;,\n            fStream.IsAsync ? &quot;&quot; : &quot;not &quot;);\n\n        // Asynchronously write to the file.\n        IAsyncResult asyncResult = fStream.BeginWrite(\n            writeArray, 0, writeArray.Length, \n            new AsyncCallback(EndWriteCallback), \n            new State(fStream, writeArray, manualEvent));\n\n        // Concurrently do other work and then wait \n        // for the data to be written and verified.\n        manualEvent.WaitOne(5000, false);\n    }\n\n    // When BeginWrite is finished writing data to the file, the\n    // EndWriteCallback method is called to end the asynchronous \n    // write operation and then read back and verify the data.\n    static void EndWriteCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        FileStream fStream = tempState.FStream;\n        fStream.EndWrite(asyncResult);\n\n        // Asynchronously read back the written data.\n        fStream.Position = 0;\n        asyncResult = fStream.BeginRead(\n            tempState.ReadArray, 0 , tempState.ReadArray.Length, \n            new AsyncCallback(EndReadCallback), tempState);\n\n        // Concurrently do other work, such as \n        // logging the write operation.\n    }\n\n    // When BeginRead is finished reading data from the file, the \n    // EndReadCallback method is called to end the asynchronous \n    // read operation and then verify the data.\n    static void EndReadCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        int readCount = tempState.FStream.EndRead(asyncResult);\n\n        int i = 0;\n        while(i &lt; readCount)\n        {\n            if(tempState.ReadArray[i] != tempState.WriteArray[i++])\n            {\n                Console.WriteLine(&quot;Error writing data.&quot;);\n                tempState.FStream.Close();\n                return;\n            }\n        }\n        Console.WriteLine(&quot;The data was written to {0} and verified.&quot;,\n            tempState.FStream.Name);\n        tempState.FStream.Close();\n\n        // Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set();\n    }\n\n    // Maintain state information to be passed to \n    // EndWriteCallback and EndReadCallback.\n    class State\n    {\n        // fStream is used to read and write to the file.\n        FileStream fStream;\n\n        // writeArray stores data that is written to the file.\n        byte[] writeArray;\n\n        // readArray stores data that is read from the file.\n        byte[] readArray;\n\n        // manualEvent signals the main thread \n        // when verification is complete.\n        ManualResetEvent manualEvent;\n\n        public State(FileStream fStream, byte[] writeArray, \n            ManualResetEvent manualEvent)\n        {\n            this.fStream   = fStream;\n            this.writeArray = writeArray;\n            this.manualEvent = manualEvent;\n            readArray = new byte[writeArray.Length];\n        }\n\n        public FileStream FStream\n        { get{ return fStream; } }\n\n        public byte[] WriteArray\n        { get{ return writeArray; } }\n\n        public byte[] ReadArray\n        { get{ return readArray; } }\n\n        public ManualResetEvent ManualEvent\n        { get{ return manualEvent; } }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#1\">Imports System\nImports System.IO\nImports System.Threading\n\nClass FStream\n\n    Shared Sub Main()\n\n        &#39; Create a synchronization object that gets \n        &#39; signaled when verification is complete.\n        Dim manualEvent As New ManualResetEvent(False)\n\n        &#39; Create random data to write to the file.\n        Dim writeArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(writeArray)\n\n        Dim fStream As New FileStream(&quot;Test#@@#.dat&quot;, _\n            FileMode.Create, FileAccess.ReadWrite, _\n            FileShare.None, 4096, True)\n\n        &#39; Check that the FileStream was opened asynchronously.\n        If fStream.IsAsync = True\n            Console.WriteLine(&quot;fStream was opened asynchronously.&quot;)\n        Else\n            Console.WriteLine(&quot;fStream was not opened asynchronously.&quot;)\n        End If\n\n        &#39; Asynchronously write to the file.\n        Dim asyncResult As IAsyncResult = fStream.BeginWrite( _\n            writeArray, 0, writeArray.Length, _\n            AddressOf EndWriteCallback , _\n            New State(fStream, writeArray, manualEvent))\n\n        &#39; Concurrently do other work and then wait\n        &#39; for the data to be written and verified.\n        manualEvent.WaitOne(5000, False)\n    End Sub\n\n    &#39; When BeginWrite is finished writing data to the file, the\n    &#39; EndWriteCallback method is called to end the asynchronous \n    &#39; write operation and then read back and verify the data.\n    Private Shared Sub EndWriteCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim fStream As FileStream = tempState.FStream\n        fStream.EndWrite(asyncResult)\n\n        &#39; Asynchronously read back the written data.\n        fStream.Position = 0\n        asyncResult = fStream.BeginRead( _ \n            tempState.ReadArray, 0 , tempState.ReadArray.Length, _\n            AddressOf EndReadCallback, tempState)\n\n        &#39; Concurrently do other work, such as \n        &#39; logging the write operation.\n    End Sub\n\n    &#39; When BeginRead is finished reading data from the file, the \n    &#39; EndReadCallback method is called to end the asynchronous \n    &#39; read operation and then verify the data.\n   Private Shared Sub EndReadCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim readCount As Integer = _\n            tempState.FStream.EndRead(asyncResult)\n\n        Dim i As Integer = 0\n        While(i &lt; readCount)\n            If(tempState.ReadArray(i) &lt;&gt; tempState.WriteArray(i))\n                Console.WriteLine(&quot;Error writing data.&quot;)\n                tempState.FStream.Close()\n                Return\n            End If\n            i += 1\n        End While\n\n        Console.WriteLine(&quot;The data was written to {0} and &quot; &amp; _\n            &quot;verified.&quot;, tempState.FStream.Name)\n        tempState.FStream.Close()\n\n        &#39; Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set()\n    End Sub\n\n    &#39; Maintain state information to be passed to \n    &#39; EndWriteCallback and EndReadCallback.\n    Private Class State\n\n        &#39; fStreamValue is used to read and write to the file.\n        Dim fStreamValue As FileStream\n\n        &#39; writeArrayValue stores data that is written to the file.\n        Dim writeArrayValue As Byte()\n\n        &#39; readArrayValue stores data that is read from the file.\n        Dim readArrayValue As Byte()\n\n        &#39; manualEvent signals the main thread \n        &#39; when verification is complete.\n        Dim manualEventValue As ManualResetEvent \n\n        Sub New(aStream As FileStream, anArray As Byte(), _\n            manualEvent As ManualResetEvent)\n\n            fStreamValue     = aStream\n            writeArrayValue  = anArray\n            manualEventValue = manualEvent\n            readArrayValue   = New Byte(anArray.Length - 1){}\n        End Sub    \n\n            Public ReadOnly Property FStream() As FileStream\n                Get\n                    Return fStreamValue\n                End Get\n            End Property\n\n            Public ReadOnly Property WriteArray() As Byte()\n                Get\n                    Return writeArrayValue\n                End Get\n            End Property\n\n            Public ReadOnly Property ReadArray() As Byte()\n                Get\n                    Return readArrayValue\n                End Get\n            End Property\n\n            Public ReadOnly Property ManualEvent() As ManualResetEvent\n                Get\n                    Return manualEventValue\n                End Get\n            End Property\n    End Class \n   \nEnd Class\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Threading;\n\n// Maintain state information to be passed to \n// EndWriteCallback and EndReadCallback.\nref class State\n{\nprivate:\n\n   // fStream is used to read and write to the file.\n   FileStream^ fStream;\n\n   // writeArray stores data that is written to the file.\n   array&lt;Byte&gt;^writeArray;\n\n   // readArray stores data that is read from the file.\n   array&lt;Byte&gt;^readArray;\n\n   // manualEvent signals the main thread \n   // when verification is complete.\n   ManualResetEvent^ manualEvent;\n\npublic:\n   State( FileStream^ fStream, array&lt;Byte&gt;^writeArray, ManualResetEvent^ manualEvent )\n   {\n      this-&gt;fStream = fStream;\n      this-&gt;writeArray = writeArray;\n      this-&gt;manualEvent = manualEvent;\n      readArray = gcnew array&lt;Byte&gt;(writeArray-&gt;Length);\n   }\n\n\n   property FileStream^ FStream \n   {\n      FileStream^ get()\n      {\n         return fStream;\n      }\n\n   }\n\n   property array&lt;Byte&gt;^ WriteArray \n   {\n      array&lt;Byte&gt;^ get()\n      {\n         return writeArray;\n      }\n\n   }\n\n   property array&lt;Byte&gt;^ ReadArray \n   {\n      array&lt;Byte&gt;^ get()\n      {\n         return readArray;\n      }\n\n   }\n\n   property ManualResetEvent^ ManualEvent \n   {\n      ManualResetEvent^ get()\n      {\n         return manualEvent;\n      }\n\n   }\n\n};\n\nref class FStream\n{\nprivate:\n\n   // When BeginRead is finished reading data from the file, the \n   // EndReadCallback method is called to end the asynchronous \n   // read operation and then verify the data.\n   static void EndReadCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      int readCount = tempState-&gt;FStream-&gt;EndRead( asyncResult );\n      int i = 0;\n      while ( i &lt; readCount )\n      {\n         if ( tempState-&gt;ReadArray[ i ] != tempState-&gt;WriteArray[ i++ ] )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            tempState-&gt;FStream-&gt;Close();\n            return;\n         }\n      }\n\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, tempState-&gt;FStream-&gt;Name );\n      tempState-&gt;FStream-&gt;Close();\n      \n      // Signal the main thread that the verification is finished.\n      tempState-&gt;ManualEvent-&gt;Set();\n   }\n\n\npublic:\n\n   // When BeginWrite is finished writing data to the file, the\n   // EndWriteCallback method is called to end the asynchronous \n   // write operation and then read back and verify the data.\n   static void EndWriteCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      FileStream^ fStream = tempState-&gt;FStream;\n      fStream-&gt;EndWrite( asyncResult );\n      \n      // Asynchronously read back the written data.\n      fStream-&gt;Position = 0;\n      asyncResult = fStream-&gt;BeginRead( tempState-&gt;ReadArray, 0, tempState-&gt;ReadArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndReadCallback ), tempState );\n      \n      // Concurrently do other work, such as \n      // logging the write operation.\n   }\n\n};\n\n\nint main()\n{\n   \n   // Create a synchronization object that gets \n   // signaled when verification is complete.\n   ManualResetEvent^ manualEvent = gcnew ManualResetEvent( false );\n   \n   // Create the data to write to the file.\n   array&lt;Byte&gt;^writeArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( writeArray );\n   FileStream^ fStream = gcnew FileStream(  &quot;Test#@@#.dat&quot;,FileMode::Create,FileAccess::ReadWrite,FileShare::None,4096,true );\n   \n   // Check that the FileStream was opened asynchronously.\n   Console::WriteLine( &quot;fStream was {0}opened asynchronously.&quot;, fStream-&gt;IsAsync ? (String^)&quot;&quot; : &quot;not &quot; );\n   \n   // Asynchronously write to the file.\n   IAsyncResult^ asyncResult = fStream-&gt;BeginWrite( writeArray, 0, writeArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndWriteCallback ), gcnew State( fStream,writeArray,manualEvent ) );\n   \n   // Concurrently do other work and then wait \n   // for the data to be written and verified.\n   manualEvent-&gt;WaitOne( 5000, false );\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_IO_FileOptions_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileAccess,FileShare,Int32,FileOptions)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, read/write and sharing permission, the access other FileStreams can have to the same file, the buffer size, and additional file options.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>access</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileaccess\" data-linktype=\"relative-path\">FileAccess</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <span class=\"xref\">stem.IO.FileStream.CanRead*</span> and <span class=\"xref\">stem.IO.FileStream.CanWrite*</span> properties of the <code>FileStream</code> object. <span class=\"xref\">stem.IO.FileStream.CanSeek*</span> is <code>true</code> if <code>path</code> specifies a disk file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>options</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A value that specifies additional file options.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative or zero.  </p>\n<p> -or-  </p>\n<p> <code>mode</code>, <code>access</code>, or <code>share</code> contain an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.  </p>\n<p> -or-  </p>\n<p> <a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a> is specified for <code>options</code>, but file encryption is not supported on the current platform.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified path, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> The <code>fileOptions</code> parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example writes data to a file and then reads the data using the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.  </p>\n<pre><code class=\"lang-cpp\" name=\"IO.FileStream.ctor1#1\">#using &lt;System.dll&gt;\n\nusing namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\nusing namespace System::Security::AccessControl;\n\nint main()\n{\n    try\n    {\n        // Create a file and write data to it.\n\n        // Create an array of bytes.\n        array&lt;Byte&gt;^ messageByte =\n            Encoding::ASCII-&gt;GetBytes(&quot;Here is some data.&quot;);\n\n        // Create a file using the FileStream class.\n        FileStream^ fWrite = gcnew FileStream(&quot;test.txt&quot;, FileMode::Create,\n            FileAccess::ReadWrite, FileShare::None, 8, FileOptions::None);\n\n        // Write the number of bytes to the file.\n        fWrite-&gt;WriteByte((Byte)messageByte-&gt;Length);\n\n        // Write the bytes to the file.\n        fWrite-&gt;Write(messageByte, 0, messageByte-&gt;Length);\n\n        // Close the stream.\n        fWrite-&gt;Close();\n\n\n        // Open a file and read the number of bytes.\n\n        FileStream^ fRead = gcnew FileStream(&quot;test.txt&quot;, \n            FileMode::Open);\n\n        // The first byte is the string length.\n        int length = (int)fRead-&gt;ReadByte();\n\n        // Create a new byte array for the data.\n        array&lt;Byte&gt;^ readBytes = gcnew array&lt;Byte&gt;(length);\n\n        // Read the data from the file.\n        fRead-&gt;Read(readBytes, 0, readBytes-&gt;Length);\n\n        // Close the stream.\n        fRead-&gt;Close();\n\n        // Display the data.\n        Console::WriteLine(Encoding::ASCII-&gt;GetString(readBytes));\n\n        Console::WriteLine(&quot;Done writing and reading data.&quot;);\n    }\n    catch (IOException^ ex)\n    {\n        Console::WriteLine(ex-&gt;Message);\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"IO.FileStream.ctor1#1\">Imports System\nImports System.IO\nImports System.Text\nImports System.Security.AccessControl\n\n\n\nModule FileStreamExample\n\n    Sub Main()\n        Try\n            &#39; Create a file and write data to it.\n            &#39; Create an array of bytes.\n            Dim messageByte As Byte() = Encoding.ASCII.GetBytes(&quot;Here is some data.&quot;)\n\n            &#39; Create a file using the FileStream class.\n            Dim fWrite As New FileStream(&quot;test.txt&quot;, FileMode.Create, FileAccess.ReadWrite, FileShare.None, 8, FileOptions.None)\n\n            &#39; Write the number of bytes to the file.\n            fWrite.WriteByte(System.Convert.ToByte(messageByte.Length))\n\n            &#39; Write the bytes to the file.\n            fWrite.Write(messageByte, 0, messageByte.Length)\n\n            &#39; Close the stream.\n            fWrite.Close()\n\n\n            &#39; Open a file and read the number of bytes.\n            Dim fRead As New FileStream(&quot;test.txt&quot;, FileMode.Open)\n\n            &#39; The first byte is the string length.\n            Dim length As Integer = Fix(fRead.ReadByte())\n\n            &#39; Create a new byte array for the data.\n            Dim readBytes(length) As Byte\n\n            &#39; Read the data from the file.\n            fRead.Read(readBytes, 0, readBytes.Length)\n\n            &#39; Close the stream.\n            fRead.Close()\n\n            &#39; Display the data.\n            Console.WriteLine(Encoding.ASCII.GetString(readBytes))\n\n            Console.WriteLine(&quot;Done writing and reading data.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n        Console.ReadLine()\n\n    End Sub\nEnd Module\n</code></pre><pre><code class=\"lang-cs\" name=\"IO.FileStream.ctor1#1\">using System;\nusing System.IO;\nusing System.Text;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileStreamExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                // Create a file and write data to it.\n\n                // Create an array of bytes.\n                byte[] messageByte = Encoding.ASCII.GetBytes(&quot;Here is some data.&quot;);\n\n                // Create a file using the FileStream class.\n                FileStream fWrite = new FileStream(&quot;test.txt&quot;, FileMode.Create, FileAccess.ReadWrite, FileShare.None, 8, FileOptions.None);\n\n                // Write the number of bytes to the file.\n                fWrite.WriteByte((byte)messageByte.Length);\n\n                // Write the bytes to the file.\n                fWrite.Write(messageByte, 0, messageByte.Length);\n\n                // Close the stream.\n                fWrite.Close();\n\n                \n                // Open a file and read the number of bytes.\n\n                FileStream fRead = new FileStream(&quot;test.txt&quot;, FileMode.Open);\n\n                // The first byte is the string length.\n                int length = (int)fRead.ReadByte();\n\n                // Create a new byte array for the data.\n                byte[] readBytes = new byte[length];\n\n                // Read the data from the file.\n                fRead.Read(readBytes, 0, readBytes.Length);\n\n                // Close the stream.\n                fRead.Close();\n\n                // Display the data.\n                Console.WriteLine(Encoding.ASCII.GetString(readBytes));\n\n                Console.WriteLine(&quot;Done writing and reading data.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, access rights and sharing permission, the buffer size, and additional file options.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.Security.AccessControl.FileSystemRights rights, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>rights</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines the access rights to use when creating access and audit rules for the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>options</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that specifies additional file options.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative or zero.  </p>\n<p> -or-  </p>\n<p> <code>mode</code>, <code>access</code>, or <code>share</code> contain an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.platformnotsupportedexception\" data-linktype=\"relative-path\">PlatformNotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The current operating system is not Windows NT or later.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.  </p>\n<p> -or-  </p>\n<p> <a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a> is specified for <code>options</code>, but file encryption is not supported on the current platform.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified <code>path</code>, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> Use this FileStream constructor to apply access rights at the point of creation of a file. To access or modify rights on an existing file, consider using the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> and <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> methods.  </p>\n<p> The <code>fileOptions</code> parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_System_Security_AccessControl_FileSecurity_\">\r\n    \r\n            <a id=\"System_IO_FileStream__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions,FileSecurity)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class with the specified path, creation mode, access rights and sharing permission, the buffer size, additional file options, access control and audit security.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public FileStream (string path, System.IO.FileMode mode, System.Security.AccessControl.FileSystemRights rights, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options, System.Security.AccessControl.FileSecurity fileSecurity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>path</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A relative or absolute path for the file that the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object will encapsulate.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mode</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filemode\" data-linktype=\"relative-path\">FileMode</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how to open or create the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>rights</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines the access rights to use when creating access and audit rules for the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>share</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileshare\" data-linktype=\"relative-path\">FileShare</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines how the file will be shared by processes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>bufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A positive <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>options</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that specifies additional file options.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>fileSecurity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A constant that determines the access control and audit security for the file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> is an empty string (&quot;&quot;), contains only white space, or contains one or more invalid characters.  </p>\n<p> -or-  </p>\n<p> <code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in an NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><code>path</code> refers to a non-file device, such as &quot;con:&quot;, &quot;com1:&quot;, &quot;lpt1:&quot;, etc. in a non-NTFS environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>bufferSize</code> is negative or zero.  </p>\n<p> -or-  </p>\n<p> <code>mode</code>, <code>access</code>, or <code>share</code> contain an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.filenotfoundexception\" data-linktype=\"relative-path\">FileNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The file cannot be found, such as when <code>mode</code> is <code>FileMode.Truncate</code> or <code>FileMode.Open</code>, and the file specified by <code>path</code> does not exist. The file must already exist in these modes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as specifying <code>FileMode.CreateNew</code> when the file specified by <code>path</code> already exists, occurred.  </p>\n<p> -or-  </p>\n<p> The stream has been closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.directorynotfoundexception\" data-linktype=\"relative-path\">DirectoryNotFoundException</a></div>\r\n                  </div>\r\n                  <p>The specified path is invalid, such as being on an unmapped drive.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The <code>access</code> requested is not permitted by the operating system for the specified <code>path</code>, such as when <code>access</code> is <code>Write</code> or <code>ReadWrite</code> and the file or directory is set for read-only access.  </p>\n<p> -or-  </p>\n<p> <a class=\"xref\" href=\"system.io.fileoptions\" data-linktype=\"relative-path\">FileOptions</a> is specified for <code>options</code>, but file encryption is not supported on the current platform.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.pathtoolongexception\" data-linktype=\"relative-path\">PathTooLongException</a></div>\r\n                  </div>\r\n                  <p>The specified <code>path</code>, file name, or both exceed the system-defined maximum length. For example, on Windows-based platforms, paths must be less than 248 characters, and file names must be less than 260 characters.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.platformnotsupportedexception\" data-linktype=\"relative-path\">PlatformNotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The current operating system is not Windows NT or later.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\\\.\\PHYSICALDRIVE0 &quot;.  </p>\n<p> Use this FileStream constructor to apply access rights at the point of creation of a file. To access or modify rights on an existing file, consider using the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> and <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> methods.  </p>\n<p> The <code>fileOptions</code> parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.  </p>\n<p> The <code>path</code> parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> <code>path</code> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>\n</div>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> for all <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> objects that encapsulate files. If <code>path</code> indicates a device that does not support seeking, the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property on the resulting <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> is <code>false</code>. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example writes data to a file and then reads the data using the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.  </p>\n<pre><code class=\"lang-cpp\" name=\"IO.FileStream.ctor2#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\nusing namespace System::Security::AccessControl;\nusing namespace System::Security::Principal;\n\nint main()\n{\n    try\n    {\n        // Create a file and write data to it.\n\n        // Create an array of bytes.\n        array&lt;Byte&gt;^ messageByte =\n            Encoding::ASCII-&gt;GetBytes(&quot;Here is some data.&quot;);\n\n        // Specify an access control list (ACL)\n        FileSecurity^ fs = gcnew FileSecurity();\n\n        fs-&gt;AddAccessRule(\n            gcnew FileSystemAccessRule(&quot;MYDOMAIN\\\\MyAccount&quot;,\n            FileSystemRights::Modify, AccessControlType::Allow));\n\n        // Create a file using the FileStream class.\n        FileStream^ fWrite = gcnew FileStream(&quot;test.txt&quot;,\n            FileMode::Create, FileSystemRights::Modify,\n            FileShare::None, 8, FileOptions::None, fs);\n\n        // Write the number of bytes to the file.\n        fWrite-&gt;WriteByte((Byte)messageByte-&gt;Length);\n\n        // Write the bytes to the file.\n        fWrite-&gt;Write(messageByte, 0, messageByte-&gt;Length);\n\n        // Close the stream.\n        fWrite-&gt;Close();\n\n        // Open a file and read the number of bytes.\n\n        FileStream^ fRead = \n            gcnew FileStream(&quot;test.txt&quot;, FileMode::Open);\n\n        // The first byte is the string length.\n        int length = (int)fRead-&gt;ReadByte();\n\n        // Create a new byte array for the data.\n        array&lt;Byte&gt;^ readBytes = gcnew array&lt;Byte&gt;(length);\n\n        // Read the data from the file.\n        fRead-&gt;Read(readBytes, 0, readBytes-&gt;Length);\n\n        // Close the stream.\n        fRead-&gt;Close();\n\n        // Display the data.\n        Console::WriteLine(Encoding::ASCII-&gt;GetString(readBytes));\n\n        Console::WriteLine(&quot;Done writing and reading data.&quot;);\n    }\n\n    catch (IdentityNotMappedException^)\n    {\n        Console::WriteLine(&quot;You need to use your own credentials &quot; +\n            &quot; &#39;MYDOMAIN\\\\MyAccount&#39;.&quot;);\n    }\n\n    catch (IOException^ ex)\n    {\n        Console::WriteLine(ex-&gt;Message);\n    }\n}\n</code></pre><pre><code class=\"lang-cs\" name=\"IO.FileStream.ctor2#1\">using System;\nusing System.IO;\nusing System.Text;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileStreamExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                // Create a file and write data to it.\n\n                // Create an array of bytes.\n                byte[] messageByte = Encoding.ASCII.GetBytes(&quot;Here is some data.&quot;);\n\n                // Specify an access control list (ACL)\n                FileSecurity fs = new FileSecurity();\n\n                fs.AddAccessRule(new FileSystemAccessRule(@&quot;DOMAINNAME\\AccountName&quot;,\n                                                            FileSystemRights.ReadData,\n                                                            AccessControlType.Allow));\n\n                // Create a file using the FileStream class.\n                FileStream fWrite = new FileStream(&quot;test.txt&quot;, FileMode.Create, FileSystemRights.Modify, FileShare.None, 8, FileOptions.None, fs);\n\n                // Write the number of bytes to the file.\n                fWrite.WriteByte((byte)messageByte.Length);\n\n                // Write the bytes to the file.\n                fWrite.Write(messageByte, 0, messageByte.Length);\n\n                // Close the stream.\n                fWrite.Close();\n\n                \n                // Open a file and read the number of bytes.\n\n                FileStream fRead = new FileStream(&quot;test.txt&quot;, FileMode.Open);\n\n                // The first byte is the string length.\n                int length = (int)fRead.ReadByte();\n\n                // Create a new byte array for the data.\n                byte[] readBytes = new byte[length];\n\n                // Read the data from the file.\n                fRead.Read(readBytes, 0, readBytes.Length);\n\n                // Close the stream.\n                fRead.Close();\n\n                // Display the data.\n                Console.WriteLine(Encoding.ASCII.GetString(readBytes));\n\n                Console.WriteLine(&quot;Done writing and reading data.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"IO.FileStream.ctor2#1\">Imports System\nImports System.IO\nImports System.Text\nImports System.Security.AccessControl\n\n\n\nModule FileStreamExample\n\n    Sub Main()\n        Try\n            &#39; Create a file and write data to it.\n            &#39; Create an array of bytes.\n            Dim messageByte As Byte() = Encoding.ASCII.GetBytes(&quot;Here is some data.&quot;)\n\n            &#39; Specify an access control list (ACL)\n            Dim fs As New FileSecurity()\n\n            fs.AddAccessRule(New FileSystemAccessRule(&quot;DOMAINNAME\\AccountName&quot;, FileSystemRights.ReadData, AccessControlType.Allow))\n\n            &#39; Create a file using the FileStream class.\n            Dim fWrite As New FileStream(&quot;test.txt&quot;, FileMode.Create, FileSystemRights.Modify, FileShare.None, 8, FileOptions.None, fs)\n\n            &#39; Write the number of bytes to the file.\n            fWrite.WriteByte(System.Convert.ToByte(messageByte.Length))\n\n            &#39; Write the bytes to the file.\n            fWrite.Write(messageByte, 0, messageByte.Length)\n\n            &#39; Close the stream.\n            fWrite.Close()\n\n\n            &#39; Open a file and read the number of bytes.\n            Dim fRead As New FileStream(&quot;test.txt&quot;, FileMode.Open)\n\n            &#39; The first byte is the string length.\n            Dim length As Integer = Fix(fRead.ReadByte())\n\n            &#39; Create a new byte array for the data.\n            Dim readBytes(length) As Byte\n\n            &#39; Read the data from the file.\n            fRead.Read(readBytes, 0, readBytes.Length)\n\n            &#39; Close the stream.\n            fRead.Close()\n\n            &#39; Display the data.\n            Console.WriteLine(Encoding.ASCII.GetString(readBytes))\n\n            Console.WriteLine(&quot;Done writing and reading data.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n        Console.ReadLine()\n\n    End Sub\nEnd Module\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_CanRead\">\r\n    \r\n            <a id=\"System_IO_FileStream_CanRead_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CanRead</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value indicating whether the current stream supports reading.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override bool CanRead { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the stream supports reading; <code>false</code> if the stream is closed or was opened with write-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If a class derived from <a class=\"xref\" href=\"system.io.stream\" data-linktype=\"relative-path\">Stream</a> does not support reading, calls to the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Read_\" data-linktype=\"relative-path\">Read</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadByte_\" data-linktype=\"relative-path\">ReadByte</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginRead_\" data-linktype=\"relative-path\">BeginRead</a> methods throw a <a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a>.  </p>\n<p> If the stream is closed, this property returns <code>false</code>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example demonstrates a use of the <code>CanRead</code> property. The output of this code is &quot;MyFile.txt is not writable.&quot; To get the output message &quot;MyFile.txt can be both written to and read from.&quot;, change the <code>FileAccess</code> parameter to <code>ReadWrite</code> in the <code>FileStream</code> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"Classic FileStream.CanRead Example#1\">using System;\nusing System.IO;\n \nclass TestRW \n{\n    public static void Main(String[] args)\n    {\n        FileStream fs = new FileStream(&quot;MyFile.txt&quot;, FileMode.OpenOrCreate, FileAccess.Read);\n        if (fs.CanRead &amp;&amp; fs.CanWrite)\n        {\n            Console.WriteLine(&quot;MyFile.txt can be both written to and read from.&quot;);\n        }\n        else if (fs.CanRead)\n        {\n            Console.WriteLine(&quot;MyFile.txt is not writable.&quot;);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"Classic FileStream.CanRead Example#1\">using namespace System;\nusing namespace System::IO;\nint main( void )\n{\n   FileStream^ fs = gcnew FileStream( &quot;MyFile.txt&quot;,FileMode::OpenOrCreate,FileAccess::Read );\n   if ( fs-&gt;CanRead &amp;&amp; fs-&gt;CanWrite )\n   {\n      Console::WriteLine( &quot;MyFile.txt can be both written to and read from.&quot; );\n   }\n   else\n   {\n      Console::WriteLine( &quot;MyFile.txt is not writable&quot; );\n   }\n\n   return 0;\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"Classic FileStream.CanRead Example#1\">Imports System\nImports System.IO\n\nClass TestRW\n\n    Public Shared Sub Main()\n        Dim fs As New FileStream(&quot;MyFile.txt&quot;, FileMode.OpenOrCreate, FileAccess.Read)\n        If fs.CanRead And fs.CanWrite Then\n            Console.WriteLine(&quot;MyFile.txt can be both written to and read from.&quot;)\n        Else\n            If fs.CanRead Then\n                Console.WriteLine(&quot;MyFile.txt is not writable.&quot;)\n            End If\n        End If\n    End Sub\nEnd Class\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_CanSeek\">\r\n    \r\n            <a id=\"System_IO_FileStream_CanSeek_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CanSeek</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value indicating whether the current stream supports seeking.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override bool CanSeek { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the stream supports seeking; <code>false</code> if the stream is closed or if the <code>FileStream</code> was constructed from an operating-system handle such as a pipe or output to the console.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If a class derived from <a class=\"xref\" href=\"system.io.stream\" data-linktype=\"relative-path\">Stream</a> does not support seeking, calls to <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Length_\" data-linktype=\"relative-path\">Length</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_SetLength_\" data-linktype=\"relative-path\">SetLength</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Position_\" data-linktype=\"relative-path\">Position</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Seek_\" data-linktype=\"relative-path\">Seek</a> throw a <a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a>.  </p>\n<p> If the stream is closed, this property returns <code>false</code>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example uses the <code>CanSeek</code> property to check whether a stream supports seeking.  </p>\n<pre><code class=\"lang-cpp\" name=\"fstream canseek#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\n\nint main()\n{\n   String^ path = &quot;c:\\&nbsp;&nbsp;&nbsp;&nbsp;emp\\\\MyTest.txt&quot;;\n   \n   // Delete the file if it exists.\n   if ( File::Exists( path ) )\n   {\n      File::Delete( path );\n   }\n\n   //Create the file.\n   FileStream^ fs = File::Create( path );\n   try\n   {\n      if ( fs-&gt;CanSeek )\n      {\n         Console::WriteLine( &quot;The stream connected to {0} is seekable.&quot;, path );\n      }\n      else\n      {\n         Console::WriteLine( &quot;The stream connected to {0} is not seekable.&quot;, path );\n      }\n   }\n   finally\n   {\n      if ( fs )\n         delete (IDisposable^)fs;\n   }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"fstream canseek#1\">Imports System\nImports System.IO\n\nPublic Class Test\n\n    Public Shared Sub Main()\n        Dim path As String = &quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\MyTest.txt&quot;\n\n        &#39; Delete the file if it exists.\n        If File.Exists(path) Then\n            File.Delete(path)\n        End If\n\n        &#39;Create the file.\n        Dim fs As FileStream = File.Create(path)\n\n        If fs.CanSeek Then\n            Console.WriteLine(&quot;The stream connected to {0} is seekable.&quot;, path)\n        Else\n            Console.WriteLine(&quot;The stream connected to {0} is not seekable.&quot;, path)\n        End If\n\n        fs.Close()\n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"fstream canseek#1\">using System;\nusing System.IO;\nusing System.Text;\n\nclass Test \n{\n\t\n    public static void Main() \n    {\n        string path = @&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\MyTest.txt&quot;;\n\n        // Delete the file if it exists.\n        if (File.Exists(path)) \n        {\n            File.Delete(path);\n        }\n\n        //Create the file.\n        using (FileStream fs = File.Create(path)) \n        {\n            if (fs.CanSeek) \n            {\n                Console.WriteLine(&quot;The stream connected to {0} is seekable.&quot;, path);\n            } \n            else \n            {\n                Console.WriteLine(&quot;The stream connected to {0} is not seekable.&quot;, path);\n            }\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_CanWrite\">\r\n    \r\n            <a id=\"System_IO_FileStream_CanWrite_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CanWrite</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value indicating whether the current stream supports writing.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override bool CanWrite { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the stream supports writing; <code>false</code> if the stream is closed or was opened with read-only access.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If a class derived from <a class=\"xref\" href=\"system.io.stream\" data-linktype=\"relative-path\">Stream</a> does not support writing, a call to <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_SetLength_\" data-linktype=\"relative-path\">SetLength</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Write_\" data-linktype=\"relative-path\">Write</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginWrite_\" data-linktype=\"relative-path\">BeginWrite</a>, or <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteByte_\" data-linktype=\"relative-path\">WriteByte</a> throws a <a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a>.  </p>\n<p> If the stream is closed, this property returns <code>false</code>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example uses the <code>CanWrite</code> property to check whether a stream supports writing.  </p>\n<pre><code class=\"lang-cs\" name=\"fstream canwrite#1\">using System;\nusing System.IO;\nusing System.Text;\n\nclass Test \n{\n\t\n    public static void Main() \n    {\n        string path = @&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\MyTest.txt&quot;;\n\n        // Ensure that the file is readonly.\n        File.SetAttributes(path, File.GetAttributes(path) | FileAttributes.ReadOnly);\n\n        //Create the file.\n        using (FileStream fs = new FileStream (path, FileMode.OpenOrCreate, FileAccess.Read)) \n        {\n            if (fs.CanWrite) \n            {\n                Console.WriteLine(&quot;The stream for file {0} is writable.&quot;, path);\n            } \n            else \n            {\n                Console.WriteLine(&quot;The stream for file {0} is not writable.&quot;, path);\n            }\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"fstream canwrite#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\n\nint main()\n{\n   String^ path = &quot;c:\\&nbsp;&nbsp;&nbsp;&nbsp;emp\\\\MyTest.txt&quot;;\n   \n   // Ensure that the file is readonly.\n   File::SetAttributes( path, static_cast&lt;FileAttributes&gt;(File::GetAttributes( path ) | FileAttributes::ReadOnly) );\n   \n   //Create the file.\n   FileStream^ fs = gcnew FileStream( path,FileMode::OpenOrCreate,FileAccess::Read );\n   try\n   {\n      if ( fs-&gt;CanWrite )\n      {\n         Console::WriteLine( &quot;The stream for file {0} is writable.&quot;, path );\n      }\n      else\n      {\n         Console::WriteLine( &quot;The stream for file {0} is not writable.&quot;, path );\n      }\n   }\n   finally\n   {\n      if ( fs )\n         delete (IDisposable^)fs;\n   }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"fstream canwrite#1\">Imports System\nImports System.IO\n\nPublic Class Test\n\n    Public Shared Sub Main()\n        Dim path As String = &quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\MyTest.txt&quot;\n\n        &#39;Ensure that the file is readonly.\n        File.SetAttributes(path, File.GetAttributes(path) Or FileAttributes.ReadOnly)\n\n        &#39;Create the file.\n        Dim fs As FileStream = New FileStream(path, FileMode.OpenOrCreate, FileAccess.Read)\n\n        If fs.CanWrite Then\n            Console.WriteLine(&quot;The stream connected to {0} is writable.&quot;, path)\n        Else\n            Console.WriteLine(&quot;The stream connected to {0} is not writable.&quot;, path)\n        End If\n        fs.Close()\n    End Sub\nEnd Class\n</code></pre><p> The following is an example using the <code>CanWrite</code> property. The output of this code is &quot;MyFile.txt is writable.&quot; To get the output message &quot;MyFile.txt can be both written to and read from.&quot;, change the <code>FileAccess</code> parameter to <code>ReadWrite</code> in the <code>FileStream</code> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"Classic FileStream.CanWrite Example#1\">using System;\nusing System.IO;\n \nclass TestRW \n{\n    public static void Main(String[] args)\n    {\n        FileStream fs = new FileStream(&quot;MyFile.txt&quot;, FileMode.OpenOrCreate, FileAccess.Write);\n        if (fs.CanRead &amp;&amp; fs.CanWrite)\n        {\n            Console.WriteLine(&quot;MyFile.txt can be both written to and read from.&quot;);\n        }\n        else if (fs.CanWrite)\n        {\n            Console.WriteLine(&quot;MyFile.txt is writable.&quot;);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"Classic FileStream.CanWrite Example#1\">Imports System\nImports System.IO\n\nClass TestRW\n    Public Shared Sub Main()\n        Dim fs As New FileStream(&quot;MyFile.txt&quot;, FileMode.OpenOrCreate, FileAccess.Write)\n\n        If fs.CanRead And fs.CanWrite Then\n            Console.WriteLine(&quot;MyFile.txt can be both written to and read from.&quot;)\n        ElseIf fs.CanWrite Then\n            Console.WriteLine(&quot;MyFile.txt is writable.&quot;)\n        End If\n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cpp\" name=\"Classic FileStream.CanWrite Example#1\">using namespace System;\nusing namespace System::IO;\nint main( void )\n{\n   FileStream^ fs = gcnew FileStream( &quot;MyFile.txt&quot;,FileMode::OpenOrCreate,FileAccess::Write );\n   if ( fs-&gt;CanRead &amp;&amp; fs-&gt;CanWrite )\n   {\n      Console::WriteLine( &quot;MyFile.txt can be both written to and read from.&quot; );\n   }\n   else\n   {\n      Console::WriteLine( &quot;MyFile.txt is writable.&quot; );\n   }\n\n   return 0;\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Handle\">\r\n    \r\n            <a id=\"System_IO_FileStream_Handle_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Handle</div>        \r\n          </div>\r\n    \r\n            <p>Gets the operating system file handle for the file that the current <code>FileStream</code> object encapsulates.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual IntPtr Handle { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.intptr\" data-linktype=\"relative-path\">IntPtr</a></div>\r\n                  </div>\r\n                  <p>The operating system file handle for the file encapsulated by this <code>FileStream</code> object, or -1 if the <code>FileStream</code> has been closed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.securityexception\" data-linktype=\"relative-path\">SecurityException</a></div>\r\n                  </div>\r\n                  <p>The caller does not have the required permission.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This property is an operating system handle for use with operating-system-provided system calls (such as <code>ReadFile</code> on Windows). It will not work with C library functions that expect a file descriptor, such as <code>fread</code>.  </p>\n<p> The operating system handle might have been opened synchronously or asynchronously, depending on which <code>FileStream</code> constructor was called. Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_IsAsync_\" data-linktype=\"relative-path\">IsAsync</a> property to discover whether this handle was opened asynchronously. In Win32, this means the handle was opened for overlapped IO, and it requires different parameters to <code>ReadFile</code> and <code>WriteFile</code>.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> Data corruption might occur if a <code>FileStream</code> is created, its handle is passed, some operation moves the handle&#39;s file pointer, and then the <code>FileStream</code> is used again. Multiple threads cannot safely write to the same file simultaneously, and <code>FileStream</code> buffering code assumes that it exclusively controls the handle. <code>FileStream</code> might throw an <a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a> if <code>FileStream</code> detects that some other process has moved the file pointer. To avoid this, do not write any data into a portion of the file that <code>FileStream</code> might have buffered, and restore the file pointer to the location it had when methods were last called on <code>FileStream</code>.</p>\n</div>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_IsAsync\">\r\n    \r\n            <a id=\"System_IO_FileStream_IsAsync_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IsAsync</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value indicating whether the <code>FileStream</code> was opened asynchronously or synchronously.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual bool IsAsync { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the <code>FileStream</code> was opened asynchronously; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <code>IsAsync</code> property detects whether the <code>FileStream</code> handle was opened asynchronously, enabling your code to use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Handle_\" data-linktype=\"relative-path\">Handle</a> property correctly. In Win32, <code>IsAsync</code> being true means the handle was opened for overlapped I/O, and thus requires different parameters to <code>ReadFile</code> and <code>WriteFile</code>.  </p>\n<p> You specify this value when you create an instance of the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class using a constructor that has an <code>isAsync</code>, <code>useAsync</code>, or <code>options</code> parameter. When the property is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the IsAsync property does not have to be <code>true</code> to call the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, or <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a> method. When the IsAsync property is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#2\">    static void Main()\n    {\n        // Create a synchronization object that gets \n        // signaled when verification is complete.\n        ManualResetEvent manualEvent = new ManualResetEvent(false);\n\n        // Create random data to write to the file.\n        byte[] writeArray = new byte[100000];\n        new Random().NextBytes(writeArray);\n\n        FileStream fStream = \n            new FileStream(&quot;Test#@@#.dat&quot;, FileMode.Create, \n            FileAccess.ReadWrite, FileShare.None, 4096, true);\n\n        // Check that the FileStream was opened asynchronously.\n        Console.WriteLine(&quot;fStream was {0}opened asynchronously.&quot;,\n            fStream.IsAsync ? &quot;&quot; : &quot;not &quot;);\n\n        // Asynchronously write to the file.\n        IAsyncResult asyncResult = fStream.BeginWrite(\n            writeArray, 0, writeArray.Length, \n            new AsyncCallback(EndWriteCallback), \n            new State(fStream, writeArray, manualEvent));\n\n        // Concurrently do other work and then wait \n        // for the data to be written and verified.\n        manualEvent.WaitOne(5000, false);\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#2\">    Shared Sub Main()\n\n        &#39; Create a synchronization object that gets \n        &#39; signaled when verification is complete.\n        Dim manualEvent As New ManualResetEvent(False)\n\n        &#39; Create random data to write to the file.\n        Dim writeArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(writeArray)\n\n        Dim fStream As New FileStream(&quot;Test#@@#.dat&quot;, _\n            FileMode.Create, FileAccess.ReadWrite, _\n            FileShare.None, 4096, True)\n\n        &#39; Check that the FileStream was opened asynchronously.\n        If fStream.IsAsync = True\n            Console.WriteLine(&quot;fStream was opened asynchronously.&quot;)\n        Else\n            Console.WriteLine(&quot;fStream was not opened asynchronously.&quot;)\n        End If\n\n        &#39; Asynchronously write to the file.\n        Dim asyncResult As IAsyncResult = fStream.BeginWrite( _\n            writeArray, 0, writeArray.Length, _\n            AddressOf EndWriteCallback , _\n            New State(fStream, writeArray, manualEvent))\n\n        &#39; Concurrently do other work and then wait\n        &#39; for the data to be written and verified.\n        manualEvent.WaitOne(5000, False)\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#2\">int main()\n{\n   \n   // Create a synchronization object that gets \n   // signaled when verification is complete.\n   ManualResetEvent^ manualEvent = gcnew ManualResetEvent( false );\n   \n   // Create the data to write to the file.\n   array&lt;Byte&gt;^writeArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( writeArray );\n   FileStream^ fStream = gcnew FileStream(  &quot;Test#@@#.dat&quot;,FileMode::Create,FileAccess::ReadWrite,FileShare::None,4096,true );\n   \n   // Check that the FileStream was opened asynchronously.\n   Console::WriteLine( &quot;fStream was {0}opened asynchronously.&quot;, fStream-&gt;IsAsync ? (String^)&quot;&quot; : &quot;not &quot; );\n   \n   // Asynchronously write to the file.\n   IAsyncResult^ asyncResult = fStream-&gt;BeginWrite( writeArray, 0, writeArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndWriteCallback ), gcnew State( fStream,writeArray,manualEvent ) );\n   \n   // Concurrently do other work and then wait \n   // for the data to be written and verified.\n   manualEvent-&gt;WaitOne( 5000, false );\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Length\">\r\n    \r\n            <a id=\"System_IO_FileStream_Length_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Length</div>        \r\n          </div>\r\n    \r\n            <p>Gets the length in bytes of the stream.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override long Length { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </div>\r\n                  <p>A long value representing the length of the stream in bytes.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p><span class=\"xref\">stem.IO.FileStream.CanSeek*</span> for this stream is <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error, such as the file being closed, occurred.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example uses the <code>Length</code> and <code>Position</code> properties to check for an end-of-file condition.  </p>\n<pre><code class=\"lang-cpp\" name=\"Classic FileStream.Length Example#1\">   if ( s-&gt;Length == s-&gt;Position )\n   {\n      Console::WriteLine( &quot;End of file has been reached.&quot; );\n   }\n</code></pre><pre><code class=\"lang-cs\" name=\"Classic FileStream.Length Example#1\"> if( s.Length==s.Position )\n {\n    Console.WriteLine(&quot;End of file has been reached.&quot;);\n }\n</code></pre><pre><code class=\"lang-vb\" name=\"Classic FileStream.Length Example#1\"> If s.Length = s.Position Then\n     Console.WriteLine(&quot;End of file has been reached.&quot;)\n End If\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Name\">\r\n    \r\n            <a id=\"System_IO_FileStream_Name_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Name</div>        \r\n          </div>\r\n    \r\n            <p>Gets the name of the <code>FileStream</code> that was passed to the constructor.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public string Name { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </div>\r\n                  <p>A string that is the name of the <code>FileStream</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#4\">    static void EndReadCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        int readCount = tempState.FStream.EndRead(asyncResult);\n\n        int i = 0;\n        while(i &lt; readCount)\n        {\n            if(tempState.ReadArray[i] != tempState.WriteArray[i++])\n            {\n                Console.WriteLine(&quot;Error writing data.&quot;);\n                tempState.FStream.Close();\n                return;\n            }\n        }\n        Console.WriteLine(&quot;The data was written to {0} and verified.&quot;,\n            tempState.FStream.Name);\n        tempState.FStream.Close();\n\n        // Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set();\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#4\">   Private Shared Sub EndReadCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim readCount As Integer = _\n            tempState.FStream.EndRead(asyncResult)\n\n        Dim i As Integer = 0\n        While(i &lt; readCount)\n            If(tempState.ReadArray(i) &lt;&gt; tempState.WriteArray(i))\n                Console.WriteLine(&quot;Error writing data.&quot;)\n                tempState.FStream.Close()\n                Return\n            End If\n            i += 1\n        End While\n\n        Console.WriteLine(&quot;The data was written to {0} and &quot; &amp; _\n            &quot;verified.&quot;, tempState.FStream.Name)\n        tempState.FStream.Close()\n\n        &#39; Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set()\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#4\">   static void EndReadCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      int readCount = tempState-&gt;FStream-&gt;EndRead( asyncResult );\n      int i = 0;\n      while ( i &lt; readCount )\n      {\n         if ( tempState-&gt;ReadArray[ i ] != tempState-&gt;WriteArray[ i++ ] )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            tempState-&gt;FStream-&gt;Close();\n            return;\n         }\n      }\n\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, tempState-&gt;FStream-&gt;Name );\n      tempState-&gt;FStream-&gt;Close();\n      \n      // Signal the main thread that the verification is finished.\n      tempState-&gt;ManualEvent-&gt;Set();\n   }\n\n\npublic:\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Position\">\r\n    \r\n            <a id=\"System_IO_FileStream_Position_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Position</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets the current position of this stream.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override long Position { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </div>\r\n                  <p>The current position of this stream.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support seeking.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.  </p>\n<p> - or -  </p>\n<p> The position was set to a very large value beyond the end of the stream in Windows 98 or earlier.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>Attempted to set the position to a negative value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.endofstreamexception\" data-linktype=\"relative-path\">EndOfStreamException</a></div>\r\n                  </div>\r\n                  <p>Attempted seeking past the end of a stream that does not support this.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Seeking to any location beyond the length of the stream is supported.  When you seek beyond the length of the file, the file size grows.  In Microsoft Windows NT and newer, any data added to the end of the file is set to zero.  In Microsoft Windows 98 or earlier, any data added to the end of the file is not set to zero, which means that previously deleted data is visible to the stream. Setting the position of the stream to a large value beyond the end of the stream in Windows 98 or earlier may result in an exception being raised.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example uses the <code>Length</code> and <code>Position</code> properties to check for an end-of-file condition.  </p>\n<pre><code class=\"lang-cpp\" name=\"Classic FileStream.Length Example#1\">   if ( s-&gt;Length == s-&gt;Position )\n   {\n      Console::WriteLine( &quot;End of file has been reached.&quot; );\n   }\n</code></pre><pre><code class=\"lang-cs\" name=\"Classic FileStream.Length Example#1\"> if( s.Length==s.Position )\n {\n    Console.WriteLine(&quot;End of file has been reached.&quot;);\n }\n</code></pre><pre><code class=\"lang-vb\" name=\"Classic FileStream.Length Example#1\"> If s.Length = s.Position Then\n     Console.WriteLine(&quot;End of file has been reached.&quot;)\n End If\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_SafeFileHandle\">\r\n    \r\n            <a id=\"System_IO_FileStream_SafeFileHandle_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SafeFileHandle</div>        \r\n          </div>\r\n    \r\n            <p>Gets a <a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a> object that represents the operating system file handle for the file that the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object encapsulates.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual Microsoft.Win32.SafeHandles.SafeFileHandle SafeFileHandle { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"microsoft.win32.safehandles.safefilehandle\" data-linktype=\"relative-path\">SafeFileHandle</a></div>\r\n                  </div>\r\n                  <p>An object that represents the operating system file handle for the file that the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object encapsulates.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The SafeFileHandle property automatically flushes the stream and sets the current stream position to 0.  This allows the file to be moved or the stream position to be reset by another stream using the SafeFileHandle returned by this property.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_\">\r\n    \r\n            <a id=\"System_IO_FileStream_BeginRead_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</div>        \r\n          </div>\r\n    \r\n            <p>Begins an asynchronous read operation. (Consider using <span class=\"xref\">stem.IO.FileStream.ReadAsync*</span> instead; see the Remarks section.)</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override IAsyncResult BeginRead (byte[] array, int offset, int numBytes, AsyncCallback userCallback, object stateObject);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>array</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The buffer to read data into.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The byte offset in <code>array</code> at which to begin reading.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>numBytes</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to read.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>userCallback</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.asynccallback\" data-linktype=\"relative-path\">AsyncCallback</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The method to be called when the asynchronous read operation is completed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>stateObject</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A user-provided object that distinguishes this particular asynchronous read request from other requests.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </div>\r\n                  <p>An object that references the asynchronous read.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The array length minus <code>offset</code> is less than <code>numBytes</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>array</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>numBytes</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An asynchronous read was attempted past the end of the file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as BeginRead and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndRead_\" data-linktype=\"relative-path\">EndRead</a> to implement asynchronous file operations. These methods are still available in the .NET Framework 4.5 to support legacy code; however, the new async methods, such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_FlushAsync_\" data-linktype=\"relative-path\">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>\n<p> <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndRead_\" data-linktype=\"relative-path\">EndRead</a> must be called exactly once for every call to BeginRead. Failing to end a read process before beginning another read can cause undesirable behavior such as deadlock.  </p>\n<p> <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> provides two different modes of operation: synchronous I/O and asynchronous I/O. While either can be used, the underlying operating system resources might allow access in only one of these modes. By default, <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> opens the operating system handle synchronously. In Windows, this slows down asynchronous methods. If asynchronous methods are used, use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanRead_\" data-linktype=\"relative-path\">CanRead</a> property to determine whether the current instance supports reading. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanRead_\" data-linktype=\"relative-path\">CanRead</a>.  </p>\n</div>\n<p> If a stream is closed or you pass an invalid argument, exceptions are thrown immediately from BeginRead. Errors that occur during an asynchronous read request, such as a disk failure during the IO request, occur on the thread pool thread and become visible upon a call to <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndRead_\" data-linktype=\"relative-path\">EndRead</a>.  </p>\n<p> <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_EndRead_\" data-linktype=\"relative-path\">EndRead</a> must be called with this <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> to find out how many bytes were read.  </p>\n<p> Multiple simultaneous asynchronous requests render the request completion order uncertain.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#3\">    static void EndWriteCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        FileStream fStream = tempState.FStream;\n        fStream.EndWrite(asyncResult);\n\n        // Asynchronously read back the written data.\n        fStream.Position = 0;\n        asyncResult = fStream.BeginRead(\n            tempState.ReadArray, 0 , tempState.ReadArray.Length, \n            new AsyncCallback(EndReadCallback), tempState);\n\n        // Concurrently do other work, such as \n        // logging the write operation.\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#3\">    Private Shared Sub EndWriteCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim fStream As FileStream = tempState.FStream\n        fStream.EndWrite(asyncResult)\n\n        &#39; Asynchronously read back the written data.\n        fStream.Position = 0\n        asyncResult = fStream.BeginRead( _ \n            tempState.ReadArray, 0 , tempState.ReadArray.Length, _\n            AddressOf EndReadCallback, tempState)\n\n        &#39; Concurrently do other work, such as \n        &#39; logging the write operation.\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#3\">   static void EndWriteCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      FileStream^ fStream = tempState-&gt;FStream;\n      fStream-&gt;EndWrite( asyncResult );\n      \n      // Asynchronously read back the written data.\n      fStream-&gt;Position = 0;\n      asyncResult = fStream-&gt;BeginRead( tempState-&gt;ReadArray, 0, tempState-&gt;ReadArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndReadCallback ), tempState );\n      \n      // Concurrently do other work, such as \n      // logging the write operation.\n   }\n\n};\n\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_\">\r\n    \r\n            <a id=\"System_IO_FileStream_BeginWrite_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</div>        \r\n          </div>\r\n    \r\n            <p>Begins an asynchronous write operation. (Consider using <span class=\"xref\">stem.IO.FileStream.WriteAsync*</span> instead; see the Remarks section.)</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override IAsyncResult BeginWrite (byte[] array, int offset, int numBytes, AsyncCallback userCallback, object stateObject);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>array</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The buffer containing data to write to the current stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The zero-based byte offset in <code>array</code> at which to begin copying bytes to the current stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>numBytes</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to write.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>userCallback</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.asynccallback\" data-linktype=\"relative-path\">AsyncCallback</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The method to be called when the asynchronous write operation is completed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>stateObject</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A user-provided object that distinguishes this particular asynchronous write request from other requests.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </div>\r\n                  <p>An object that references the asynchronous write.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>array</code> length minus <code>offset</code> is less than <code>numBytes</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>array</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>numBytes</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support writing.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as BeginWrite and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndWrite_\" data-linktype=\"relative-path\">EndWrite</a> to implement asynchronous file operations. These methods are still available in the .NET Framework 4.5 to support legacy code; however, the new async methods, such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_FlushAsync_\" data-linktype=\"relative-path\">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>\n<p> <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndWrite_\" data-linktype=\"relative-path\">EndWrite</a> must be called exactly once on every <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> from BeginWrite. <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndWrite_\" data-linktype=\"relative-path\">EndWrite</a> will block until the I/O operation has completed.  </p>\n<p> This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_BeginWrite_\" data-linktype=\"relative-path\">BeginWrite</a>.  </p>\n<p> <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> provides two different modes of operation: synchronous I/O and asynchronous I/O. While either can be used, the underlying operating system resources might allow access in only one of these modes. By default, <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> opens the operating system handle synchronously. In Windows, this slows down asynchronous methods. If asynchronous methods are used, use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<p> If a stream is closed or you pass an invalid argument, exceptions are thrown immediately from BeginWrite. Errors that occur during an asynchronous write request, such as a disk failure during the IO request, occur on the thread pool thread and become visible upon a call to <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_EndWrite_\" data-linktype=\"relative-path\">EndWrite</a>.  </p>\n<p> Multiple simultaneous asynchronous requests render the request completion order uncertain.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#2\">    static void Main()\n    {\n        // Create a synchronization object that gets \n        // signaled when verification is complete.\n        ManualResetEvent manualEvent = new ManualResetEvent(false);\n\n        // Create random data to write to the file.\n        byte[] writeArray = new byte[100000];\n        new Random().NextBytes(writeArray);\n\n        FileStream fStream = \n            new FileStream(&quot;Test#@@#.dat&quot;, FileMode.Create, \n            FileAccess.ReadWrite, FileShare.None, 4096, true);\n\n        // Check that the FileStream was opened asynchronously.\n        Console.WriteLine(&quot;fStream was {0}opened asynchronously.&quot;,\n            fStream.IsAsync ? &quot;&quot; : &quot;not &quot;);\n\n        // Asynchronously write to the file.\n        IAsyncResult asyncResult = fStream.BeginWrite(\n            writeArray, 0, writeArray.Length, \n            new AsyncCallback(EndWriteCallback), \n            new State(fStream, writeArray, manualEvent));\n\n        // Concurrently do other work and then wait \n        // for the data to be written and verified.\n        manualEvent.WaitOne(5000, false);\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#2\">    Shared Sub Main()\n\n        &#39; Create a synchronization object that gets \n        &#39; signaled when verification is complete.\n        Dim manualEvent As New ManualResetEvent(False)\n\n        &#39; Create random data to write to the file.\n        Dim writeArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(writeArray)\n\n        Dim fStream As New FileStream(&quot;Test#@@#.dat&quot;, _\n            FileMode.Create, FileAccess.ReadWrite, _\n            FileShare.None, 4096, True)\n\n        &#39; Check that the FileStream was opened asynchronously.\n        If fStream.IsAsync = True\n            Console.WriteLine(&quot;fStream was opened asynchronously.&quot;)\n        Else\n            Console.WriteLine(&quot;fStream was not opened asynchronously.&quot;)\n        End If\n\n        &#39; Asynchronously write to the file.\n        Dim asyncResult As IAsyncResult = fStream.BeginWrite( _\n            writeArray, 0, writeArray.Length, _\n            AddressOf EndWriteCallback , _\n            New State(fStream, writeArray, manualEvent))\n\n        &#39; Concurrently do other work and then wait\n        &#39; for the data to be written and verified.\n        manualEvent.WaitOne(5000, False)\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#2\">int main()\n{\n   \n   // Create a synchronization object that gets \n   // signaled when verification is complete.\n   ManualResetEvent^ manualEvent = gcnew ManualResetEvent( false );\n   \n   // Create the data to write to the file.\n   array&lt;Byte&gt;^writeArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( writeArray );\n   FileStream^ fStream = gcnew FileStream(  &quot;Test#@@#.dat&quot;,FileMode::Create,FileAccess::ReadWrite,FileShare::None,4096,true );\n   \n   // Check that the FileStream was opened asynchronously.\n   Console::WriteLine( &quot;fStream was {0}opened asynchronously.&quot;, fStream-&gt;IsAsync ? (String^)&quot;&quot; : &quot;not &quot; );\n   \n   // Asynchronously write to the file.\n   IAsyncResult^ asyncResult = fStream-&gt;BeginWrite( writeArray, 0, writeArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndWriteCallback ), gcnew State( fStream,writeArray,manualEvent ) );\n   \n   // Concurrently do other work and then wait \n   // for the data to be written and verified.\n   manualEvent-&gt;WaitOne( 5000, false );\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Dispose_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Dispose_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Dispose(Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Releases the unmanaged resources used by the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> and optionally releases the managed resources.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void Dispose (bool disposing);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>disposing</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to release both managed and unmanaged resources; <code>false</code> to release only unmanaged resources.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method is called by the public <a class=\"xref\" href=\"system.componentmodel.component#System_ComponentModel_Component_Dispose_\" data-linktype=\"relative-path\">Dispose</a> method and the <a class=\"xref\" href=\"system.object#System_Object_Finalize_\" data-linktype=\"relative-path\">Finalize</a> method. <a class=\"xref\" href=\"system.componentmodel.component#System_ComponentModel_Component_Dispose_\" data-linktype=\"relative-path\">Dispose</a> invokes the protected Dispose method with the <code>disposing</code> parameter set to <code>true</code>. <a class=\"xref\" href=\"system.object#System_Object_Finalize_\" data-linktype=\"relative-path\">Finalize</a> invokes Dispose with <code>disposing</code> set to <code>false</code>.  </p>\n<p> When the <code>disposing</code> parameter is <code>true</code>, this method releases all resources held by any managed objects that this <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> references. This method invokes the <a class=\"xref\" href=\"system.componentmodel.component#System_ComponentModel_Component_Dispose_\" data-linktype=\"relative-path\">Dispose</a> method of each referenced object.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_EndRead_System_IAsyncResult_\">\r\n    \r\n            <a id=\"System_IO_FileStream_EndRead_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">EndRead(IAsyncResult)</div>        \r\n          </div>\r\n    \r\n            <p>Waits for the pending asynchronous read operation to complete. (Consider using <span class=\"xref\">stem.IO.FileStream.ReadAsync*</span> instead; see the Remarks section.)</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override int EndRead (IAsyncResult asyncResult);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>asyncResult</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The reference to the pending asynchronous request to wait for.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The number of bytes read from the stream, between 0 and the number of bytes you requested. Streams only return 0 at the end of the stream, otherwise, they should block until at least 1 byte is available.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>asyncResult</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>This <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> object was not created by calling <span class=\"xref\">stem.IO.FileStream.BeginRead*</span> on this class.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>EndRead is called multiple times.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed or an internal error has occurred.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginRead_\" data-linktype=\"relative-path\">BeginRead</a> and EndRead to implement asynchronous file operations. These methods are still available in the .NET Framework 4.5 to support legacy code; however, the new async methods, such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_FlushAsync_\" data-linktype=\"relative-path\">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>\n<p> EndRead must be called exactly for every call to <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginRead_\" data-linktype=\"relative-path\">BeginRead</a>. Failing to end a read process before beginning another read can cause undesirable behavior such as deadlock.  </p>\n<p> This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_EndRead_\" data-linktype=\"relative-path\">EndRead</a>.  </p>\n<p> EndRead can be called on every <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> from <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginRead_\" data-linktype=\"relative-path\">BeginRead</a>. Calling EndRead tells you how many bytes were read from the stream. EndRead will block until the I/O operation has completed.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#4\">    static void EndReadCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        int readCount = tempState.FStream.EndRead(asyncResult);\n\n        int i = 0;\n        while(i &lt; readCount)\n        {\n            if(tempState.ReadArray[i] != tempState.WriteArray[i++])\n            {\n                Console.WriteLine(&quot;Error writing data.&quot;);\n                tempState.FStream.Close();\n                return;\n            }\n        }\n        Console.WriteLine(&quot;The data was written to {0} and verified.&quot;,\n            tempState.FStream.Name);\n        tempState.FStream.Close();\n\n        // Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set();\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#4\">   Private Shared Sub EndReadCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim readCount As Integer = _\n            tempState.FStream.EndRead(asyncResult)\n\n        Dim i As Integer = 0\n        While(i &lt; readCount)\n            If(tempState.ReadArray(i) &lt;&gt; tempState.WriteArray(i))\n                Console.WriteLine(&quot;Error writing data.&quot;)\n                tempState.FStream.Close()\n                Return\n            End If\n            i += 1\n        End While\n\n        Console.WriteLine(&quot;The data was written to {0} and &quot; &amp; _\n            &quot;verified.&quot;, tempState.FStream.Name)\n        tempState.FStream.Close()\n\n        &#39; Signal the main thread that the verification is finished.\n        tempState.ManualEvent.Set()\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#4\">   static void EndReadCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      int readCount = tempState-&gt;FStream-&gt;EndRead( asyncResult );\n      int i = 0;\n      while ( i &lt; readCount )\n      {\n         if ( tempState-&gt;ReadArray[ i ] != tempState-&gt;WriteArray[ i++ ] )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            tempState-&gt;FStream-&gt;Close();\n            return;\n         }\n      }\n\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, tempState-&gt;FStream-&gt;Name );\n      tempState-&gt;FStream-&gt;Close();\n      \n      // Signal the main thread that the verification is finished.\n      tempState-&gt;ManualEvent-&gt;Set();\n   }\n\n\npublic:\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_EndWrite_System_IAsyncResult_\">\r\n    \r\n            <a id=\"System_IO_FileStream_EndWrite_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">EndWrite(IAsyncResult)</div>        \r\n          </div>\r\n    \r\n            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <span class=\"xref\">stem.IO.FileStream.WriteAsync*</span> instead; see the Remarks section.)</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override void EndWrite (IAsyncResult asyncResult);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>asyncResult</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The pending asynchronous I/O request.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>asyncResult</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>This <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> object was not created by calling <span class=\"xref\">stem.IO.Stream.BeginWrite*</span> on this class.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>EndWrite is called multiple times.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed or an internal error has occurred.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginWrite_\" data-linktype=\"relative-path\">BeginWrite</a> and EndWrite to implement asynchronous file operations. These methods are still available in the .NET Framework 4.5 to support legacy code; however, the new async methods, such as <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_ReadAsync_\" data-linktype=\"relative-path\">ReadAsync</a>, <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_WriteAsync_\" data-linktype=\"relative-path\">WriteAsync</a>, <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CopyToAsync_\" data-linktype=\"relative-path\">CopyToAsync</a>, and <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_FlushAsync_\" data-linktype=\"relative-path\">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>\n<p> This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_EndWrite_\" data-linktype=\"relative-path\">EndWrite</a>.  </p>\n<p> EndWrite must be called exactly once on every <a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a> from <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_BeginWrite_\" data-linktype=\"relative-path\">BeginWrite</a>. EndWrite will block until the I/O operation has completed.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_\" data-linktype=\"relative-path\">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream2#3\">    static void EndWriteCallback(IAsyncResult asyncResult)\n    {\n        State tempState = (State)asyncResult.AsyncState;\n        FileStream fStream = tempState.FStream;\n        fStream.EndWrite(asyncResult);\n\n        // Asynchronously read back the written data.\n        fStream.Position = 0;\n        asyncResult = fStream.BeginRead(\n            tempState.ReadArray, 0 , tempState.ReadArray.Length, \n            new AsyncCallback(EndReadCallback), tempState);\n\n        // Concurrently do other work, such as \n        // logging the write operation.\n    }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream2#3\">    Private Shared Sub EndWriteCallback(asyncResult As IAsyncResult)\n        Dim tempState As State = _\n            DirectCast(asyncResult.AsyncState, State)\n        Dim fStream As FileStream = tempState.FStream\n        fStream.EndWrite(asyncResult)\n\n        &#39; Asynchronously read back the written data.\n        fStream.Position = 0\n        asyncResult = fStream.BeginRead( _ \n            tempState.ReadArray, 0 , tempState.ReadArray.Length, _\n            AddressOf EndReadCallback, tempState)\n\n        &#39; Concurrently do other work, such as \n        &#39; logging the write operation.\n    End Sub\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream2#3\">   static void EndWriteCallback( IAsyncResult^ asyncResult )\n   {\n      State^ tempState = dynamic_cast&lt;State^&gt;(asyncResult-&gt;AsyncState);\n      FileStream^ fStream = tempState-&gt;FStream;\n      fStream-&gt;EndWrite( asyncResult );\n      \n      // Asynchronously read back the written data.\n      fStream-&gt;Position = 0;\n      asyncResult = fStream-&gt;BeginRead( tempState-&gt;ReadArray, 0, tempState-&gt;ReadArray-&gt;Length, gcnew AsyncCallback( &amp;FStream::EndReadCallback ), tempState );\n      \n      // Concurrently do other work, such as \n      // logging the write operation.\n   }\n\n};\n\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Finalize\">\r\n    \r\n            <a id=\"System_IO_FileStream_Finalize_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Finalize()</div>        \r\n          </div>\r\n    \r\n            <p>Ensures that resources are freed and other cleanup operations are performed when the garbage collector reclaims the <code>FileStream</code>.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">~FileStream ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The garbage collector calls <code>Finalize</code> when the current object is ready to be finalized. <code>Finalize</code> closes the <code>FileStream</code>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Flush\">\r\n    \r\n            <a id=\"System_IO_FileStream_Flush_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Flush()</div>        \r\n          </div>\r\n    \r\n            <p>Clears buffers for this stream and causes any buffered data to be written to the file.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override void Flush ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Flush_\" data-linktype=\"relative-path\">Flush</a>.  </p>\n<p> When you call the Flush method, the operating system I/O buffer is also flushed.  </p>\n<p> A streamâ€™s encoder is not flushed unless you explicitly call Flush or dispose of the object. Setting <a class=\"xref\" href=\"system.io.streamwriter#System_IO_StreamWriter_AutoFlush_\" data-linktype=\"relative-path\">AutoFlush</a> to <code>true</code> means that data will be flushed from the buffer to the stream, but the encoder state will not be flushed. This allows the encoder to keep its state (partial characters) so that it can encode the next block of characters correctly. This scenario affects UTF8 and UTF7 where certain characters can only be encoded after the encoder receives the adjacent character or characters.  </p>\n<p> Because a buffer can be used for either reading or writing, Flush performs the following two functions:  </p>\n<ul>\n<li><p>Any data previously written to the buffer is copied to the file and the buffer is cleared except for its encoder state.  </p>\n</li>\n<li><p>If <a class=\"xref\" href=\"system.io.bufferedstream#System_IO_BufferedStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> is <code>true</code> and data was previously copied from the file to the buffer for reading, the current position within the file is decremented by the number of unread bytes in the buffer. The buffer is then cleared.  </p>\n<p>Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Flush_System_Boolean_\" data-linktype=\"relative-path\">Flush(Boolean)</a> method overload when you want to ensure that all buffered data in intermediate file buffers is written to disk.</p>\n</li>\n</ul>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Lock_\" data-linktype=\"relative-path\">Lock</a> method.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream3#4\">                    // Update the file.\n                    case &#39;W&#39;:\n                        try\n                        {\n                            fileStream.Seek(textLength, \n                                SeekOrigin.Begin);\n                            fileStream.Read(\n                                readText, textLength - 1, byteCount);\n                            tempString = new String(\n                                uniEncoding.GetChars(\n                                readText, textLength - 1, byteCount));\n                            recordNumber = int.Parse(tempString) + 1;\n                            fileStream.Seek(\n                                textLength, SeekOrigin.Begin);\n                            fileStream.Write(uniEncoding.GetBytes(\n                                recordNumber.ToString()), \n                                0, byteCount);\n                            fileStream.Flush();\n                            Console.WriteLine(\n                                &quot;Record has been updated.&quot;);\n                        }\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream3#4\">            // Update the file.\n            case &#39;W&#39;:\n               try\n               {\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Read( readText, textLength - 1, byteCount );\n                  tempString = gcnew String( uniEncoding-&gt;GetChars( readText, textLength - 1, byteCount ) );\n                  recordNumber = Int32::Parse( tempString ) + 1;\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Write( uniEncoding-&gt;GetBytes( recordNumber.ToString() ), 0, byteCount );\n                  fileStream-&gt;Flush();\n                  Console::WriteLine( &quot;Record has been updated.&quot; );\n               }\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream3#4\">                    &#39; Update the file.\n                    Case &quot;W&quot;C\n                        Try\n                            aFileStream.Seek(textLength, _\n                                SeekOrigin.Begin)\n                            aFileStream.Read( _\n                                readText, textLength - 1, byteCount)\n                            tempString = New String( _\n                                uniEncoding.GetChars( _\n                                readText, textLength - 1, byteCount))\n                            recordNumber = _\n                                Integer.Parse(tempString) + 1\n                            aFileStream.Seek( _\n                                textLength, SeekOrigin.Begin)\n                            aFileStream.Write(uniEncoding.GetBytes( _\n                                recordNumber.ToString()), 0, byteCount)\n                            aFileStream.Flush()\n                            Console.WriteLine( _\n                                &quot;Record has been updated.&quot;)\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Flush_System_Boolean_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Flush_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Flush(Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Clears buffers for this stream and causes any buffered data to be written to the file, and also clears all intermediate file buffers.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual void Flush (bool flushToDisk);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>flushToDisk</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to flush all intermediate file buffers; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Use this overload when you want to ensure that all buffered data in intermediate file buffers is written to disk.  </p>\n<p> When you call the Flush method, the operating system I/O buffer is also flushed.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_FlushAsync_System_Threading_CancellationToken_\">\r\n    \r\n            <a id=\"System_IO_FileStream_FlushAsync_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">FlushAsync(CancellationToken)</div>        \r\n          </div>\r\n    \r\n            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override System.Threading.Tasks.Task FlushAsync (System.Threading.CancellationToken cancellationToken);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>cancellationToken</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.cancellationtoken\" data-linktype=\"relative-path\">CancellationToken</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The token to monitor for cancellation requests.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.tasks.task\" data-linktype=\"relative-path\">Task</a></div>\r\n                  </div>\r\n                  <p>A task that represents the asynchronous flush operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream has been disposed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When you call the FlushAsync method, the operating system I/O buffer is also flushed.  </p>\n<p> If the operation is canceled before it completes, the returned task contains the <a class=\"xref\" href=\"system.threading.tasks.taskstatus\" data-linktype=\"relative-path\">TaskStatus</a> value for the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Status_\" data-linktype=\"relative-path\">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a> exception in the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Exception_\" data-linktype=\"relative-path\">Exception</a> property.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_GetAccessControl\">\r\n    \r\n            <a id=\"System_IO_FileStream_GetAccessControl_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">GetAccessControl()</div>        \r\n          </div>\r\n    \r\n            <p>Gets a <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> object that encapsulates the access control list (ACL) entries for the file described by the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Security.AccessControl.FileSecurity GetAccessControl ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a></div>\r\n                  </div>\r\n                  <p>An object that encapsulates the access control settings for the file described by the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The file is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred while opening the file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.systemexception\" data-linktype=\"relative-path\">SystemException</a></div>\r\n                  </div>\r\n                  <p>The file could not be found.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>This operation is not supported on the current platform.  </p>\n<p> -or-  </p>\n<p> The caller does not have the required permission.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>While the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class and GetAccessControl can be used to retrieve the access control list (ACL) entries of an existing file, consider using <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method, as it is easier to use.  </p>\n<p> Use the GetAccessControl method to retrieve the ACL entries for a file.  </p>\n<p> An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file. For more information, see <a href=\"../Topic/How%20to:%20Add%20or%20Remove%20Access%20Control%20List%20Entries.md\" data-linktype=\"relative-path\">How to: Add or Remove Access Control List Entries</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Lock_System_Int64_System_Int64_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Lock_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Lock(Int64,Int64)</div>        \r\n          </div>\r\n    \r\n            <p>Prevents other processes from reading from or writing to the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a>.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual void Lock (long position, long length);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>position</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The beginning of the range to lock. The value of this parameter must be equal to or greater than zero (0).</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>length</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The range to be locked.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>position</code> or <code>length</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The file is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>The process cannot access the file because another process has locked a portion of the file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Locking a range of a file stream gives the threads of the locking process exclusive access to that range of the file stream.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example demonstrates how to lock part of a file so another process cannot access that part of the file even though it has read/write access to the file. Run the program simultaneously in different command windows and investigate using the different console input options.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream3#1\">using System;\nusing System.IO;\nusing System.Text;\n\nclass FStreamLock\n{\n    static void Main()\n    {\n        UnicodeEncoding uniEncoding = new UnicodeEncoding();\n        string lastRecordText = \n            &quot;The last processed record number was: &quot;;\n        int textLength = uniEncoding.GetByteCount(lastRecordText);\n        int recordNumber = 13;\n        int byteCount = \n            uniEncoding.GetByteCount(recordNumber.ToString());\n        string tempString;\n\n        using(FileStream fileStream = new FileStream(\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, \n            FileAccess.ReadWrite, FileShare.ReadWrite))\n        {\n            // Write the original file data.\n            if(fileStream.Length == 0)\n            {\n                tempString = \n                    lastRecordText + recordNumber.ToString();\n                fileStream.Write(uniEncoding.GetBytes(tempString), \n                    0, uniEncoding.GetByteCount(tempString));\n            }\n\n            // Allow the user to choose the operation.\n            char consoleInput = &#39;R&#39;;\n            byte[] readText = new byte[fileStream.Length];\n            while(consoleInput != &#39;X&#39;)\n            {\n                Console.Write(\n                    &quot;<br>Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot; + \n                    &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot;);\n\n                if((tempString = Console.ReadLine()).Length == 0)\n                {\n                    break;\n                }\n                consoleInput = char.ToUpper(tempString[0]);\n                switch(consoleInput)\n                {\n                    // Read data from the file and \n                    // write it to the console.\n                    case &#39;R&#39;:\n                        try\n                        {\n                            fileStream.Seek(0, SeekOrigin.Begin);\n                            fileStream.Read(\n                                readText, 0, (int)fileStream.Length);\n                            tempString = new String(\n                                uniEncoding.GetChars(\n                                readText, 0, readText.Length));\n                            Console.WriteLine(tempString);\n                            recordNumber = int.Parse(\n                                tempString.Substring(\n                                tempString.IndexOf(&#39;:&#39;) + 2));\n                        }\n\n                        // Catch the IOException generated if the \n                        // specified part of the file is locked.\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(&quot;{0}: The read &quot; +\n                                &quot;operation could not be performed &quot; +\n                                &quot;because the specified part of the &quot; +\n                                &quot;file is locked.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Update the file.\n                    case &#39;W&#39;:\n                        try\n                        {\n                            fileStream.Seek(textLength, \n                                SeekOrigin.Begin);\n                            fileStream.Read(\n                                readText, textLength - 1, byteCount);\n                            tempString = new String(\n                                uniEncoding.GetChars(\n                                readText, textLength - 1, byteCount));\n                            recordNumber = int.Parse(tempString) + 1;\n                            fileStream.Seek(\n                                textLength, SeekOrigin.Begin);\n                            fileStream.Write(uniEncoding.GetBytes(\n                                recordNumber.ToString()), \n                                0, byteCount);\n                            fileStream.Flush();\n                            Console.WriteLine(\n                                &quot;Record has been updated.&quot;);\n                        }\n\n                        // Catch the IOException generated if the \n                        // specified part of the file is locked.\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The write operation could not &quot; +\n                                &quot;be performed because the specified &quot; +\n                                &quot;part of the file is locked.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Lock the specified part of the file.\n                    case &#39;L&#39;:\n                        try\n                        {\n                            fileStream.Lock(textLength - 1, byteCount);\n                            Console.WriteLine(&quot;The specified part &quot; +\n                                &quot;of file has been locked.&quot;);\n                        }\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The specified part of file is&quot; +\n                                &quot; already locked.&quot;, e.GetType().Name);\n                        }\n                        break;\n\n                    // Unlock the specified part of the file.\n                    case &#39;U&#39;:\n                        try\n                        {\n                            fileStream.Unlock(\n                                textLength - 1, byteCount);\n                            Console.WriteLine(&quot;The specified part &quot; +\n                                &quot;of file has been unlocked.&quot;);\n                        }\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The specified part of file is &quot; +\n                                &quot;not locked by the current process.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Exit the program.\n                    default:\n                        consoleInput = &#39;X&#39;;\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream3#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\nint main()\n{\n   UnicodeEncoding^ uniEncoding = gcnew UnicodeEncoding;\n   String^ lastRecordText = &quot;The last processed record number was: &quot;;\n   int textLength = uniEncoding-&gt;GetByteCount( lastRecordText );\n   int recordNumber = 13;\n   int byteCount = uniEncoding-&gt;GetByteCount( recordNumber.ToString() );\n   String^ tempString;\n   \n   FileStream^ fileStream = gcnew FileStream( &quot;Test#@@#.dat&quot;,FileMode::OpenOrCreate,FileAccess::ReadWrite,FileShare::ReadWrite );\n   \n   try\n   {\n      \n      // Write the original file data.\n      if ( fileStream-&gt;Length == 0 )\n      {\n         tempString = String::Concat( lastRecordText, recordNumber.ToString() );\n         fileStream-&gt;Write( uniEncoding-&gt;GetBytes( tempString ), 0, uniEncoding-&gt;GetByteCount( tempString ) );\n      }\n      \n      // Allow the user to choose the operation.\n      Char consoleInput = &#39;R&#39;;\n      array&lt;Byte&gt;^readText = gcnew array&lt;Byte&gt;(fileStream-&gt;Length);\n      while ( consoleInput != &#39;X&#39; )\n      {\n         Console::Write( &quot;<br>Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot;\n         &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot; );\n         if ( (tempString = Console::ReadLine())-&gt;Length == 0 )\n         {\n            break;\n         }\n         consoleInput = Char::ToUpper( tempString[0] );\n         switch ( consoleInput )\n         {\n            case &#39;R&#39;:\n               try\n               {\n                  fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n                  fileStream-&gt;Read( readText, 0, (int)fileStream-&gt;Length );\n                  tempString = gcnew String( uniEncoding-&gt;GetChars( readText, 0, readText-&gt;Length ) );\n                  Console::WriteLine( tempString );\n                  recordNumber = Int32::Parse( tempString-&gt;Substring( tempString-&gt;IndexOf( &#39;:&#39; ) + 2 ) );\n               }\n               // Catch the IOException generated if the \n               // specified part of the file is locked.\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The read &quot;\n                  &quot;operation could not be performed &quot;\n                  &quot;because the specified part of the &quot;\n                  &quot;file is locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            // Update the file.\n            case &#39;W&#39;:\n               try\n               {\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Read( readText, textLength - 1, byteCount );\n                  tempString = gcnew String( uniEncoding-&gt;GetChars( readText, textLength - 1, byteCount ) );\n                  recordNumber = Int32::Parse( tempString ) + 1;\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Write( uniEncoding-&gt;GetBytes( recordNumber.ToString() ), 0, byteCount );\n                  fileStream-&gt;Flush();\n                  Console::WriteLine( &quot;Record has been updated.&quot; );\n               }\n               // Catch the IOException generated if the \n               // specified part of the file is locked.\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The write operation could not &quot;\n                  &quot;be performed because the specified &quot;\n                  &quot;part of the file is locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               \n               break;\n\n            // Lock the specified part of the file.\n            case &#39;L&#39;:\n               try\n               {\n                  fileStream-&gt;Lock( textLength - 1, byteCount );\n                  Console::WriteLine( &quot;The specified part &quot;\n                  &quot;of file has been locked.&quot; );\n               }\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The specified part of file is&quot;\n                  &quot; already locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            // Unlock the specified part of the file.\n            case &#39;U&#39;:\n               try\n               {\n                  fileStream-&gt;Unlock( textLength - 1, byteCount );\n                  Console::WriteLine( &quot;The specified part &quot;\n                  &quot;of file has been unlocked.&quot; );\n               }\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The specified part of file is &quot;\n                  &quot;not locked by the current process.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            default:\n               \n               // Exit the program.\n               consoleInput = &#39;X&#39;;\n               break;\n         }\n      }\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream3#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nPublic Class FStreamLock\n\n    Shared Sub Main()\n    \n        Dim uniEncoding As New UnicodeEncoding()\n        Dim lastRecordText As String = _\n            &quot;The last processed record number was: &quot;\n        Dim textLength As Integer = _\n            uniEncoding.GetByteCount(lastRecordText)\n        Dim recordNumber As Integer = 13\n        Dim byteCount As Integer = _\n            uniEncoding.GetByteCount(recordNumber.ToString())\n        Dim tempString As String \n\n        Dim aFileStream As New FileStream( _\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, _\n            FileAccess.ReadWrite, FileShare.ReadWrite)\n        \n        Try\n            &#39; Write the original file data.\n            If aFileStream.Length = 0 Then\n                tempString = _\n                    lastRecordText + recordNumber.ToString()\n                aFileStream.Write(uniEncoding.GetBytes(tempString), _\n                    0, uniEncoding.GetByteCount(tempString))\n            End If\n\n            &#39; Allow the user to choose the operation.\n            Dim consoleInput As Char = &quot;R&quot;C\n            Dim readText(CInt(aFileStream.Length)) As Byte\n            While consoleInput &lt;&gt; &quot;X&quot;C\n\n                Console.Write(vbcrLf &amp; _\n                    &quot;Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot; &amp; _ \n                    &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot;)\n\n                tempString = Console.ReadLine()\n                If tempString.Length = 0 Then\n                    Exit While\n                End If\n                consoleInput = Char.ToUpper(tempString.Chars(0))\n                Select consoleInput\n                \n                    &#39; Read data from the file and \n                    &#39; write it to the console.\n                    Case &quot;R&quot;C\n                        Try\n                            aFileStream.Seek(0, SeekOrigin.Begin)\n                            aFileStream.Read( _\n                                readText, 0, CInt(aFileStream.Length))\n                            tempString = New String( _\n                                uniEncoding.GetChars( _\n                                readText, 0, readText.Length))\n                            Console.WriteLine(tempString)\n                            recordNumber = Integer.Parse( _\n                                tempString.Substring( _\n                                tempString.IndexOf(&quot;:&quot;C) + 2))\n\n                        &#39; Catch the IOException generated if the \n                        &#39; specified part of the file is locked.\n                        Catch ex As IOException\n                            Console.WriteLine(&quot;{0}: The read &quot; &amp; _\n                                &quot;operation could not be performed &quot; &amp; _\n                                &quot;because the specified part of the&quot; &amp; _\n                                &quot; file is locked.&quot;, _\n                                ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Update the file.\n                    Case &quot;W&quot;C\n                        Try\n                            aFileStream.Seek(textLength, _\n                                SeekOrigin.Begin)\n                            aFileStream.Read( _\n                                readText, textLength - 1, byteCount)\n                            tempString = New String( _\n                                uniEncoding.GetChars( _\n                                readText, textLength - 1, byteCount))\n                            recordNumber = _\n                                Integer.Parse(tempString) + 1\n                            aFileStream.Seek( _\n                                textLength, SeekOrigin.Begin)\n                            aFileStream.Write(uniEncoding.GetBytes( _\n                                recordNumber.ToString()), 0, byteCount)\n                            aFileStream.Flush()\n                            Console.WriteLine( _\n                                &quot;Record has been updated.&quot;)\n\n                        &#39; Catch the IOException generated if the \n                        &#39; specified part of the file is locked.\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The write operation could &quot; &amp; _\n                                &quot;not be performed because the &quot; &amp; _\n                                &quot;specified part of the file is &quot; &amp; _\n                                &quot;locked.&quot;, ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Lock the specified part of the file.\n                    Case &quot;L&quot;C\n                        Try\n                            aFileStream.Lock(textLength - 1, byteCount)\n                            Console.WriteLine(&quot;The specified part &quot; &amp; _\n                                &quot;of file has been locked.&quot;)\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The specified part of file &quot; &amp; _\n                                &quot;is already locked.&quot;, _\n                                ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Unlock the specified part of the file.\n                    Case &quot;U&quot;C\n                        Try\n                            aFileStream.Unlock( _\n                                textLength - 1, byteCount)\n                            Console.WriteLine(&quot;The specified part &quot; &amp; _\n                                &quot;of file has been unlocked.&quot;)\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The specified part of file &quot; &amp; _\n                                &quot;is not locked by the current &quot; &amp; _\n                                &quot;process.&quot;, ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Exit the program.\n                    Case Else\n                        consoleInput = &quot;X&quot;C\n                        Exit While\n                End Select\n            End While\n\n        Finally\n            aFileStream.Close()    \n        End Try\n\n    End Sub\nEnd Class\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Read_System_Byte___System_Int32_System_Int32_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Read_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Read(Byte[],Int32,Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Reads a block of bytes from the stream and writes the data in a given buffer.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override int Read (byte[] array, int offset, int count);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>array</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>When this method returns, contains the specified byte array with the values between <code>offset</code> and (<code>offset</code> + <code>count</code> - 1<code>)</code> replaced by the bytes read from the current source.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The byte offset in <code>array</code> at which the read bytes will be placed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>count</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to read.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The total number of bytes read into the buffer. This might be less than the number of bytes requested if that number of bytes are not currently available, or zero if the end of the stream is reached.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>array</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>count</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support reading.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> and <code>count</code> describe an invalid range in <code>array</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>Methods were called after the stream was closed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Read_\" data-linktype=\"relative-path\">Read</a>.  </p>\n<p> The <code>offset</code> parameter gives the offset of the byte in <code>array</code> (the buffer index) at which to begin reading, and the <code>count</code> parameter gives the maximum number of bytes to be read from this stream. The returned value is the actual number of bytes read, or zero if the end of the stream is reached. If the read operation is successful, the current position of the stream is advanced by the number of bytes read. If an exception occurs, the current position of the stream is unchanged.  </p>\n<p> The Read method returns zero only after reaching the end of the stream. Otherwise, Read always reads at least one byte from the stream before returning. If no data is available from the stream upon a call to Read, the method will block until at least one byte of data can be returned. An implementation is free to return fewer bytes than requested even if the end of the stream has not been reached.  </p>\n<p> Use <a class=\"xref\" href=\"system.io.binaryreader\" data-linktype=\"relative-path\">BinaryReader</a> for reading primitive data types.  </p>\n<p> Do not interrupt a thread that is performing a read operation. Although the application may appear to run successfully after the thread is unblocked, the interruption can decrease your application&#39;s performance and reliability.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example reads the contents from a <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> and writes it into another <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a>.  </p>\n<pre><code class=\"lang-vb\" name=\"FSRead#1\">Imports System\nImports System.IO\nClass Test\n    \nPublic Shared Sub Main()\n    &#39; Specify a file to read from and to create.\n    Dim pathSource As String = &quot;c:&nbsp;&nbsp;&nbsp;&nbsp;ests\\source.txt&quot;\n    Dim pathNew As String = &quot;c:&nbsp;&nbsp;&nbsp;&nbsp;ests<br>ewfile.txt&quot;\n    Try \n        Using fsSource As FileStream = New FileStream(pathSource, _\n            FileMode.Open, FileAccess.Read)\n            &#39; Read the source file into a byte array.\n                Dim bytes() As Byte = New Byte((fsSource.Length) - 1) {}\n                Dim numBytesToRead As Integer = CType(fsSource.Length,Integer)\n                Dim numBytesRead As Integer = 0\n\n                While (numBytesToRead &gt; 0)\n                    &#39; Read may return anything from 0 to numBytesToRead.\n                    Dim n As Integer = fsSource.Read(bytes, numBytesRead, _\n                        numBytesToRead)\n                    &#39; Break when the end of the file is reached.\n                    If (n = 0) Then\n                        Exit While\n                    End If\n                    numBytesRead = (numBytesRead + n)\n                    numBytesToRead = (numBytesToRead - n)\n\n                End While\n            numBytesToRead = bytes.Length\n\n            &#39; Write the byte array to the other FileStream.\n            Using fsNew As FileStream = New FileStream(pathNew, _\n                FileMode.Create, FileAccess.Write)\n                fsNew.Write(bytes, 0, numBytesToRead)\n            End Using\n        End Using\n    Catch ioEx As FileNotFoundException\n        Console.WriteLine(ioEx.Message)\n    End Try\nEnd Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"FSRead#1\">using System;\nusing System.IO;\n\nclass Test\n{\n\npublic static void Main()\n{\n    // Specify a file to read from and to create.\n    string pathSource = @&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;ests\\source.txt&quot;;\n    string pathNew = @&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;ests<br>ewfile.txt&quot;;\n\n    try\n    {\n\n        using (FileStream fsSource = new FileStream(pathSource,\n            FileMode.Open, FileAccess.Read))\n        {\n\n            // Read the source file into a byte array.\n            byte[] bytes = new byte[fsSource.Length];\n            int numBytesToRead = (int)fsSource.Length;\n            int numBytesRead = 0;\n            while (numBytesToRead &gt; 0)\n            {\n                // Read may return anything from 0 to numBytesToRead.\n                int n = fsSource.Read(bytes, numBytesRead, numBytesToRead);\n\n                // Break when the end of the file is reached.\n                if (n == 0)\n                    break;\n\n                numBytesRead += n;\n                numBytesToRead -= n;\n            }\n             numBytesToRead = bytes.Length;\n\n            // Write the byte array to the other FileStream.\n            using (FileStream fsNew = new FileStream(pathNew,\n                FileMode.Create, FileAccess.Write))\n            {\n                fsNew.Write(bytes, 0, numBytesToRead);\n            }\n        }\n    }\n    catch (FileNotFoundException ioEx)\n    {\n        Console.WriteLine(ioEx.Message);\n    }\n}\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_\">\r\n    \r\n            <a id=\"System_IO_FileStream_ReadAsync_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">ReadAsync(Byte[],Int32,Int32,CancellationToken)</div>        \r\n          </div>\r\n    \r\n            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override System.Threading.Tasks.Task&lt;int&gt; ReadAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>buffer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The buffer to write the data into.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The byte offset in <code>buffer</code> at which to begin writing data from the stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>count</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to read.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>cancellationToken</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.cancellationtoken\" data-linktype=\"relative-path\">CancellationToken</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The token to monitor for cancellation requests.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.tasks.task-1\" data-linktype=\"relative-path\">Task</a>&lt;<a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a>&gt;</div>\r\n                  </div>\r\n                  <p>A task that represents the asynchronous read operation. The value of the <code>TResult</code> parameter contains the total number of bytes read into the buffer. The result value can be less than the number of bytes requested if the number of bytes currently available is less than the requested number, or it can be 0 (zero) if the end of the stream has been reached.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>buffer</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>count</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The sum of <code>offset</code> and <code>count</code> is larger than the buffer length.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support reading.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream has been disposed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>The stream is currently in use by a previous read operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The ReadAsync method enables you to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a Windows 8.x Store app or desktop app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. The async methods are used in conjunction with the <code>async</code> and <code>await</code> keywords in Visual Basic and C#.  </p>\n<p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanRead_\" data-linktype=\"relative-path\">CanRead</a> property to determine whether the current instance supports reading.  </p>\n<p> If the operation is canceled before it completes, the returned task contains the <a class=\"xref\" href=\"system.threading.tasks.taskstatus\" data-linktype=\"relative-path\">TaskStatus</a> value for the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Status_\" data-linktype=\"relative-path\">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a> exception in the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Exception_\" data-linktype=\"relative-path\">Exception</a> property.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example shows how to read from a file asynchronously.  </p>\n<pre><code class=\"lang-vb\" name=\"Asynchronous_File_IO_async#4\">Imports System.IO\nImports System.Text\n\nClass MainWindow\n    Private Async Sub Button_Click(sender As Object, e As RoutedEventArgs)\n        Dim filename As String = &quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\userinputlog.txt&quot;\n\n        Dim result As Byte()\n\n        Using SourceStream As FileStream = File.Open(filename, FileMode.Open)\n            result = New Byte(SourceStream.Length - 1) {}\n            Await SourceStream.ReadAsync(result, 0, CType(SourceStream.Length, Integer))\n        End Using\n\n        UserInput.Text = System.Text.Encoding.ASCII.GetString(result)\n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"Asynchronous_File_IO_async#4\">using System;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.IO;\n\nnamespace WpfApplication1\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private async void Button_Click(object sender, RoutedEventArgs e)\n        {\n            string filename = @&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\userinputlog.txt&quot;;\n            byte[] result;\n\n            using (FileStream SourceStream = File.Open(filename, FileMode.Open))\n            {\n                result = new byte[SourceStream.Length];\n                await SourceStream.ReadAsync(result, 0, (int)SourceStream.Length);\n            }\n\n            UserInput.Text = System.Text.Encoding.ASCII.GetString(result);\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_ReadByte\">\r\n    \r\n            <a id=\"System_IO_FileStream_ReadByte_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">ReadByte()</div>        \r\n          </div>\r\n    \r\n            <p>Reads a byte from the file and advances the read position one byte.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override int ReadByte ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The byte, cast to an <a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a>, or -1 if the end of the stream has been reached.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The current stream does not support reading.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The current stream is closed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_ReadByte_\" data-linktype=\"relative-path\">ReadByte</a>.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanRead_\" data-linktype=\"relative-path\">CanRead</a> property to determine whether the current instance supports reading. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanRead_\" data-linktype=\"relative-path\">CanRead</a>.</p>\n</div>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  </p>\n<pre><code class=\"lang-vb\" name=\"System.IO.FileStream1#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nClass FStream\n\n    Shared Sub Main()\n\n        Const fileName As String = &quot;Test#@@#.dat&quot;\n\n        &#39; Create random data to write to the file.\n        Dim dataArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(dataArray)\n\n        Dim fileStream As FileStream = _\n            new FileStream(fileName, FileMode.Create)\n        Try\n\n            &#39; Write the data to the file, byte by byte.\n            For i As Integer = 0 To dataArray.Length - 1\n                fileStream.WriteByte(dataArray(i))\n            Next i\n\n            &#39; Set the stream position to the beginning of the stream.\n            fileStream.Seek(0, SeekOrigin.Begin)\n\n            &#39; Read and verify the data.\n            For i As Integer = 0 To _\n                CType(fileStream.Length, Integer) - 1\n\n                If dataArray(i) &lt;&gt; fileStream.ReadByte() Then\n                    Console.WriteLine(&quot;Error writing data.&quot;)\n                    Return\n                End If\n            Next i\n            Console.WriteLine(&quot;The data was written to {0} &quot; &amp; _\n                &quot;and verified.&quot;, fileStream.Name)\n        Finally\n            fileStream.Close()\n        End Try\n    \n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"System.IO.FileStream1#1\">using System;\nusing System.IO;\n\nclass FStream\n{\n    static void Main()\n    {\n        const string fileName = &quot;Test#@@#.dat&quot;;\n\n        // Create random data to write to the file.\n        byte[] dataArray = new byte[100000];\n        new Random().NextBytes(dataArray);\n\n        using(FileStream  \n            fileStream = new FileStream(fileName, FileMode.Create))\n        {\n            // Write the data to the file, byte by byte.\n            for(int i = 0; i &lt; dataArray.Length; i++)\n            {\n                fileStream.WriteByte(dataArray[i]);\n            }\n\n            // Set the stream position to the beginning of the file.\n            fileStream.Seek(0, SeekOrigin.Begin);\n\n            // Read and verify the data.\n            for(int i = 0; i &lt; fileStream.Length; i++)\n            {\n                if(dataArray[i] != fileStream.ReadByte())\n                {\n                    Console.WriteLine(&quot;Error writing data.&quot;);\n                    return;\n                }\n            }\n            Console.WriteLine(&quot;The data was written to {0} &quot; +\n                &quot;and verified.&quot;, fileStream.Name);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream1#1\">using namespace System;\nusing namespace System::IO;\nint main()\n{\n   String^ fileName =  &quot;Test@##@.dat&quot;;\n   \n   // Create random data to write to the file.\n   array&lt;Byte&gt;^dataArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( dataArray );\n   FileStream^ fileStream = gcnew FileStream( fileName,FileMode::Create );\n   try\n   {\n      \n      // Write the data to the file, byte by byte.\n      for ( int i = 0; i &lt; dataArray-&gt;Length; i++ )\n      {\n         fileStream-&gt;WriteByte( dataArray[ i ] );\n\n      }\n      \n      // Set the stream position to the beginning of the file.\n      fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n      \n      // Read and verify the data.\n      for ( int i = 0; i &lt; fileStream-&gt;Length; i++ )\n      {\n         if ( dataArray[ i ] != fileStream-&gt;ReadByte() )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            return  -1;\n         }\n\n      }\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, fileStream-&gt;Name );\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Seek_System_Int64_System_IO_SeekOrigin_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Seek_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Seek(Int64,SeekOrigin)</div>        \r\n          </div>\r\n    \r\n            <p>Sets the current position of this stream to the given value.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override long Seek (long offset, System.IO.SeekOrigin origin);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The point relative to <code>origin</code> from which to begin seeking.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>origin</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.seekorigin\" data-linktype=\"relative-path\">SeekOrigin</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>Specifies the beginning, the end, or the current position as a reference point for <code>offset</code>, using a value of type <a class=\"xref\" href=\"system.io.seekorigin\" data-linktype=\"relative-path\">SeekOrigin</a>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </div>\r\n                  <p>The new position in the stream.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support seeking, such as if the <code>FileStream</code> is constructed from a pipe or console output.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>Seeking is attempted before the beginning of the stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>Methods were called after the stream was closed.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Seek_\" data-linktype=\"relative-path\">Seek</a>.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property to determine whether the current instance supports seeking. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n</div>\n<p> You can seek to any location beyond the length of the stream. When you seek beyond the length of the file, the file size grows. In Windows NT and later versions, data added to the end of the file is set to zero. In Windows 98 or earlier versions, data added to the end of the file is not set to zero, which means that previously deleted data is visible to the stream.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  </p>\n<pre><code class=\"lang-vb\" name=\"System.IO.FileStream1#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nClass FStream\n\n    Shared Sub Main()\n\n        Const fileName As String = &quot;Test#@@#.dat&quot;\n\n        &#39; Create random data to write to the file.\n        Dim dataArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(dataArray)\n\n        Dim fileStream As FileStream = _\n            new FileStream(fileName, FileMode.Create)\n        Try\n\n            &#39; Write the data to the file, byte by byte.\n            For i As Integer = 0 To dataArray.Length - 1\n                fileStream.WriteByte(dataArray(i))\n            Next i\n\n            &#39; Set the stream position to the beginning of the stream.\n            fileStream.Seek(0, SeekOrigin.Begin)\n\n            &#39; Read and verify the data.\n            For i As Integer = 0 To _\n                CType(fileStream.Length, Integer) - 1\n\n                If dataArray(i) &lt;&gt; fileStream.ReadByte() Then\n                    Console.WriteLine(&quot;Error writing data.&quot;)\n                    Return\n                End If\n            Next i\n            Console.WriteLine(&quot;The data was written to {0} &quot; &amp; _\n                &quot;and verified.&quot;, fileStream.Name)\n        Finally\n            fileStream.Close()\n        End Try\n    \n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"System.IO.FileStream1#1\">using System;\nusing System.IO;\n\nclass FStream\n{\n    static void Main()\n    {\n        const string fileName = &quot;Test#@@#.dat&quot;;\n\n        // Create random data to write to the file.\n        byte[] dataArray = new byte[100000];\n        new Random().NextBytes(dataArray);\n\n        using(FileStream  \n            fileStream = new FileStream(fileName, FileMode.Create))\n        {\n            // Write the data to the file, byte by byte.\n            for(int i = 0; i &lt; dataArray.Length; i++)\n            {\n                fileStream.WriteByte(dataArray[i]);\n            }\n\n            // Set the stream position to the beginning of the file.\n            fileStream.Seek(0, SeekOrigin.Begin);\n\n            // Read and verify the data.\n            for(int i = 0; i &lt; fileStream.Length; i++)\n            {\n                if(dataArray[i] != fileStream.ReadByte())\n                {\n                    Console.WriteLine(&quot;Error writing data.&quot;);\n                    return;\n                }\n            }\n            Console.WriteLine(&quot;The data was written to {0} &quot; +\n                &quot;and verified.&quot;, fileStream.Name);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream1#1\">using namespace System;\nusing namespace System::IO;\nint main()\n{\n   String^ fileName =  &quot;Test@##@.dat&quot;;\n   \n   // Create random data to write to the file.\n   array&lt;Byte&gt;^dataArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( dataArray );\n   FileStream^ fileStream = gcnew FileStream( fileName,FileMode::Create );\n   try\n   {\n      \n      // Write the data to the file, byte by byte.\n      for ( int i = 0; i &lt; dataArray-&gt;Length; i++ )\n      {\n         fileStream-&gt;WriteByte( dataArray[ i ] );\n\n      }\n      \n      // Set the stream position to the beginning of the file.\n      fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n      \n      // Read and verify the data.\n      for ( int i = 0; i &lt; fileStream-&gt;Length; i++ )\n      {\n         if ( dataArray[ i ] != fileStream-&gt;ReadByte() )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            return  -1;\n         }\n\n      }\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, fileStream-&gt;Name );\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre><p> The following example reads text in the reverse direction, from the end of file to the beginning of the file, by using the various <a class=\"xref\" href=\"system.io.seekorigin\" data-linktype=\"relative-path\">SeekOrigin</a> values with the Seek method.  </p>\n<pre><code class=\"lang-vb\" name=\"System.IO.FileStream.Seek#1\">Imports System\nImports System.IO\n\nPublic Class FSSeek\n    Public Shared Sub Main()\n        Dim offset As Long\n        Dim nextByte As Integer\n\n        &#39; alphabet.txt contains &quot;abcdefghijklmnopqrstuvwxyz&quot;\n        Using fs As New FileStream(&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\alphabet.txt&quot;, FileMode.Open, FileAccess.Read)\n\n            For offset = 1 To fs.Length\n                fs.Seek(-offset, SeekOrigin.End)\n                Console.Write(Convert.ToChar(fs.ReadByte()))\n            Next offset\n            Console.WriteLine()\n\n            fs.Seek(20, SeekOrigin.Begin)\n\n            nextByte = fs.ReadByte()\n            While (nextByte &gt; 0)\n                Console.Write(Convert.ToChar(nextByte))\n                nextByte = fs.ReadByte()\n            End While\n            Console.WriteLine()\n\n        End Using\n    End Sub\nEnd Class\n\n&#39; This code example displays the following output:\n&#39;\n&#39; zyxwvutsrqponmlkjihgfedcba\n&#39; uvwxyz\n</code></pre><pre><code class=\"lang-cs\" name=\"System.IO.FileStream.Seek#1\">using System;\nusing System.IO;\n\npublic class FSSeek\n{\n    public static void Main()\n    {\n        long offset;\n        int nextByte;\n\n        // alphabet.txt contains &quot;abcdefghijklmnopqrstuvwxyz&quot;\n        using (FileStream fs = new FileStream(@&quot;c:&nbsp;&nbsp;&nbsp;&nbsp;emp\\alphabet.txt&quot;, FileMode.Open, FileAccess.Read))\n        {\n            for (offset = 1; offset &lt;= fs.Length; offset++)\n            {\n                fs.Seek(-offset, SeekOrigin.End);\n                Console.Write(Convert.ToChar(fs.ReadByte()));\n            }\n            Console.WriteLine();\n\n            fs.Seek(20, SeekOrigin.Begin);\n\n            while ((nextByte = fs.ReadByte()) &gt; 0)\n            {\n                Console.Write(Convert.ToChar(nextByte));\n            }\n            Console.WriteLine();\n        }\n    }\n}\n// This code example displays the following output:\n//\n// zyxwvutsrqponmlkjihgfedcba\n// uvwxyz\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_SetAccessControl_System_Security_AccessControl_FileSecurity_\">\r\n    \r\n            <a id=\"System_IO_FileStream_SetAccessControl_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SetAccessControl(FileSecurity)</div>        \r\n          </div>\r\n    \r\n            <p>Applies access control list (ACL) entries described by a <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> object to the file described by the current <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> object.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void SetAccessControl (System.Security.AccessControl.FileSecurity fileSecurity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>fileSecurity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An object that describes an ACL entry to apply to the current file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The file is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>fileSecurity</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.systemexception\" data-linktype=\"relative-path\">SystemException</a></div>\r\n                  </div>\r\n                  <p>The file could not be found or modified.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.unauthorizedaccessexception\" data-linktype=\"relative-path\">UnauthorizedAccessException</a></div>\r\n                  </div>\r\n                  <p>The current process does not have access to open the file.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>While the <a class=\"xref\" href=\"system.io.filestream\" data-linktype=\"relative-path\">FileStream</a> class and SetAccessControl can be used on an existing file, consider using the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method as it is easier to use.  </p>\n<p> The SetAccessControl method applies access control list (ACL) entries to a file that represents the noninherited ACL list.  </p>\n<div class=\"CAUTION\"><h5>Caution</h5><p> The ACL specified for the <code>fileSecurity</code> parameter replaces the existing ACL for the file. To add permissions for a new user, use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method to obtain the existing ACL, modify it, and then use SetAccessControl to apply it back to the file.  </p>\n</div>\n<p> An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file. For more information, see <a href=\"../Topic/How%20to:%20Add%20or%20Remove%20Access%20Control%20List%20Entries.md\" data-linktype=\"relative-path\">How to: Add or Remove Access Control List Entries</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_SetLength_System_Int64_\">\r\n    \r\n            <a id=\"System_IO_FileStream_SetLength_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SetLength(Int64)</div>        \r\n          </div>\r\n    \r\n            <p>Sets the length of this stream to the given value.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override void SetLength (long value);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>value</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The new length of the stream.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error has occurred.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support both writing and seeking.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>Attempted to set the <code>value</code> parameter to less than 0.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_SetLength_\" data-linktype=\"relative-path\">SetLength</a>.  </p>\n<p> If the given value is less than the current length of the stream, the stream is truncated. In this scenario, if the current position is greater than the new length, the current position is moved to the last byte of the stream. If the given value is larger than the current length of the stream, the stream is expanded, and the current position remains the same. If the stream is expanded, the contents of the stream between the old and the new length are undefined.  </p>\n<p> A stream must support both writing and seeking for <code>SetLength</code> to work.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a> property to determine whether the current instance supports writing, and the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a> property to determine whether seeking is supported. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a> and <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanSeek_\" data-linktype=\"relative-path\">CanSeek</a>.  </p>\n</div>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Unlock_System_Int64_System_Int64_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Unlock_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Unlock(Int64,Int64)</div>        \r\n          </div>\r\n    \r\n            <p>Allows access by other processes to all or part of a file that was previously locked.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public virtual void Unlock (long position, long length);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>position</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The beginning of the range to unlock.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>length</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The range to be unlocked.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>position</code> or <code>length</code> is negative.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example demonstrates how to lock part of a file so another process cannot access that part of the file even though it has read/write access to the file, and then unlock the specified part of the file . Run the program simultaneously in different command windows and investigate using the different console input options.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream3#1\">using System;\nusing System.IO;\nusing System.Text;\n\nclass FStreamLock\n{\n    static void Main()\n    {\n        UnicodeEncoding uniEncoding = new UnicodeEncoding();\n        string lastRecordText = \n            &quot;The last processed record number was: &quot;;\n        int textLength = uniEncoding.GetByteCount(lastRecordText);\n        int recordNumber = 13;\n        int byteCount = \n            uniEncoding.GetByteCount(recordNumber.ToString());\n        string tempString;\n\n        using(FileStream fileStream = new FileStream(\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, \n            FileAccess.ReadWrite, FileShare.ReadWrite))\n        {\n            // Write the original file data.\n            if(fileStream.Length == 0)\n            {\n                tempString = \n                    lastRecordText + recordNumber.ToString();\n                fileStream.Write(uniEncoding.GetBytes(tempString), \n                    0, uniEncoding.GetByteCount(tempString));\n            }\n\n            // Allow the user to choose the operation.\n            char consoleInput = &#39;R&#39;;\n            byte[] readText = new byte[fileStream.Length];\n            while(consoleInput != &#39;X&#39;)\n            {\n                Console.Write(\n                    &quot;<br>Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot; + \n                    &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot;);\n\n                if((tempString = Console.ReadLine()).Length == 0)\n                {\n                    break;\n                }\n                consoleInput = char.ToUpper(tempString[0]);\n                switch(consoleInput)\n                {\n                    // Read data from the file and \n                    // write it to the console.\n                    case &#39;R&#39;:\n                        try\n                        {\n                            fileStream.Seek(0, SeekOrigin.Begin);\n                            fileStream.Read(\n                                readText, 0, (int)fileStream.Length);\n                            tempString = new String(\n                                uniEncoding.GetChars(\n                                readText, 0, readText.Length));\n                            Console.WriteLine(tempString);\n                            recordNumber = int.Parse(\n                                tempString.Substring(\n                                tempString.IndexOf(&#39;:&#39;) + 2));\n                        }\n\n                        // Catch the IOException generated if the \n                        // specified part of the file is locked.\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(&quot;{0}: The read &quot; +\n                                &quot;operation could not be performed &quot; +\n                                &quot;because the specified part of the &quot; +\n                                &quot;file is locked.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Update the file.\n                    case &#39;W&#39;:\n                        try\n                        {\n                            fileStream.Seek(textLength, \n                                SeekOrigin.Begin);\n                            fileStream.Read(\n                                readText, textLength - 1, byteCount);\n                            tempString = new String(\n                                uniEncoding.GetChars(\n                                readText, textLength - 1, byteCount));\n                            recordNumber = int.Parse(tempString) + 1;\n                            fileStream.Seek(\n                                textLength, SeekOrigin.Begin);\n                            fileStream.Write(uniEncoding.GetBytes(\n                                recordNumber.ToString()), \n                                0, byteCount);\n                            fileStream.Flush();\n                            Console.WriteLine(\n                                &quot;Record has been updated.&quot;);\n                        }\n\n                        // Catch the IOException generated if the \n                        // specified part of the file is locked.\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The write operation could not &quot; +\n                                &quot;be performed because the specified &quot; +\n                                &quot;part of the file is locked.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Lock the specified part of the file.\n                    case &#39;L&#39;:\n                        try\n                        {\n                            fileStream.Lock(textLength - 1, byteCount);\n                            Console.WriteLine(&quot;The specified part &quot; +\n                                &quot;of file has been locked.&quot;);\n                        }\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The specified part of file is&quot; +\n                                &quot; already locked.&quot;, e.GetType().Name);\n                        }\n                        break;\n\n                    // Unlock the specified part of the file.\n                    case &#39;U&#39;:\n                        try\n                        {\n                            fileStream.Unlock(\n                                textLength - 1, byteCount);\n                            Console.WriteLine(&quot;The specified part &quot; +\n                                &quot;of file has been unlocked.&quot;);\n                        }\n                        catch(IOException e)\n                        {\n                            Console.WriteLine(\n                                &quot;{0}: The specified part of file is &quot; +\n                                &quot;not locked by the current process.&quot;, \n                                e.GetType().Name);\n                        }\n                        break;\n\n                    // Exit the program.\n                    default:\n                        consoleInput = &#39;X&#39;;\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream3#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Text;\nint main()\n{\n   UnicodeEncoding^ uniEncoding = gcnew UnicodeEncoding;\n   String^ lastRecordText = &quot;The last processed record number was: &quot;;\n   int textLength = uniEncoding-&gt;GetByteCount( lastRecordText );\n   int recordNumber = 13;\n   int byteCount = uniEncoding-&gt;GetByteCount( recordNumber.ToString() );\n   String^ tempString;\n   \n   FileStream^ fileStream = gcnew FileStream( &quot;Test#@@#.dat&quot;,FileMode::OpenOrCreate,FileAccess::ReadWrite,FileShare::ReadWrite );\n   \n   try\n   {\n      \n      // Write the original file data.\n      if ( fileStream-&gt;Length == 0 )\n      {\n         tempString = String::Concat( lastRecordText, recordNumber.ToString() );\n         fileStream-&gt;Write( uniEncoding-&gt;GetBytes( tempString ), 0, uniEncoding-&gt;GetByteCount( tempString ) );\n      }\n      \n      // Allow the user to choose the operation.\n      Char consoleInput = &#39;R&#39;;\n      array&lt;Byte&gt;^readText = gcnew array&lt;Byte&gt;(fileStream-&gt;Length);\n      while ( consoleInput != &#39;X&#39; )\n      {\n         Console::Write( &quot;<br>Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot;\n         &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot; );\n         if ( (tempString = Console::ReadLine())-&gt;Length == 0 )\n         {\n            break;\n         }\n         consoleInput = Char::ToUpper( tempString[0] );\n         switch ( consoleInput )\n         {\n            case &#39;R&#39;:\n               try\n               {\n                  fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n                  fileStream-&gt;Read( readText, 0, (int)fileStream-&gt;Length );\n                  tempString = gcnew String( uniEncoding-&gt;GetChars( readText, 0, readText-&gt;Length ) );\n                  Console::WriteLine( tempString );\n                  recordNumber = Int32::Parse( tempString-&gt;Substring( tempString-&gt;IndexOf( &#39;:&#39; ) + 2 ) );\n               }\n               // Catch the IOException generated if the \n               // specified part of the file is locked.\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The read &quot;\n                  &quot;operation could not be performed &quot;\n                  &quot;because the specified part of the &quot;\n                  &quot;file is locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            // Update the file.\n            case &#39;W&#39;:\n               try\n               {\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Read( readText, textLength - 1, byteCount );\n                  tempString = gcnew String( uniEncoding-&gt;GetChars( readText, textLength - 1, byteCount ) );\n                  recordNumber = Int32::Parse( tempString ) + 1;\n                  fileStream-&gt;Seek( textLength, SeekOrigin::Begin );\n                  fileStream-&gt;Write( uniEncoding-&gt;GetBytes( recordNumber.ToString() ), 0, byteCount );\n                  fileStream-&gt;Flush();\n                  Console::WriteLine( &quot;Record has been updated.&quot; );\n               }\n               // Catch the IOException generated if the \n               // specified part of the file is locked.\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The write operation could not &quot;\n                  &quot;be performed because the specified &quot;\n                  &quot;part of the file is locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               \n               break;\n\n            // Lock the specified part of the file.\n            case &#39;L&#39;:\n               try\n               {\n                  fileStream-&gt;Lock( textLength - 1, byteCount );\n                  Console::WriteLine( &quot;The specified part &quot;\n                  &quot;of file has been locked.&quot; );\n               }\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The specified part of file is&quot;\n                  &quot; already locked.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            // Unlock the specified part of the file.\n            case &#39;U&#39;:\n               try\n               {\n                  fileStream-&gt;Unlock( textLength - 1, byteCount );\n                  Console::WriteLine( &quot;The specified part &quot;\n                  &quot;of file has been unlocked.&quot; );\n               }\n               catch ( IOException^ e ) \n               {\n                  Console::WriteLine( &quot;{0}: The specified part of file is &quot;\n                  &quot;not locked by the current process.&quot;, e-&gt;GetType()-&gt;Name );\n               }\n\n               break;\n\n            default:\n               \n               // Exit the program.\n               consoleInput = &#39;X&#39;;\n               break;\n         }\n      }\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream3#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nPublic Class FStreamLock\n\n    Shared Sub Main()\n    \n        Dim uniEncoding As New UnicodeEncoding()\n        Dim lastRecordText As String = _\n            &quot;The last processed record number was: &quot;\n        Dim textLength As Integer = _\n            uniEncoding.GetByteCount(lastRecordText)\n        Dim recordNumber As Integer = 13\n        Dim byteCount As Integer = _\n            uniEncoding.GetByteCount(recordNumber.ToString())\n        Dim tempString As String \n\n        Dim aFileStream As New FileStream( _\n            &quot;Test#@@#.dat&quot;, FileMode.OpenOrCreate, _\n            FileAccess.ReadWrite, FileShare.ReadWrite)\n        \n        Try\n            &#39; Write the original file data.\n            If aFileStream.Length = 0 Then\n                tempString = _\n                    lastRecordText + recordNumber.ToString()\n                aFileStream.Write(uniEncoding.GetBytes(tempString), _\n                    0, uniEncoding.GetByteCount(tempString))\n            End If\n\n            &#39; Allow the user to choose the operation.\n            Dim consoleInput As Char = &quot;R&quot;C\n            Dim readText(CInt(aFileStream.Length)) As Byte\n            While consoleInput &lt;&gt; &quot;X&quot;C\n\n                Console.Write(vbcrLf &amp; _\n                    &quot;Enter &#39;R&#39; to read, &#39;W&#39; to write, &#39;L&#39; to &quot; &amp; _ \n                    &quot;lock, &#39;U&#39; to unlock, anything else to exit: &quot;)\n\n                tempString = Console.ReadLine()\n                If tempString.Length = 0 Then\n                    Exit While\n                End If\n                consoleInput = Char.ToUpper(tempString.Chars(0))\n                Select consoleInput\n                \n                    &#39; Read data from the file and \n                    &#39; write it to the console.\n                    Case &quot;R&quot;C\n                        Try\n                            aFileStream.Seek(0, SeekOrigin.Begin)\n                            aFileStream.Read( _\n                                readText, 0, CInt(aFileStream.Length))\n                            tempString = New String( _\n                                uniEncoding.GetChars( _\n                                readText, 0, readText.Length))\n                            Console.WriteLine(tempString)\n                            recordNumber = Integer.Parse( _\n                                tempString.Substring( _\n                                tempString.IndexOf(&quot;:&quot;C) + 2))\n\n                        &#39; Catch the IOException generated if the \n                        &#39; specified part of the file is locked.\n                        Catch ex As IOException\n                            Console.WriteLine(&quot;{0}: The read &quot; &amp; _\n                                &quot;operation could not be performed &quot; &amp; _\n                                &quot;because the specified part of the&quot; &amp; _\n                                &quot; file is locked.&quot;, _\n                                ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Update the file.\n                    Case &quot;W&quot;C\n                        Try\n                            aFileStream.Seek(textLength, _\n                                SeekOrigin.Begin)\n                            aFileStream.Read( _\n                                readText, textLength - 1, byteCount)\n                            tempString = New String( _\n                                uniEncoding.GetChars( _\n                                readText, textLength - 1, byteCount))\n                            recordNumber = _\n                                Integer.Parse(tempString) + 1\n                            aFileStream.Seek( _\n                                textLength, SeekOrigin.Begin)\n                            aFileStream.Write(uniEncoding.GetBytes( _\n                                recordNumber.ToString()), 0, byteCount)\n                            aFileStream.Flush()\n                            Console.WriteLine( _\n                                &quot;Record has been updated.&quot;)\n\n                        &#39; Catch the IOException generated if the \n                        &#39; specified part of the file is locked.\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The write operation could &quot; &amp; _\n                                &quot;not be performed because the &quot; &amp; _\n                                &quot;specified part of the file is &quot; &amp; _\n                                &quot;locked.&quot;, ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Lock the specified part of the file.\n                    Case &quot;L&quot;C\n                        Try\n                            aFileStream.Lock(textLength - 1, byteCount)\n                            Console.WriteLine(&quot;The specified part &quot; &amp; _\n                                &quot;of file has been locked.&quot;)\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The specified part of file &quot; &amp; _\n                                &quot;is already locked.&quot;, _\n                                ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Unlock the specified part of the file.\n                    Case &quot;U&quot;C\n                        Try\n                            aFileStream.Unlock( _\n                                textLength - 1, byteCount)\n                            Console.WriteLine(&quot;The specified part &quot; &amp; _\n                                &quot;of file has been unlocked.&quot;)\n                        Catch ex As IOException\n                            Console.WriteLine( _\n                                &quot;{0}: The specified part of file &quot; &amp; _\n                                &quot;is not locked by the current &quot; &amp; _\n                                &quot;process.&quot;, ex.GetType().Name)\n                        End Try\n                        Exit Select\n\n                    &#39; Exit the program.\n                    Case Else\n                        consoleInput = &quot;X&quot;C\n                        Exit While\n                End Select\n            End While\n\n        Finally\n            aFileStream.Close()    \n        End Try\n\n    End Sub\nEnd Class\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_Write_System_Byte___System_Int32_System_Int32_\">\r\n    \r\n            <a id=\"System_IO_FileStream_Write_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Write(Byte[],Int32,Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Writes a block of bytes to the file stream.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override void Write (byte[] array, int offset, int count);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>array</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The buffer containing data to write to the stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The zero-based byte offset in <code>array</code> from which to begin copying bytes to the stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>count</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to write.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>array</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> and <code>count</code> describe an invalid range in <code>array</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>count</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.io.ioexception\" data-linktype=\"relative-path\">IOException</a></div>\r\n                  </div>\r\n                  <p>An I/O error occurred.  </p>\n<p> - or -  </p>\n<p> Another thread may have caused an unexpected change in the position of the operating system&#39;s file handle.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The current stream instance does not support writing.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_Write_\" data-linktype=\"relative-path\">Write</a>.  </p>\n<p> The <code>offset</code> parameter gives the offset of the byte in <code>array</code> (the buffer index) at which to begin copying, and the <code>count</code> parameter gives the number of bytes that will be written to the stream. If the write operation is successful, the current position of the stream is advanced by the number of bytes written. If an exception occurs, the current position of the stream is unchanged.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a> property to determine whether the current instance supports writing. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a>.  </p>\n</div>\n<p> Do not interrupt a thread that is performing a write operation. Although the application may appear to run successfully after the thread is unblocked, the interruption can decrease your application&#39;s performance and reliability.  </p>\n<p> For a list of common file and directory operations, see <a href=\"../Topic/Common%20I-O%20Tasks.md\" data-linktype=\"relative-path\">Common I/O Tasks</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>This code example is part of a larger example provided for the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_Lock_\" data-linktype=\"relative-path\">Lock</a> method.  </p>\n<pre><code class=\"lang-cs\" name=\"System.IO.FileStream3#3\">            // Write the original file data.\n            if(fileStream.Length == 0)\n            {\n                tempString = \n                    lastRecordText + recordNumber.ToString();\n                fileStream.Write(uniEncoding.GetBytes(tempString), \n                    0, uniEncoding.GetByteCount(tempString));\n            }\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream3#3\">      // Write the original file data.\n      if ( fileStream-&gt;Length == 0 )\n      {\n         tempString = String::Concat( lastRecordText, recordNumber.ToString() );\n         fileStream-&gt;Write( uniEncoding-&gt;GetBytes( tempString ), 0, uniEncoding-&gt;GetByteCount( tempString ) );\n      }\n      \n</code></pre><pre><code class=\"lang-vb\" name=\"System.IO.FileStream3#3\">            &#39; Write the original file data.\n            If aFileStream.Length = 0 Then\n                tempString = _\n                    lastRecordText + recordNumber.ToString()\n                aFileStream.Write(uniEncoding.GetBytes(tempString), _\n                    0, uniEncoding.GetByteCount(tempString))\n            End If\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_\">\r\n    \r\n            <a id=\"System_IO_FileStream_WriteAsync_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">WriteAsync(Byte[],Int32,Int32,CancellationToken)</div>        \r\n          </div>\r\n    \r\n            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override System.Threading.Tasks.Task WriteAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>buffer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a>[]</div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The buffer to write data from.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>offset</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The zero-based byte offset in <code>buffer</code> from which to begin copying bytes to the stream.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>count</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum number of bytes to write.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>cancellationToken</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.cancellationtoken\" data-linktype=\"relative-path\">CancellationToken</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The token to monitor for cancellation requests.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.threading.tasks.task\" data-linktype=\"relative-path\">Task</a></div>\r\n                  </div>\r\n                  <p>A task that represents the asynchronous write operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>buffer</code> is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p><code>offset</code> or <code>count</code> is negative.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The sum of <code>offset</code> and <code>count</code> is larger than the buffer length.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support writing.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream has been disposed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>The stream is currently in use by a previous write operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The WriteAsync method enables you to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a Windows 8.x Store app or desktop app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. The async methods are used in conjunction with the <code>async</code> and <code>await</code> keywords in Visual Basic and C#.  </p>\n<p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a> property to determine whether the current instance supports reading.  </p>\n<p> If the operation is canceled before it completes, the returned task contains the <a class=\"xref\" href=\"system.threading.tasks.taskstatus\" data-linktype=\"relative-path\">TaskStatus</a> value for the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Status_\" data-linktype=\"relative-path\">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a> exception in the <a class=\"xref\" href=\"system.threading.tasks.task#System_Threading_Tasks_Task_Exception_\" data-linktype=\"relative-path\">Exception</a> property.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example shows how to write asynchronously to a file.  </p>\n<pre><code class=\"lang-vb\" name=\"Asynchronous_File_IO_async#3\">Imports System.IO\nImports System.Text\n\nClass MainWindow\n    Private Async Sub Button_Click(sender As Object, e As RoutedEventArgs)\n        Dim uniencoding As UnicodeEncoding = New UnicodeEncoding()\n        Dim filename As String = &quot;c:\\Users\\exampleuser\\Documents\\userinputlog.txt&quot;\n\n        Dim result As Byte() = uniencoding.GetBytes(UserInput.Text)\n\n        Using SourceStream As FileStream = File.Open(filename, FileMode.OpenOrCreate)\n            SourceStream.Seek(0, SeekOrigin.End)\n            Await SourceStream.WriteAsync(result, 0, result.Length)\n        End Using\n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"Asynchronous_File_IO_async#3\">using System;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.IO;\n\nnamespace WpfApplication1\n{\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n\n        private async void Button_Click(object sender, RoutedEventArgs e)\n        {\n            UnicodeEncoding uniencoding = new UnicodeEncoding();\n            string filename = @&quot;c:\\Users\\exampleuser\\Documents\\userinputlog.txt&quot;;\n           \n            byte[] result = uniencoding.GetBytes(UserInput.Text);\n            \n            using (FileStream SourceStream = File.Open(filename, FileMode.OpenOrCreate))\n            {\n                SourceStream.Seek(0, SeekOrigin.End);\n                await SourceStream.WriteAsync(result, 0, result.Length);\n            }\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IO_FileStream_WriteByte_System_Byte_\">\r\n    \r\n            <a id=\"System_IO_FileStream_WriteByte_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">WriteByte(Byte)</div>        \r\n          </div>\r\n    \r\n            <p>Writes a byte to the current position in the file stream.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override void WriteByte (byte value);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>value</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.byte\" data-linktype=\"relative-path\">Byte</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A byte to write to the stream.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.objectdisposedexception\" data-linktype=\"relative-path\">ObjectDisposedException</a></div>\r\n                  </div>\r\n                  <p>The stream is closed.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.notsupportedexception\" data-linktype=\"relative-path\">NotSupportedException</a></div>\r\n                  </div>\r\n                  <p>The stream does not support writing.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method overrides <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_WriteByte_\" data-linktype=\"relative-path\">WriteByte</a>.  </p>\n<p> Use <code>WriteByte</code> to write a byte to a <code>FileStream</code> efficiently. If the stream is closed or not writable, an exception will be thrown.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> Use the <a class=\"xref\" href=\"system.io.filestream#System_IO_FileStream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a> property to determine whether the current instance supports writing. For additional information, see <a class=\"xref\" href=\"system.io.stream#System_IO_Stream_CanWrite_\" data-linktype=\"relative-path\">CanWrite</a>.</p>\n</div>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  </p>\n<pre><code class=\"lang-vb\" name=\"System.IO.FileStream1#1\">Imports Microsoft.VisualBasic\nImports System\nImports System.IO\nImports System.Text\n\nClass FStream\n\n    Shared Sub Main()\n\n        Const fileName As String = &quot;Test#@@#.dat&quot;\n\n        &#39; Create random data to write to the file.\n        Dim dataArray(100000) As Byte\n        Dim randomGenerator As New Random()\n        randomGenerator.NextBytes(dataArray)\n\n        Dim fileStream As FileStream = _\n            new FileStream(fileName, FileMode.Create)\n        Try\n\n            &#39; Write the data to the file, byte by byte.\n            For i As Integer = 0 To dataArray.Length - 1\n                fileStream.WriteByte(dataArray(i))\n            Next i\n\n            &#39; Set the stream position to the beginning of the stream.\n            fileStream.Seek(0, SeekOrigin.Begin)\n\n            &#39; Read and verify the data.\n            For i As Integer = 0 To _\n                CType(fileStream.Length, Integer) - 1\n\n                If dataArray(i) &lt;&gt; fileStream.ReadByte() Then\n                    Console.WriteLine(&quot;Error writing data.&quot;)\n                    Return\n                End If\n            Next i\n            Console.WriteLine(&quot;The data was written to {0} &quot; &amp; _\n                &quot;and verified.&quot;, fileStream.Name)\n        Finally\n            fileStream.Close()\n        End Try\n    \n    End Sub\nEnd Class\n</code></pre><pre><code class=\"lang-cs\" name=\"System.IO.FileStream1#1\">using System;\nusing System.IO;\n\nclass FStream\n{\n    static void Main()\n    {\n        const string fileName = &quot;Test#@@#.dat&quot;;\n\n        // Create random data to write to the file.\n        byte[] dataArray = new byte[100000];\n        new Random().NextBytes(dataArray);\n\n        using(FileStream  \n            fileStream = new FileStream(fileName, FileMode.Create))\n        {\n            // Write the data to the file, byte by byte.\n            for(int i = 0; i &lt; dataArray.Length; i++)\n            {\n                fileStream.WriteByte(dataArray[i]);\n            }\n\n            // Set the stream position to the beginning of the file.\n            fileStream.Seek(0, SeekOrigin.Begin);\n\n            // Read and verify the data.\n            for(int i = 0; i &lt; fileStream.Length; i++)\n            {\n                if(dataArray[i] != fileStream.ReadByte())\n                {\n                    Console.WriteLine(&quot;Error writing data.&quot;);\n                    return;\n                }\n            }\n            Console.WriteLine(&quot;The data was written to {0} &quot; +\n                &quot;and verified.&quot;, fileStream.Name);\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"System.IO.FileStream1#1\">using namespace System;\nusing namespace System::IO;\nint main()\n{\n   String^ fileName =  &quot;Test@##@.dat&quot;;\n   \n   // Create random data to write to the file.\n   array&lt;Byte&gt;^dataArray = gcnew array&lt;Byte&gt;(100000);\n   (gcnew Random)-&gt;NextBytes( dataArray );\n   FileStream^ fileStream = gcnew FileStream( fileName,FileMode::Create );\n   try\n   {\n      \n      // Write the data to the file, byte by byte.\n      for ( int i = 0; i &lt; dataArray-&gt;Length; i++ )\n      {\n         fileStream-&gt;WriteByte( dataArray[ i ] );\n\n      }\n      \n      // Set the stream position to the beginning of the file.\n      fileStream-&gt;Seek( 0, SeekOrigin::Begin );\n      \n      // Read and verify the data.\n      for ( int i = 0; i &lt; fileStream-&gt;Length; i++ )\n      {\n         if ( dataArray[ i ] != fileStream-&gt;ReadByte() )\n         {\n            Console::WriteLine( &quot;Error writing data.&quot; );\n            return  -1;\n         }\n\n      }\n      Console::WriteLine( &quot;The data was written to {0} &quot;\n      &quot;and verified.&quot;, fileStream-&gt;Name );\n   }\n   finally\n   {\n      fileStream-&gt;Close();\n   }\n\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.IO.FileStream.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.IO.FileStream.yml\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream..ctor\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.BeginRead\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.BeginWrite\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.CanRead\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.CanSeek\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.CanWrite\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Dispose\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.EndRead\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.EndWrite\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Finalize\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Flush\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.FlushAsync\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.GetAccessControl\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Handle\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.IsAsync\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Length\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Lock\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Name\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Position\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Read\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.ReadAsync\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.ReadByte\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.SafeFileHandle\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Seek\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.SetAccessControl\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.SetLength\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Unlock\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.Write\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.WriteAsync\">\r\n<meta name=\"APIName\" content=\"System.IO.FileStream.WriteByte\">\r\n<meta name=\"APILocation\" content=\"mscorlib.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"47c491a6-65bd-b1b3-4212-9d15054f3a3d\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Provides a  for a file, supporting both synchronous and asynchronous read and write operations.  \n To browse the .NET Framework source code for this type, see the Reference Source.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.IO/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.IO.FileStream\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix pointer ref","commit_sha":"76befb0e7f7b41839ec719047e5b39a5981298f3","commit_date":"2017-02-28 15:47:23 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.IO.FileStream.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.IO.FileStream.yml","open_to_public_contributors":true,"api_name":["System.IO.FileStream","System.IO.FileStream..ctor","System.IO.FileStream.BeginRead","System.IO.FileStream.BeginWrite","System.IO.FileStream.CanRead","System.IO.FileStream.CanSeek","System.IO.FileStream.CanWrite","System.IO.FileStream.Dispose","System.IO.FileStream.EndRead","System.IO.FileStream.EndWrite","System.IO.FileStream.Finalize","System.IO.FileStream.Flush","System.IO.FileStream.FlushAsync","System.IO.FileStream.GetAccessControl","System.IO.FileStream.Handle","System.IO.FileStream.IsAsync","System.IO.FileStream.Length","System.IO.FileStream.Lock","System.IO.FileStream.Name","System.IO.FileStream.Position","System.IO.FileStream.Read","System.IO.FileStream.ReadAsync","System.IO.FileStream.ReadByte","System.IO.FileStream.SafeFileHandle","System.IO.FileStream.Seek","System.IO.FileStream.SetAccessControl","System.IO.FileStream.SetLength","System.IO.FileStream.Unlock","System.IO.FileStream.Write","System.IO.FileStream.WriteAsync","System.IO.FileStream.WriteByte"],"api_location":["mscorlib.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.IO.FileStream","System::IO::FileStream","System.IO.FileStream.#ctor","System::IO::FileStream::#ctor","System.IO.FileStream.BeginRead","System::IO::FileStream::BeginRead","System.IO.FileStream.BeginWrite","System::IO::FileStream::BeginWrite","System.IO.FileStream.CanRead","System::IO::FileStream::CanRead","System.IO.FileStream.CanSeek","System::IO::FileStream::CanSeek","System.IO.FileStream.CanWrite","System::IO::FileStream::CanWrite","System.IO.FileStream.Dispose","System::IO::FileStream::Dispose","System.IO.FileStream.EndRead","System::IO::FileStream::EndRead","System.IO.FileStream.EndWrite","System::IO::FileStream::EndWrite","System.IO.FileStream.Finalize","System::IO::FileStream::Finalize","System.IO.FileStream.Flush","System::IO::FileStream::Flush","System.IO.FileStream.FlushAsync","System::IO::FileStream::FlushAsync","System.IO.FileStream.GetAccessControl","System::IO::FileStream::GetAccessControl","System.IO.FileStream.Handle","System::IO::FileStream::Handle","System.IO.FileStream.IsAsync","System::IO::FileStream::IsAsync","System.IO.FileStream.Length","System::IO::FileStream::Length","System.IO.FileStream.Lock","System::IO::FileStream::Lock","System.IO.FileStream.Name","System::IO::FileStream::Name","System.IO.FileStream.Position","System::IO::FileStream::Position","System.IO.FileStream.Read","System::IO::FileStream::Read","System.IO.FileStream.ReadAsync","System::IO::FileStream::ReadAsync","System.IO.FileStream.ReadByte","System::IO::FileStream::ReadByte","System.IO.FileStream.SafeFileHandle","System::IO::FileStream::SafeFileHandle","System.IO.FileStream.Seek","System::IO::FileStream::Seek","System.IO.FileStream.SetAccessControl","System::IO::FileStream::SetAccessControl","System.IO.FileStream.SetLength","System::IO::FileStream::SetLength","System.IO.FileStream.Unlock","System::IO::FileStream::Unlock","System.IO.FileStream.Write","System::IO::FileStream::Write","System.IO.FileStream.WriteAsync","System::IO::FileStream::WriteAsync","System.IO.FileStream.WriteByte","System::IO::FileStream::WriteByte"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"47c491a6-65bd-b1b3-4212-9d15054f3a3d","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.IO/FileStream.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"FileStream class | Microsoft Docs","_op_ogTitle":"FileStream class","description":"Provides a  for a file, supporting both synchronous and asynchronous read and write operations.  \n To browse the .NET Framework source code for this type, see the Reference Source.\n","toc_asset_id":"_splitted/System.IO/toc.json","toc_rel":"_splitted/System.IO/toc.json","source_url":"","ms.assetid":"System.IO.FileStream","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.io.filestream","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.io.filestream","fileRelativePath":"System.IO.FileStream.html"},"themesRelativePathToOutputRoot":"_themes/"}