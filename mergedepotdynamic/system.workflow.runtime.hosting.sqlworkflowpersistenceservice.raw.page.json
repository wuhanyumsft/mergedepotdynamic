{"content":"    \r\n    <h1 id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService\">\r\n      <span class=\"lang-csharp\">SqlWorkflowPersistenceService</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Represents a persistence service that uses a SQL database to store workflow state information.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">[System.Obsolete(&quot;The System.Workflow.* types are deprecated.  Instead, please use the new types from System.Activities.*&quot;)]\npublic class SqlWorkflowPersistenceService : System.Workflow.Runtime.Hosting.WorkflowPersistenceService, System.Workflow.Runtime.IPendingWork</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowruntimeservice\" data-linktype=\"relative-path\">WorkflowRuntimeService</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l2\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice\" data-linktype=\"relative-path\">System.Workflow.Runtime.Hosting.WorkflowPersistenceService</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l3\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">SqlWorkflowPersistenceService</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice#System_Workflow_Runtime_Hosting_WorkflowPersistenceService_GetDefaultSerializedForm_System_Workflow_ComponentModel_Activity_\" data-linktype=\"relative-path\">GetDefaultSerializedForm(Activity)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice#System_Workflow_Runtime_Hosting_WorkflowPersistenceService_GetIsBlocked_System_Workflow_ComponentModel_Activity_\" data-linktype=\"relative-path\">GetIsBlocked(Activity)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice#System_Workflow_Runtime_Hosting_WorkflowPersistenceService_GetSuspendOrTerminateInfo_System_Workflow_ComponentModel_Activity_\" data-linktype=\"relative-path\">GetSuspendOrTerminateInfo(Activity)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice#System_Workflow_Runtime_Hosting_WorkflowPersistenceService_GetWorkflowStatus_System_Workflow_ComponentModel_Activity_\" data-linktype=\"relative-path\">GetWorkflowStatus(Activity)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice#System_Workflow_Runtime_Hosting_WorkflowPersistenceService_RestoreFromDefaultSerializedForm_System_Byte___System_Workflow_ComponentModel_Activity_\" data-linktype=\"relative-path\">RestoreFromDefaultSerializedForm(Byte[],Activity)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowruntimeservice#System_Workflow_Runtime_Hosting_WorkflowRuntimeService_OnStopped\" data-linktype=\"relative-path\">OnStopped()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowruntimeservice#System_Workflow_Runtime_Hosting_WorkflowRuntimeService_RaiseServicesExceptionNotHandledEvent_System_Exception_System_Guid_\" data-linktype=\"relative-path\">RaiseServicesExceptionNotHandledEvent(Exception,Guid)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowruntimeservice#System_Workflow_Runtime_Hosting_WorkflowRuntimeService_Runtime\" data-linktype=\"relative-path\">Runtime</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowruntimeservice#System_Workflow_Runtime_Hosting_WorkflowRuntimeService_State\" data-linktype=\"relative-path\">State</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <div class=\"NOTE\"><h5>Note</h5><p> This material discusses types and namespaces that are obsolete. For more information, see <a href=\"http://aka.ms/wfdeprecatedtypes\" data-linktype=\"external\">Deprecated Types in Windows Workflow Foundation 4.5</a>.  </p>\n</div>\n<p> The SqlWorkflowPersistenceService class represents a fully-functional persistence service. You can use this service out-of-box to persist and retrieve workflow state information about a workflow instance when requested to by the workflow runtime engine.  </p>\n<p> The SqlWorkflowPersistenceService participates in the workflow transaction batching functionality provided by the <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowcommitworkbatchservice\" data-linktype=\"relative-path\">WorkflowCommitWorkBatchService</a>. That is, it adds objects that represent pending writes to the SQL database to the <a class=\"xref\" href=\"system.workflow.runtime.workflowenvironment#System_Workflow_Runtime_WorkflowEnvironment_WorkBatch_\" data-linktype=\"relative-path\">WorkBatch</a> and implements the <a class=\"xref\" href=\"system.workflow.runtime.ipendingwork\" data-linktype=\"relative-path\">IPendingWork</a> interface.  </p>\n<p> The SqlWorkflowPersistenceService supports locking of workflow instances. This feature is used when several workflow runtimes share the same database. A column in the SQL database table is used to mark a workflow instance as locked whenever it is being used by a workflow runtime. The SqlWorkflowPersistenceService does not load a workflow instance that is marked as &quot;in use&quot; by another runtime. Typically these locks are released when the workflow instance is persisted, for example, on idle, completion, or termination. The locks can also be released automatically after a period of inactivity. This period of inactivity can be set using the constructor of the SqlWorkflowPersistenceService class.  It can also be set through the configuration file.  </p>\n<p> For more information about persistence services in general, see the <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice\" data-linktype=\"relative-path\">WorkflowPersistenceService</a> class.  </p>\n<p> Workflow instances can contain timers, for example, if they have a <a class=\"xref\" href=\"system.workflow.activities.delayactivity\" data-linktype=\"relative-path\">DelayActivity</a>. For workflows that contain timers, the SqlWorkflowPersistenceService records the time when the workflow&#39;s next timer expires. The SqlWorkflowPersistenceService periodically polls the database, looking for workflows whose timers have expired. The frequency of the polling interval can be set using the SqlWorkflowPersistenceService constructor or using a configuration file.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> When using both the <a class=\"xref\" href=\"system.workflow.runtime.tracking.sqltrackingservice\" data-linktype=\"relative-path\">SqlTrackingService</a> and the SqlWorkflowPersistenceService in a workflow application, it is recommended to use a single database for both persistence and tracking.</p>\n</div>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_Collections_Specialized_NameValueCollection_\" data-linktype=\"self-bookmark\">SqlWorkflowPersistenceService(NameValueCollection)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class by using the specified parameters.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_String_\" data-linktype=\"self-bookmark\">SqlWorkflowPersistenceService(String)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class by using the database connection string.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_String_System_Boolean_System_TimeSpan_System_TimeSpan_\" data-linktype=\"self-bookmark\">SqlWorkflowPersistenceService(String,Boolean,TimeSpan,TimeSpan)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class using a database connection string and other parameters.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_EnableRetries\" data-linktype=\"self-bookmark\">EnableRetries</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets and sets a value that specifies whether the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> retries committing a work batch.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadingInterval\" data-linktype=\"self-bookmark\">LoadingInterval</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the length of the loading interval.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_ServiceInstanceId\" data-linktype=\"self-bookmark\">ServiceInstanceId</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the service instance identifier.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_GetAllWorkflows\" data-linktype=\"self-bookmark\">GetAllWorkflows()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Retrieves instance descriptions of all persisted workflows.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadCompletedContextActivity_System_Guid_System_Workflow_ComponentModel_Activity_\" data-linktype=\"self-bookmark\">LoadCompletedContextActivity(Guid,Activity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Retrieves the specified completed scope from the database.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadExpiredTimerWorkflowIds\" data-linktype=\"self-bookmark\">LoadExpiredTimerWorkflowIds()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Retrieves a list of ids for workflows with expired timers.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadWorkflowInstanceState_System_Guid_\" data-linktype=\"self-bookmark\">LoadWorkflowInstanceState(Guid)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Retrieves the specified workflow instance state from the database.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_OnStarted\" data-linktype=\"self-bookmark\">OnStarted()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Starts a new timer and recovers running workflow instances.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveCompletedContextActivity_System_Workflow_ComponentModel_Activity_\" data-linktype=\"self-bookmark\">SaveCompletedContextActivity(Activity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Saves the state of the specified completed scope.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveWorkflowInstanceState_System_Workflow_ComponentModel_Activity_System_Boolean_\" data-linktype=\"self-bookmark\">SaveWorkflowInstanceState(Activity,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Saves the specified workflow instance state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Start\" data-linktype=\"self-bookmark\">Start()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Starts the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a>.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Stop\" data-linktype=\"self-bookmark\">Stop()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Stops the service and the timer.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnloadOnIdle_System_Workflow_ComponentModel_Activity_\" data-linktype=\"self-bookmark\">UnloadOnIdle(Activity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Returns a value that indicates whether the workflow is unloaded when it is in an idle state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnlockWorkflowInstanceState_System_Workflow_ComponentModel_Activity_\" data-linktype=\"self-bookmark\">UnlockWorkflowInstanceState(Activity)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Unlocks access to the specified workflow instance state.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Explicit Interface Implementations\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Commit_System_Transactions_Transaction_System_Collections_ICollection_\" data-linktype=\"self-bookmark\">IPendingWork.Commit(Transaction,ICollection)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Writes an <a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a> of serialized state objects to the database.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Complete_System_Boolean_System_Collections_ICollection_\" data-linktype=\"self-bookmark\">IPendingWork.Complete(Boolean,ICollection)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Completes the work batch and releases any resources.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_MustCommit_System_Collections_ICollection_\" data-linktype=\"self-bookmark\">IPendingWork.MustCommit(ICollection)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Returns a value that indicates whether the collection of serialized state objects should be written to the database.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_Collections_Specialized_NameValueCollection_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SqlWorkflowPersistenceService(NameValueCollection)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class by using the specified parameters.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public SqlWorkflowPersistenceService (System.Collections.Specialized.NameValueCollection parameters);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>parameters</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.specialized.namevaluecollection\" data-linktype=\"relative-path\">NameValueCollection</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.collections.specialized.namevaluecollection\" data-linktype=\"relative-path\">NameValueCollection</a> that contains startup parameters.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p><code>parameters</code> contains an invalid database connection string.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>parameters </code>is a null reference (<code>Nothing</code> in Visual Basic).</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This constructor is invoked when the workflow runtime engine loads services from an application configuration file. It can also be programmatically invoked with the <code>NameValueCollection</code> parameter. The valid parameters are <code>ConnectionString</code>, <code>OwnershipTimeoutSeconds</code>, <code>UnloadOnIdle</code>, and <code>EnableRetries</code>. An <a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a> is thrown if parameters contain any other keys.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_String_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SqlWorkflowPersistenceService(String)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class by using the database connection string.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public SqlWorkflowPersistenceService (string connectionString);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>connectionString</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A valid database connection string.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>connectionString</code> is a null reference (<code>Nothing</code> in Visual Basic).</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_System_String_System_Boolean_System_TimeSpan_System_TimeSpan_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SqlWorkflowPersistenceService(String,Boolean,TimeSpan,TimeSpan)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class using a database connection string and other parameters.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public SqlWorkflowPersistenceService (string connectionString, bool unloadOnIdle, TimeSpan instanceOwnershipDuration, TimeSpan loadingInterval);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>connectionString</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A valid database connection string.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>unloadOnIdle</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to unload the workflow when it is in an idle state.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>instanceOwnershipDuration</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.timespan\" data-linktype=\"relative-path\">TimeSpan</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The length of time that locks are maintained on idle workflows.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>loadingInterval</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.timespan\" data-linktype=\"relative-path\">TimeSpan</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The frequency at which the persistence service polls the database for workflows with expired timers.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>connectionString</code> is a null reference (<code>Nothing</code> in Visual Basic).</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Note that using this constructor (which provides a value for <code>instanceOwnershipDuration</code>) enables locking. To create a persistence service that does not enable locking, use a different constructor that does not specify <code>instanceOwnershipDuration</code>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_EnableRetries\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_EnableRetries_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">EnableRetries</div>        \r\n          </div>\r\n    \r\n            <p>Gets and sets a value that specifies whether the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> retries committing a work batch.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool EnableRetries { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the service should retry committing the work batch; otherwise, <code>false</code>. The default is <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The following work items cannot be batched and any transaction retries must be handled through the <code>EnableRetries</code> property:  </p>\n<ul>\n<li><p>Polling for expired database timers.  </p>\n</li>\n<li><p>Loading workflow instance states.  </p>\n</li>\n<li><p>Reloading workflow instances when the workflow run-time engine starts.  </p>\n</li>\n<li><p>Calling <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice#System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_GetAllWorkflows_\" data-linktype=\"relative-path\">GetAllWorkflows</a>.  </p>\n<p>Besides being set programmatically, this functionality can be enabled through a configuration file. For more information about how to set this property through a configuration file, see <a href=\"http://msdn.microsoft.com/en-us/ada4bb90-6c9d-4f3d-a9d0-b559bb0f9909\" data-linktype=\"external\">Workflow Configuration Files</a>.  </p>\n<p>For general information about retrying work batch transactions, see <a href=\"http://msdn.microsoft.com/en-us/ecda18ba-9140-4bd7-b13d-6787fdf5959d\" data-linktype=\"external\">Batching State Information in Workflows</a>.</p>\n</li>\n</ul>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadingInterval\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadingInterval_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">LoadingInterval</div>        \r\n          </div>\r\n    \r\n            <p>Gets the length of the loading interval.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public TimeSpan LoadingInterval { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.timespan\" data-linktype=\"relative-path\">TimeSpan</a></div>\r\n                  </div>\r\n                  <p>The frequency at which the persistence service polls the database for workflows with expired timers.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The default value is 2 minutes.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_ServiceInstanceId\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_ServiceInstanceId_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">ServiceInstanceId</div>        \r\n          </div>\r\n    \r\n            <p>Gets the service instance identifier.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public Guid ServiceInstanceId { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a></div>\r\n                  </div>\r\n                  <p>The service instance identifier.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The default value is <code>Guid.Empty</code>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_GetAllWorkflows\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_GetAllWorkflows_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">GetAllWorkflows()</div>        \r\n          </div>\r\n    \r\n            <p>Retrieves instance descriptions of all persisted workflows.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Collections.Generic.IEnumerable&lt;System.Workflow.Runtime.Hosting.SqlPersistenceWorkflowInstanceDescription&gt; GetAllWorkflows ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.generic.ienumerable-1\" data-linktype=\"relative-path\">IEnumerable</a>&lt;<a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlpersistenceworkflowinstancedescription\" data-linktype=\"relative-path\">SqlPersistenceWorkflowInstanceDescription</a>&gt;</div>\r\n                  </div>\r\n                  <p>A list of all persisted workflows.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadCompletedContextActivity_System_Guid_System_Workflow_ComponentModel_Activity_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadCompletedContextActivity_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">LoadCompletedContextActivity(Guid,Activity)</div>        \r\n          </div>\r\n    \r\n            <p>Retrieves the specified completed scope from the database.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override System.Workflow.ComponentModel.Activity LoadCompletedContextActivity (Guid id, System.Workflow.ComponentModel.Activity outerActivity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>id</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a> of the scope activity.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>outerActivity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that encloses the scope activity.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </div>\r\n                  <p>An <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that represents the completed scope.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>A scope that matches <code>id</code> could not be found in the database.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The workflow run-time engine uses LoadCompletedContextActivity during compensation. LoadCompletedContextActivity should only be called by the workflow run-time engine.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadExpiredTimerWorkflowIds\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadExpiredTimerWorkflowIds_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">LoadExpiredTimerWorkflowIds()</div>        \r\n          </div>\r\n    \r\n            <p>Retrieves a list of ids for workflows with expired timers.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Collections.Generic.IList&lt;Guid&gt; LoadExpiredTimerWorkflowIds ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.generic.ilist-1\" data-linktype=\"relative-path\">IList</a>&lt;<a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a>&gt;</div>\r\n                  </div>\r\n                  <p>A list of ids for workflows with expired timers.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadWorkflowInstanceState_System_Guid_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_LoadWorkflowInstanceState_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">LoadWorkflowInstanceState(Guid)</div>        \r\n          </div>\r\n    \r\n            <p>Retrieves the specified workflow instance state from the database.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override System.Workflow.ComponentModel.Activity LoadWorkflowInstanceState (Guid id);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>id</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.guid\" data-linktype=\"relative-path\">Guid</a> of the workflow instance state.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </div>\r\n                  <p>An <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that represents the root activity of the workflow instance.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>A workflow instance state that matches <code>id</code> could not be found in the database.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>LoadWorkflowInstanceState should only be called by the workflow run-time engine.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_OnStarted\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_OnStarted_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">OnStarted()</div>        \r\n          </div>\r\n    \r\n            <p>Starts a new timer and recovers running workflow instances.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void OnStarted ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveCompletedContextActivity_System_Workflow_ComponentModel_Activity_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveCompletedContextActivity_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SaveCompletedContextActivity(Activity)</div>        \r\n          </div>\r\n    \r\n            <p>Saves the state of the specified completed scope.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void SaveCompletedContextActivity (System.Workflow.ComponentModel.Activity completedScopeActivity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>completedScopeActivity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that represents the completed scope.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p><code>completedScopeActivity</code> is serialized and added to the <a class=\"xref\" href=\"system.workflow.runtime.workflowenvironment#System_Workflow_Runtime_WorkflowEnvironment_WorkBatch_\" data-linktype=\"relative-path\">WorkBatch</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveWorkflowInstanceState_System_Workflow_ComponentModel_Activity_System_Boolean_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_SaveWorkflowInstanceState_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SaveWorkflowInstanceState(Activity,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Saves the specified workflow instance state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void SaveWorkflowInstanceState (System.Workflow.ComponentModel.Activity rootActivity, bool unlock);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rootActivity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The root activity of the workflow instance.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>unlock</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the workflow instance should not be locked; <code>false</code> if the workflow instance should be locked.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p><code>rootActivity</code> is serialized and written to the <a class=\"xref\" href=\"system.workflow.runtime.workflowenvironment#System_Workflow_Runtime_WorkflowEnvironment_WorkBatch_\" data-linktype=\"relative-path\">WorkBatch</a>. The out-of-box <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> implements locking of the workflow instance state. The user must configure the <code>instanceOwnershipDuration</code> parameter in the constructor. This value decides the time interval during which the instance can be locked by a host. If multiple hosts share the same persistence service and database, and another host tries to load the instance during this interval, a <a class=\"xref\" href=\"system.workflow.runtime.workflowownershipexception\" data-linktype=\"relative-path\">WorkflowOwnershipException</a> occurs. For more information, see the <a class=\"xref\" href=\"system.workflow.runtime.hosting.workflowpersistenceservice\" data-linktype=\"relative-path\">WorkflowPersistenceService</a> class.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Start\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Start_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Start()</div>        \r\n          </div>\r\n    \r\n            <p>Starts the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a>.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void Start ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Start must only be called by the workflow run-time engine.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Stop\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_Stop_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Stop()</div>        \r\n          </div>\r\n    \r\n            <p>Stops the service and the timer.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void Stop ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnloadOnIdle_System_Workflow_ComponentModel_Activity_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnloadOnIdle_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">UnloadOnIdle(Activity)</div>        \r\n          </div>\r\n    \r\n            <p>Returns a value that indicates whether the workflow is unloaded when it is in an idle state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override bool UnloadOnIdle (System.Workflow.ComponentModel.Activity activity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>activity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that represents the root activity of the workflow instance.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the workflow is unloaded when it is in an idle state; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnlockWorkflowInstanceState_System_Workflow_ComponentModel_Activity_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_UnlockWorkflowInstanceState_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">UnlockWorkflowInstanceState(Activity)</div>        \r\n          </div>\r\n    \r\n            <p>Unlocks access to the specified workflow instance state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void UnlockWorkflowInstanceState (System.Workflow.ComponentModel.Activity rootActivity);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rootActivity</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.workflow.componentmodel.activity\" data-linktype=\"relative-path\">Activity</a> that represents the root activity of the workflow instance.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method is used by the workflow runtime to unlock a workflow instance state in the data store without persistence and is called by the workflow runtime if the runtime must unlock the state without persisting, for example, in the case of an <a class=\"xref\" href=\"system.workflow.runtime.workflowinstance#System_Workflow_Runtime_WorkflowInstance_Abort_\" data-linktype=\"relative-path\">Abort</a>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"eii\">\r\n        <h2>Explicit Interface Implementations\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Commit_System_Transactions_Transaction_System_Collections_ICollection_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Commit_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IPendingWork.Commit(Transaction,ICollection)</div>        \r\n          </div>\r\n    \r\n            <p>Writes an <a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a> of serialized state objects to the database.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">void IPendingWork.Commit (System.Transactions.Transaction transaction, System.Collections.ICollection items);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>transaction</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.transactions.transaction\" data-linktype=\"relative-path\">Transaction</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.transactions.transaction\" data-linktype=\"relative-path\">Transaction</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>items</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a> of work items to be written to the database.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.workflow.runtime.hosting.persistenceexception\" data-linktype=\"relative-path\">PersistenceException</a></div>\r\n                  </div>\r\n                  <p>An error occurred while trying to write to the database.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The serialized state objects that are contained in <code>items</code> are written to the database.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Complete_System_Boolean_System_Collections_ICollection_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_Complete_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IPendingWork.Complete(Boolean,ICollection)</div>        \r\n          </div>\r\n    \r\n            <p>Completes the work batch and releases any resources.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">void IPendingWork.Complete (bool succeeded, System.Collections.ICollection items);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>succeeded</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the commit succeeded; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>items</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a> of serialized state objects.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>In the out-of-box implementation of the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a>,  </p>\n<p> &lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System.Workflow.Runtime.IPendingWork.Complete%2A&gt; is a no-op. If you inherit from and extend the <a class=\"xref\" href=\"system.workflow.runtime.hosting.sqlworkflowpersistenceservice\" data-linktype=\"relative-path\">SqlWorkflowPersistenceService</a> class, you may use &lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System.Workflow.Runtime.IPendingWork.Complete%2A&gt; to perform any actions required on <code>items</code> dictated by your implementation.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_MustCommit_System_Collections_ICollection_\">\r\n    \r\n            <a id=\"System_Workflow_Runtime_Hosting_SqlWorkflowPersistenceService_System_Workflow_Runtime_IPendingWork_MustCommit_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IPendingWork.MustCommit(ICollection)</div>        \r\n          </div>\r\n    \r\n            <p>Returns a value that indicates whether the collection of serialized state objects should be written to the database.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">bool IPendingWork.MustCommit (System.Collections.ICollection items);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>items</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.collections.icollection\" data-linktype=\"relative-path\">ICollection</a> of serialized state objects to be written to the database.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> indicates that the batch should be committed; <span class=\"xref\">stem.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System.Workflow.Runtime.IPendingWork.MustCommit*</span> always returns <code>true</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>&lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System.Workflow.Runtime.IPendingWork.MustCommit%2A&gt; always returns <code>true</code>, which instructs the workflow run-time engine to invoke &lt;xref:System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System.Workflow.Runtime.IPendingWork.Commit%2A&gt; on the batch.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.yml\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService..ctor\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.EnableRetries\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadExpiredTimerWorkflowIds\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadingInterval\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.OnStarted\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveCompletedContextActivity\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveWorkflowInstanceState\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.ServiceInstanceId\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Stop\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.Commit\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.Complete\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.MustCommit\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnloadOnIdle\">\r\n<meta name=\"APIName\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnlockWorkflowInstanceState\">\r\n<meta name=\"APILocation\" content=\"System.Workflow.Runtime.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"8eb9d0d6-ad6a-dc8b-56d8-d50bb83f0ded\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents a persistence service that uses a SQL database to store workflow state information.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Workflow.Runtime.Hosting/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.yml","open_to_public_contributors":true,"api_name":["System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService..ctor","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.EnableRetries","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadExpiredTimerWorkflowIds","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadingInterval","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.OnStarted","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveCompletedContextActivity","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveWorkflowInstanceState","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.ServiceInstanceId","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Stop","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.Commit","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.Complete","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.IPendingWork.MustCommit","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnloadOnIdle","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnlockWorkflowInstanceState"],"api_location":["System.Workflow.Runtime.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.#ctor","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::#ctor","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.EnableRetries","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::EnableRetries","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.GetAllWorkflows","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::GetAllWorkflows","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadCompletedContextActivity","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::LoadCompletedContextActivity","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadExpiredTimerWorkflowIds","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::LoadExpiredTimerWorkflowIds","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadingInterval","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::LoadingInterval","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.LoadWorkflowInstanceState","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::LoadWorkflowInstanceState","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.OnStarted","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::OnStarted","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveCompletedContextActivity","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::SaveCompletedContextActivity","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.SaveWorkflowInstanceState","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::SaveWorkflowInstanceState","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.ServiceInstanceId","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::ServiceInstanceId","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Start","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::Start","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.Stop","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::Stop","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#Commit","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::System#Workflow#Runtime#IPendingWork#Commit","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#Complete","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::System#Workflow#Runtime#IPendingWork#Complete","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.System#Workflow#Runtime#IPendingWork#MustCommit","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::System#Workflow#Runtime#IPendingWork#MustCommit","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnloadOnIdle","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::UnloadOnIdle","System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.UnlockWorkflowInstanceState","System::Workflow::Runtime::Hosting::SqlWorkflowPersistenceService::UnlockWorkflowInstanceState"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"8eb9d0d6-ad6a-dc8b-56d8-d50bb83f0ded","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Workflow.Runtime.Hosting/SqlWorkflowPersistenceService.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"SqlWorkflowPersistenceService class | Microsoft Docs","_op_ogTitle":"SqlWorkflowPersistenceService class","description":"Represents a persistence service that uses a SQL database to store workflow state information.\n","toc_asset_id":"_splitted/System.Workflow.Runtime.Hosting/toc.json","toc_rel":"_splitted/System.Workflow.Runtime.Hosting/toc.json","source_url":"","ms.assetid":"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.workflow.runtime.hosting.sqlworkflowpersistenceservice","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.workflow.runtime.hosting.sqlworkflowpersistenceservice","fileRelativePath":"System.Workflow.Runtime.Hosting.SqlWorkflowPersistenceService.html"},"themesRelativePathToOutputRoot":"_themes/"}