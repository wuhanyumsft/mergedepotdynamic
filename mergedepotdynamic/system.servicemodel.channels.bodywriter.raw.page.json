{"content":"    \r\n    <h1 id=\"System_ServiceModel_Channels_BodyWriter\">\r\n      <span class=\"lang-csharp\">BodyWriter</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Represents the writer of the message body.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public abstract class BodyWriter</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l1\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">BodyWriter</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>A message consists of headers and a body. The headers are buffered and the body is streamed. Because the body is streamed, the user cannot pass the actual content of the body to a message. Instead the user must pass a class that knows how to write the body when asked to do so. This is done by passing a class derived from BodyWriter to the <a class=\"xref\" href=\"system.servicemodel.channels.message\" data-linktype=\"relative-path\">Message</a>. A message calls the class derived from BodyWriter whenever it requires the body to be written using an <a class=\"xref\" href=\"system.xml.xmlwriter\" data-linktype=\"relative-path\">XmlWriter</a>.</p>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter__ctor_System_Boolean_\" data-linktype=\"self-bookmark\">BodyWriter(Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> class that explicitly indicates whether to buffer.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_IsBuffered\" data-linktype=\"self-bookmark\">IsBuffered</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value that indicates whether the write method can be called multiple times.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_BeginWriteBodyContents_System_Xml_XmlDictionaryWriter_System_AsyncCallback_System_Object_\" data-linktype=\"self-bookmark\">BeginWriteBodyContents(XmlDictionaryWriter,AsyncCallback,Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Starts to write body contents for the body writer with specified writer, callback and state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_CreateBufferedCopy_System_Int32_\" data-linktype=\"self-bookmark\">CreateBufferedCopy(Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Creates a buffered copy of the body.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_EndWriteBodyContents_System_IAsyncResult_\" data-linktype=\"self-bookmark\">EndWriteBodyContents(IAsyncResult)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Ends the writing of body contents.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_OnBeginWriteBodyContents_System_Xml_XmlDictionaryWriter_System_AsyncCallback_System_Object_\" data-linktype=\"self-bookmark\">OnBeginWriteBodyContents(XmlDictionaryWriter,AsyncCallback,Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Raises an event when the body writer starts to write body contents with specified writer, callback and state.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_OnCreateBufferedCopy_System_Int32_\" data-linktype=\"self-bookmark\">OnCreateBufferedCopy(Int32)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Provides an extensibility point when the body contents are written.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_OnEndWriteBodyContents_System_IAsyncResult_\" data-linktype=\"self-bookmark\">OnEndWriteBodyContents(IAsyncResult)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Raises an event when the body writer ends writing body contents.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"self-bookmark\">OnWriteBodyContents(XmlDictionaryWriter)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>When implemented, provides an extensibility point when the body contents are written.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Channels_BodyWriter_WriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"self-bookmark\">WriteBodyContents(XmlDictionaryWriter)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Writes out the contents of the message body.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter__ctor_System_Boolean_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">BodyWriter(Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> class that explicitly indicates whether to buffer.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected BodyWriter (bool isBuffered);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>isBuffered</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the body writer can be called multiple times; otherwise <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If <code>isBuffered</code> is <code>false</code> then the message calls the write method once and buffers the contents.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_IsBuffered\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_IsBuffered_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IsBuffered</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value that indicates whether the write method can be called multiple times.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool IsBuffered { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the body writer can be called multiple times; otherwise <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If <code>isBuffered</code> is <code>false</code> then the message calls the write method once and buffers the contents.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_BeginWriteBodyContents_System_Xml_XmlDictionaryWriter_System_AsyncCallback_System_Object_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_BeginWriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">BeginWriteBodyContents(XmlDictionaryWriter,AsyncCallback,Object)</div>        \r\n          </div>\r\n    \r\n            <p>Starts to write body contents for the body writer with specified writer, callback and state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public IAsyncResult BeginWriteBodyContents (System.Xml.XmlDictionaryWriter writer, AsyncCallback callback, object state);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>writer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The writer.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>callback</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.asynccallback\" data-linktype=\"relative-path\">AsyncCallback</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The callback.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>state</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The state.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </div>\r\n                  <p>The result of the operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_CreateBufferedCopy_System_Int32_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_CreateBufferedCopy_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CreateBufferedCopy(Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Creates a buffered copy of the body.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.ServiceModel.Channels.BodyWriter CreateBufferedCopy (int maxBufferSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>maxBufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum size of the buffer for the body.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a></div>\r\n                  </div>\r\n                  <p>A <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> that contains a copy of this object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>The <code>maxBufferSize</code> is less than zero.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p>The body has already been written and cannot be written again, or the body writer is not buffered.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_IsBuffered_\" data-linktype=\"relative-path\">IsBuffered</a> is <code>true</code> then the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> object is returned. If <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_IsBuffered_\" data-linktype=\"relative-path\">IsBuffered</a> is <code>false</code> then the contents of the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> up to <code>maxBufferSize</code> is returned. This also calls <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_OnCreateBufferedCopy_System_Int32_\" data-linktype=\"relative-path\">OnCreateBufferedCopy(Int32)</a> as an extensibility point.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following sample shows how to create a buffered copy of an existing <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> instance.  </p>\n<pre><code class=\"lang-cs\" name=\"S_UEBodyWriter#2\">            string[] strings = { &quot;Hello&quot;, &quot;world&quot; };\n            MyBodyWriter bodyWriter = new MyBodyWriter(strings);\n\n            StringBuilder strBuilder = new StringBuilder(10);\n            XmlWriter writer = XmlWriter.Create(strBuilder);\n            XmlDictionaryWriter dictionaryWriter = XmlDictionaryWriter.CreateDictionaryWriter(writer);\n\n            bodyWriter.WriteBodyContents(dictionaryWriter);\n            dictionaryWriter.Flush();\n\n            MyBodyWriter bufferedBodyWriter = (MyBodyWriter) bodyWriter.CreateBufferedCopy(1024);\n</code></pre><pre><code class=\"lang-vb\" name=\"S_UEBodyWriter#2\">            Dim strings() As String = {&quot;Hello&quot;, &quot;world&quot;}\n\t\t\tDim bodyWriter As New MyBodyWriter(strings)\n\n\t\t\tDim strBuilder As New StringBuilder(10)\n\t\t\tDim writer As XmlWriter = XmlWriter.Create(strBuilder)\n\t\t\tDim dictionaryWriter As XmlDictionaryWriter = XmlDictionaryWriter.CreateDictionaryWriter(writer)\n\n\t\t\tbodyWriter.WriteBodyContents(dictionaryWriter)\n\t\t\tdictionaryWriter.Flush()\n\n\t\t\tDim bufferedBodyWriter As MyBodyWriter = CType(bodyWriter.CreateBufferedCopy(1024), MyBodyWriter)\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_EndWriteBodyContents_System_IAsyncResult_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_EndWriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">EndWriteBodyContents(IAsyncResult)</div>        \r\n          </div>\r\n    \r\n            <p>Ends the writing of body contents.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void EndWriteBodyContents (IAsyncResult result);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>result</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The result of the operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_OnBeginWriteBodyContents_System_Xml_XmlDictionaryWriter_System_AsyncCallback_System_Object_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_OnBeginWriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">OnBeginWriteBodyContents(XmlDictionaryWriter,AsyncCallback,Object)</div>        \r\n          </div>\r\n    \r\n            <p>Raises an event when the body writer starts to write body contents with specified writer, callback and state.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected virtual IAsyncResult OnBeginWriteBodyContents (System.Xml.XmlDictionaryWriter writer, AsyncCallback callback, object state);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>writer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The writer</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>callback</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.asynccallback\" data-linktype=\"relative-path\">AsyncCallback</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The callback</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>state</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The state.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </div>\r\n                  <p>The asynchronous result.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_OnCreateBufferedCopy_System_Int32_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_OnCreateBufferedCopy_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">OnCreateBufferedCopy(Int32)</div>        \r\n          </div>\r\n    \r\n            <p>Provides an extensibility point when the body contents are written.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected virtual System.ServiceModel.Channels.BodyWriter OnCreateBufferedCopy (int maxBufferSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>maxBufferSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The maximum size of the buffer for the body.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a></div>\r\n                  </div>\r\n                  <p>The <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> with the specified maximum buffer size.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>A class derived from <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> can override this method to create a buffered copy of the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a>. But the default implementation of <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_WriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"relative-path\">WriteBodyContents(XmlDictionaryWriter)</a> calls <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"relative-path\">OnWriteBodyContents(XmlDictionaryWriter)</a>, so overriding just <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"relative-path\">OnWriteBodyContents(XmlDictionaryWriter)</a> should be easier and work for most scenarios.  </p>\n<p> Note that the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> returned must be buffered, that is <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_IsBuffered_\" data-linktype=\"relative-path\">IsBuffered</a> must be <code>true</code>.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_OnEndWriteBodyContents_System_IAsyncResult_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_OnEndWriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">OnEndWriteBodyContents(IAsyncResult)</div>        \r\n          </div>\r\n    \r\n            <p>Raises an event when the body writer ends writing body contents.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected virtual void OnEndWriteBodyContents (IAsyncResult result);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>result</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.iasyncresult\" data-linktype=\"relative-path\">IAsyncResult</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The result of the operation.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">OnWriteBodyContents(XmlDictionaryWriter)</div>        \r\n          </div>\r\n    \r\n            <p>When implemented, provides an extensibility point when the body contents are written.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected abstract void OnWriteBodyContents (System.Xml.XmlDictionaryWriter writer);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>writer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a> used to write out the message body.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method must be implemented by classes derived from <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a>. This is the key method that writes the body. If the <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter\" data-linktype=\"relative-path\">BodyWriter</a> is buffered then this method is called only once.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example illustrates an override of the OnWriteBodyContents method.  </p>\n<pre><code class=\"lang-cs\" name=\"S_UEBodyWriter#3\">        protected override void OnWriteBodyContents(XmlDictionaryWriter writer)\n        {\n           writer.WriteStartElement(textTag);\n\n           foreach (string str in bodySegment)\n           {\n               writer.WriteString(str);\n           }\n \n            writer.WriteEndElement();\n        }\n</code></pre><pre><code class=\"lang-vb\" name=\"S_UEBodyWriter#3\">\t\tProtected Overrides Sub OnWriteBodyContents(ByVal writer As XmlDictionaryWriter)\n\t\t   writer.WriteStartElement(textTag)\n\n            For Each str As String In bodySegment\n                writer.WriteString(str)\n            Next str\n\n\t\t\twriter.WriteEndElement()\n\t\tEnd Sub\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Channels_BodyWriter_WriteBodyContents_System_Xml_XmlDictionaryWriter_\">\r\n    \r\n            <a id=\"System_ServiceModel_Channels_BodyWriter_WriteBodyContents_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">WriteBodyContents(XmlDictionaryWriter)</div>        \r\n          </div>\r\n    \r\n            <p>Writes out the contents of the message body.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void WriteBodyContents (System.Xml.XmlDictionaryWriter writer);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>writer</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.xml.xmldictionarywriter\" data-linktype=\"relative-path\">XmlDictionaryWriter</a> used to write out the message body.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>writer</code> is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The default implementation of WriteBodyContents calls <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"relative-path\">OnWriteBodyContents(XmlDictionaryWriter)</a>, so overriding <a class=\"xref\" href=\"system.servicemodel.channels.bodywriter#System_ServiceModel_Channels_BodyWriter_OnWriteBodyContents_System_Xml_XmlDictionaryWriter_\" data-linktype=\"relative-path\">OnWriteBodyContents(XmlDictionaryWriter)</a> provides the best point of extension.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following sample shows how to call the WriteBodyContents method.  </p>\n<pre><code class=\"lang-cs\" name=\"S_UEBodyWriter#4\">            string[] strings = {&quot;Hello&quot;, &quot;world&quot;};\n            MyBodyWriter bw = new MyBodyWriter(strings);\n\n            StringBuilder strBuilder = new StringBuilder(10);\n            XmlWriter writer = XmlWriter.Create(strBuilder);\n            XmlDictionaryWriter dictionaryWriter = XmlDictionaryWriter.CreateDictionaryWriter(writer);\n\n            bw.WriteBodyContents(dictionaryWriter);\n            dictionaryWriter.Flush();\n</code></pre><pre><code class=\"lang-vb\" name=\"S_UEBodyWriter#4\">            Dim strings() As String = {&quot;Hello&quot;, &quot;world&quot;}\n            Dim bw As New MyBodyWriter(strings)\n\n            Dim strBuilder As New StringBuilder(10)\n            Dim writer = XmlWriter.Create(strBuilder)\n            Dim dictionaryWriter = XmlDictionaryWriter.CreateDictionaryWriter(writer)\n\n            bw.WriteBodyContents(dictionaryWriter)\n            dictionaryWriter.Flush()\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Channels.BodyWriter.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Channels.BodyWriter.yml\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter..ctor\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.BeginWriteBodyContents\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.CreateBufferedCopy\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.EndWriteBodyContents\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.IsBuffered\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.OnBeginWriteBodyContents\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.OnCreateBufferedCopy\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.OnEndWriteBodyContents\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.OnWriteBodyContents\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Channels.BodyWriter.WriteBodyContents\">\r\n<meta name=\"APILocation\" content=\"System.ServiceModel.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"9c89cf8b-0f77-dcf3-084c-ede1eb9cad18\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents the writer of the message body.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.ServiceModel.Channels/toc.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.ServiceModel.Channels.BodyWriter\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Channels.BodyWriter.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Channels.BodyWriter.yml","open_to_public_contributors":true,"api_name":["System.ServiceModel.Channels.BodyWriter","System.ServiceModel.Channels.BodyWriter..ctor","System.ServiceModel.Channels.BodyWriter.BeginWriteBodyContents","System.ServiceModel.Channels.BodyWriter.CreateBufferedCopy","System.ServiceModel.Channels.BodyWriter.EndWriteBodyContents","System.ServiceModel.Channels.BodyWriter.IsBuffered","System.ServiceModel.Channels.BodyWriter.OnBeginWriteBodyContents","System.ServiceModel.Channels.BodyWriter.OnCreateBufferedCopy","System.ServiceModel.Channels.BodyWriter.OnEndWriteBodyContents","System.ServiceModel.Channels.BodyWriter.OnWriteBodyContents","System.ServiceModel.Channels.BodyWriter.WriteBodyContents"],"api_location":["System.ServiceModel.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.ServiceModel.Channels.BodyWriter","System::ServiceModel::Channels::BodyWriter","System.ServiceModel.Channels.BodyWriter.#ctor","System::ServiceModel::Channels::BodyWriter::#ctor","System.ServiceModel.Channels.BodyWriter.BeginWriteBodyContents","System::ServiceModel::Channels::BodyWriter::BeginWriteBodyContents","System.ServiceModel.Channels.BodyWriter.CreateBufferedCopy","System::ServiceModel::Channels::BodyWriter::CreateBufferedCopy","System.ServiceModel.Channels.BodyWriter.EndWriteBodyContents","System::ServiceModel::Channels::BodyWriter::EndWriteBodyContents","System.ServiceModel.Channels.BodyWriter.IsBuffered","System::ServiceModel::Channels::BodyWriter::IsBuffered","System.ServiceModel.Channels.BodyWriter.OnBeginWriteBodyContents","System::ServiceModel::Channels::BodyWriter::OnBeginWriteBodyContents","System.ServiceModel.Channels.BodyWriter.OnCreateBufferedCopy","System::ServiceModel::Channels::BodyWriter::OnCreateBufferedCopy","System.ServiceModel.Channels.BodyWriter.OnEndWriteBodyContents","System::ServiceModel::Channels::BodyWriter::OnEndWriteBodyContents","System.ServiceModel.Channels.BodyWriter.OnWriteBodyContents","System::ServiceModel::Channels::BodyWriter::OnWriteBodyContents","System.ServiceModel.Channels.BodyWriter.WriteBodyContents","System::ServiceModel::Channels::BodyWriter::WriteBodyContents"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"9c89cf8b-0f77-dcf3-084c-ede1eb9cad18","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.ServiceModel.Channels/BodyWriter.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"BodyWriter class | Microsoft Docs","_op_ogTitle":"BodyWriter class","description":"Represents the writer of the message body.\n","toc_asset_id":"_splitted/System.ServiceModel.Channels/toc.json","toc_rel":"_splitted/System.ServiceModel.Channels/toc.json","source_url":"","ms.assetid":"System.ServiceModel.Channels.BodyWriter","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.channels.bodywriter","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.channels.bodywriter","fileRelativePath":"System.ServiceModel.Channels.BodyWriter.html"},"themesRelativePathToOutputRoot":"_themes/"}