{"content":"    \r\n    <h1 id=\"System_Runtime_Caching_Hosting_IFileChangeNotificationSystem\">\r\n      <span class=\"lang-csharp\">IFileChangeNotificationSystem</span>\r\n        Interface\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Defines a way to expose a custom <a class=\"xref\" href=\"system.runtime.caching.filechangemonitor\" data-linktype=\"relative-path\">FileChangeMonitor</a> object to a cache implementation.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public interface IFileChangeNotificationSystem</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>In ASP.NET, the IFileChangeNotificationSystem interface provides access to internal file-change notification management.  </p>\n<p> The IFileChangeNotificationSystem interface is used internally by the <a class=\"xref\" href=\"system.runtime.caching.hostfilechangemonitor\" data-linktype=\"relative-path\">HostFileChangeMonitor</a> class.  </p>\n<p> When a cache implementation runs in an ASP.NET application domain, ASP.NET implements an IFileChangeNotificationSystem interface through the <a class=\"xref\" href=\"system.runtime.caching.objectcache#System_Runtime_Caching_ObjectCache_Host_\" data-linktype=\"relative-path\">Host</a> property. The <a class=\"xref\" href=\"system.runtime.caching.hostfilechangemonitor\" data-linktype=\"relative-path\">HostFileChangeMonitor</a> class detects this property and uses the ASP.NET file-change notification system to evict cache entries based on file-change notification.  </p>\n<p> In non-ASP.NET applications, there is no host environment that implements a custom IFileChangeNotificationSystem interface. As a result, the <a class=\"xref\" href=\"system.runtime.caching.hostfilechangemonitor\" data-linktype=\"relative-path\">HostFileChangeMonitor</a> class uses the <a class=\"xref\" href=\"system.io.filesystemwatcher\" data-linktype=\"relative-path\">FileSystemWatcher</a> class of the CLR.</p>\n\r\n    \r\n    \r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StartMonitoring_System_String_System_Runtime_Caching_OnChangedCallback_System_Object__System_DateTimeOffset__System_Int64__\" data-linktype=\"self-bookmark\">StartMonitoring(String,OnChangedCallback,Object,DateTimeOffset,Int64)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Registers a file path to monitor with the host environment.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StopMonitoring_System_String_System_Object_\" data-linktype=\"self-bookmark\">StopMonitoring(String,Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Ends change monitoring.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StartMonitoring_System_String_System_Runtime_Caching_OnChangedCallback_System_Object__System_DateTimeOffset__System_Int64__\">\r\n    \r\n            <a id=\"System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StartMonitoring_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">StartMonitoring(String,OnChangedCallback,Object,DateTimeOffset,Int64)</div>        \r\n          </div>\r\n    \r\n            <p>Registers a file path to monitor with the host environment.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void StartMonitoring (string filePath, System.Runtime.Caching.OnChangedCallback onChangedCallback, out object state, out DateTimeOffset lastWriteTime, out long fileSize);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>filePath</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The fully qualified physical path of a directory or file to monitor for changes.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>onChangedCallback</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.runtime.caching.onchangedcallback\" data-linktype=\"relative-path\">OnChangedCallback</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A reference to a method that implements the <a class=\"xref\" href=\"system.runtime.caching.onchangedcallback\" data-linktype=\"relative-path\">OnChangedCallback</a> delegate. When the monitored file or directory changes, the host environment&#39;s implementation of the <a class=\"xref\" href=\"system.runtime.caching.hosting.ifilechangenotificationsystem\" data-linktype=\"relative-path\">IFileChangeNotificationSystem</a> interface raises an event by calling the <a class=\"xref\" href=\"system.runtime.caching.onchangedcallback\" data-linktype=\"relative-path\">OnChangedCallback</a> class.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>state</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The state that is supplied by the host environment. Cache implementations and custom change monitors should treat the state value as opaque. However, the state must be stored so that it can be sent to the host environment when the cache implementation calls the <span class=\"xref\">stem.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StopMonitoring*</span> method.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>lastWriteTime</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.datetimeoffset\" data-linktype=\"relative-path\">DateTimeOffset</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>When this method returns, contains the last date and time that a write operation occurred on <code>filePath</code>. This parameter is passed uninitialized. This parameter is returned from the host environment.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>fileSize</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int64\" data-linktype=\"relative-path\">Int64</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>When this method returns, contains the total size of the monitored <code>filePath</code>. This parameter is passed uninitialized. This parameter is returned from the host environment.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This method is used by custom cache objects and custom change monitors that implement the host environment&#39;s <a class=\"xref\" href=\"system.runtime.caching.hosting.ifilechangenotificationsystem\" data-linktype=\"relative-path\">IFileChangeNotificationSystem</a> interface in order to register file paths for monitoring with the host environment. The StartMonitoring method is called by implementers of the <a class=\"xref\" href=\"system.runtime.caching.hosting.ifilechangenotificationsystem\" data-linktype=\"relative-path\">IFileChangeNotificationSystem</a> interface in order to register a file or directory for change monitoring.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StopMonitoring_System_String_System_Object_\">\r\n    \r\n            <a id=\"System_Runtime_Caching_Hosting_IFileChangeNotificationSystem_StopMonitoring_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">StopMonitoring(String,Object)</div>        \r\n          </div>\r\n    \r\n            <p>Ends change monitoring.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void StopMonitoring (string filePath, object state);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>filePath</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The path of the file or folder to stop monitoring. This should match a file path value that was passed in an earlier call to the <span class=\"xref\">stem.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StartMonitoring*</span> method.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>state</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The state information that was originally supplied by the host environment during an earlier call to the <span class=\"xref\">stem.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StartMonitoring*</span> method.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The StopMonitoring method must be called by custom caches and custom change monitors that are being disposed by the host environment in order to stop monitoring file paths and directories.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.yml\">\r\n<meta name=\"APIName\" content=\"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem\">\r\n<meta name=\"APIName\" content=\"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StartMonitoring\">\r\n<meta name=\"APIName\" content=\"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StopMonitoring\">\r\n<meta name=\"APILocation\" content=\"System.Runtime.Caching.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"0ee31668-acd3-29c5-0c00-aa4a21ad3385\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Defines a way to expose a custom  object to a cache implementation.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Runtime.Caching.Hosting/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.yml","open_to_public_contributors":true,"api_name":["System.Runtime.Caching.Hosting.IFileChangeNotificationSystem","System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StartMonitoring","System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StopMonitoring"],"api_location":["System.Runtime.Caching.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Runtime.Caching.Hosting.IFileChangeNotificationSystem","System::Runtime::Caching::Hosting::IFileChangeNotificationSystem","System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StartMonitoring","System::Runtime::Caching::Hosting::IFileChangeNotificationSystem::StartMonitoring","System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.StopMonitoring","System::Runtime::Caching::Hosting::IFileChangeNotificationSystem::StopMonitoring"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"0ee31668-acd3-29c5-0c00-aa4a21ad3385","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Runtime.Caching.Hosting/IFileChangeNotificationSystem.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"IFileChangeNotificationSystem interface | Microsoft Docs","_op_ogTitle":"IFileChangeNotificationSystem interface","description":"Defines a way to expose a custom  object to a cache implementation.\n","toc_asset_id":"_splitted/System.Runtime.Caching.Hosting/toc.json","toc_rel":"_splitted/System.Runtime.Caching.Hosting/toc.json","source_url":"","ms.assetid":"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.runtime.caching.hosting.ifilechangenotificationsystem","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.runtime.caching.hosting.ifilechangenotificationsystem","fileRelativePath":"System.Runtime.Caching.Hosting.IFileChangeNotificationSystem.html"},"themesRelativePathToOutputRoot":"_themes/"}