{"content":"    \r\n    <h1 id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute\">\r\n      <span class=\"lang-csharp\">XmlChoiceIdentifierAttribute</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Specifies that the member can be further detected by using an enumeration.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">[System.AttributeUsage(System.AttributeTargets.Property | System.AttributeTargets.Field | System.AttributeTargets.Parameter | System.AttributeTargets.ReturnValue, AllowMultiple=false)]\npublic class XmlChoiceIdentifierAttribute : Attribute</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute\" data-linktype=\"relative-path\">System.Attribute</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l2\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">XmlChoiceIdentifierAttribute</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_Assembly_System_Type_\" data-linktype=\"relative-path\">GetCustomAttribute(Assembly,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_Assembly_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttribute(Assembly,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_MemberInfo_System_Type_\" data-linktype=\"relative-path\">GetCustomAttribute(MemberInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_MemberInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttribute(MemberInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_Module_System_Type_\" data-linktype=\"relative-path\">GetCustomAttribute(Module,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_Module_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttribute(Module,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_ParameterInfo_System_Type_\" data-linktype=\"relative-path\">GetCustomAttribute(ParameterInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttribute_System_Reflection_ParameterInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttribute(ParameterInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Assembly_\" data-linktype=\"relative-path\">GetCustomAttributes(Assembly)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Assembly_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(Assembly,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Assembly_System_Type_\" data-linktype=\"relative-path\">GetCustomAttributes(Assembly,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Assembly_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(Assembly,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_MemberInfo_\" data-linktype=\"relative-path\">GetCustomAttributes(MemberInfo)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_MemberInfo_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(MemberInfo,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_MemberInfo_System_Type_\" data-linktype=\"relative-path\">GetCustomAttributes(MemberInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_MemberInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(MemberInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Module_\" data-linktype=\"relative-path\">GetCustomAttributes(Module)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Module_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(Module,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Module_System_Type_\" data-linktype=\"relative-path\">GetCustomAttributes(Module,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_Module_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(Module,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_ParameterInfo_\" data-linktype=\"relative-path\">GetCustomAttributes(ParameterInfo)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_ParameterInfo_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(ParameterInfo,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_ParameterInfo_System_Type_\" data-linktype=\"relative-path\">GetCustomAttributes(ParameterInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetCustomAttributes_System_Reflection_ParameterInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">GetCustomAttributes(ParameterInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefaultAttribute\" data-linktype=\"relative-path\">IsDefaultAttribute()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_Assembly_System_Type_\" data-linktype=\"relative-path\">IsDefined(Assembly,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_Assembly_System_Type_System_Boolean_\" data-linktype=\"relative-path\">IsDefined(Assembly,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_MemberInfo_System_Type_\" data-linktype=\"relative-path\">IsDefined(MemberInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_MemberInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">IsDefined(MemberInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_Module_System_Type_\" data-linktype=\"relative-path\">IsDefined(Module,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_Module_System_Type_System_Boolean_\" data-linktype=\"relative-path\">IsDefined(Module,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_ParameterInfo_System_Type_\" data-linktype=\"relative-path\">IsDefined(ParameterInfo,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_IsDefined_System_Reflection_ParameterInfo_System_Type_System_Boolean_\" data-linktype=\"relative-path\">IsDefined(ParameterInfo,Type,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_Match_System_Object_\" data-linktype=\"relative-path\">Match(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_System_Runtime_InteropServices__Attribute_GetIDsOfNames_System_Guid__System_IntPtr_System_UInt32_System_UInt32_System_IntPtr_\" data-linktype=\"relative-path\">_Attribute.GetIDsOfNames(Guid,IntPtr,UInt32,UInt32,IntPtr)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_System_Runtime_InteropServices__Attribute_GetTypeInfo_System_UInt32_System_UInt32_System_IntPtr_\" data-linktype=\"relative-path\">_Attribute.GetTypeInfo(UInt32,UInt32,IntPtr)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_System_Runtime_InteropServices__Attribute_GetTypeInfoCount_System_UInt32__\" data-linktype=\"relative-path\">_Attribute.GetTypeInfoCount(UInt32)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_System_Runtime_InteropServices__Attribute_Invoke_System_UInt32_System_Guid__System_UInt32_System_Int16_System_IntPtr_System_IntPtr_System_IntPtr_System_IntPtr_\" data-linktype=\"relative-path\">_Attribute.Invoke(UInt32,Guid,UInt32,Int16,IntPtr,IntPtr,IntPtr,IntPtr)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.attribute#System_Attribute_TypeId\" data-linktype=\"relative-path\">TypeId</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>The XML schema element definition named <code>xsi:choice</code> is used to define a complex element that can contain only one child in an instance (maxoccurs = 1). That child can be one of several types, and it can have one of several names. Each name is associated with a specific type; however, several names can be associated with the same type. Because of this, an instance of such an element is indistinct. For example, consider the following schema fragment that defines such an indistinct element named <code>MyChoice</code>.  </p>\n<pre><code>&lt;xsd:complexType name=&quot;MyChoice&quot;&gt;  \n &lt;xsd:sequence&gt;  \n &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;&gt;  \n &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;ChoiceOne&quot; type=&quot;xsd:string&quot; /&gt;  \n &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;ChoiceTwo&quot; type=&quot;xsd:string&quot; /&gt;  \n &lt;/xsd:choice&gt;  \n &lt;/xsd:sequence&gt;  \n&lt;/xsd:complexType&gt;  \n</code></pre><p> The XmlChoiceIdentifierAttribute allows you to assign a special enumeration value to each instance of the member. You must either create the enumeration yourself or it can be generated by the <a href=\"../Topic/XML%20Schema%20Definition%20Tool%20(Xsd.exe).md\" data-linktype=\"relative-path\">XML Schema Definition Tool (Xsd.exe)</a>. The following C# code shows how the XmlChoiceIdentifierAttribute is applied to an <code>Item</code> field; the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute#System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName_\" data-linktype=\"relative-path\">MemberName</a> property identifies the field that contains the enumeration that is further used to detect the choice.  </p>\n<pre><code>public class Choices{  \n [XmlChoiceIdentifier(&quot;ItemType&quot;)]  \n [XmlChoiceIdentifier(&quot;ChoiceOne&quot;)]  \n [XmlChoiceIdentifier(&quot;ChoiceTwo&quot;)]  \n public string MyChoice;  \n\n // Do not serialize this next field:  \n [XmlIgnore]  \n public ItemChoiceType ItemType;  \n}  \n// Do not include this enumeration in the XML schema.  \n[XmlType(IncludeInSchema = false)]  \npublic enum ItemChoiceType{  \n ChoiceOne,  \n ChoiceTwo,  \n}  \n</code></pre><p> When this code is in place, you can serialize and deserialize this class by setting the <code>ItemType</code> field to an appropriate enumeration. For example, to serialize the <code>Choice</code> class, the C# code resembles the following.  </p>\n<pre><code>Choices mc = new Choices();  \nmc.MyChoice = &quot;Item Choice One&quot;;  \nmc.ItemType = ItemChoiceType.ChoiceOne;  \n</code></pre><p> When deserializing, the C# code resembles the following:  </p>\n<pre><code>MyChoice mc = (MyChoice) myXmlSerializer.Deserialize(myReader);  \nif(mc.ItemType == ItemChoiceType.ChoiceOne)  \n {  \n     // Handle choice one.  \n }  \nif(mc.ItemType == ItemChoiceType.ChoiceTwo)  \n {  \n     // Handle choice two.  \n }  \nif(mc.ItemType != null)  \n {  \n     throw CreateUnknownTypeException(mc.Item);  \n }  \n</code></pre><p> There is a second scenario when the XmlChoiceIdentifierAttribute is used. In the following schema, the member is a field that returns an array of items (maxOccurs=&quot;unbounded&quot;). The array can contain objects of the first choice (&quot;D-a-t-a&quot;), and of the second choice (&quot;MoreData&quot;).  </p>\n<pre><code>&lt;xsd:complexType name=&quot;MyChoice&quot;&gt;  \n &lt;xsd:sequence&gt;  \n &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;  \n &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;D-a-t-a&quot; type=&quot;xsd:string&quot; /&gt;  \n &lt;xsd:element minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot; name=&quot;MoreData&quot; type=&quot;xsd:string&quot; /&gt;  \n &lt;/xsd:choice&gt;  \n &lt;/xsd:sequence&gt;  \n&lt;/xsd:complexType&gt;  \n</code></pre><p> The resulting class then uses a field to return an array of items. For each item in the array, a corresponding <code>ItemChoiceType</code> enumeration must also be found. The matching enumerations are contained in the array returned by the <code>ItemsElementName</code> field.  </p>\n<pre><code>public class MyChoice {  \n [System.Xml.Serialization.XmlElementAttribute(&quot;D-a-t-a&quot;, typeof(string), IsNullable=false)]  \n [System.Xml.Serialization.XmlElementAttribute(&quot;MoreData&quot;, typeof(string), IsNullable=false)]  \n [System.Xml.Serialization.XmlChoiceIdentifierAttribute(&quot;ItemsElementName&quot;)]  \n public string[] Items;  \n [System.Xml.Serialization.XmlElementAttribute(IsNullable=false)]  \n [System.Xml.Serialization.XmlIgnoreAttribute()]  \n public ItemsChoiceType[] ItemsElementName;  \n}  \n[System.Xml.Serialization.XmlTypeAttribute(IncludeInSchema=false)]  \npublic enum ItemsChoiceType {  \n [System.Xml.Serialization.XmlEnumAttribute(&quot;D-a-t-a&quot;)]  \n Data,  \n MoreData,  \n}  \n</code></pre><p> When deserializing an object that includes a range of choices, use a control structure (such as an if...then...else structure) to determine how to deserialize a particular value. In the control structure, check the enumeration value and deserialize the value accordingly.</p>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor\" data-linktype=\"self-bookmark\">XmlChoiceIdentifierAttribute()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> class.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_System_String_\" data-linktype=\"self-bookmark\">XmlChoiceIdentifierAttribute(String)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> class.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName\" data-linktype=\"self-bookmark\">MemberName</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets the name of the field that returns the enumeration to use when detecting types.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor\">\r\n    \r\n            <a id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">XmlChoiceIdentifierAttribute()</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> class.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public XmlChoiceIdentifierAttribute ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example serializes a class named <code>Choices</code> that includes two fields, <code>MyChoice</code> and <code>ManyChoices</code>. The <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> is applied to each field that specifies (through the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute#System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName_\" data-linktype=\"relative-path\">MemberName</a> property) another class member that gets or sets an enumeration that detects the member value. The <code>MyChoice</code> field can be set to a single value, with a corresponding enumeration member found in the <code>EnumType</code> field. The <code>ManyChoices</code> field returns an array of objects. The <code>ChoiceArray</code> field returns an array of enumeration values. For each array member in the <code>ManyChoices</code> field, a corresponding member is found in the array returned by the <code>ChoiceArray</code> field.  </p>\n<pre><code class=\"lang-cs\" name=\"XmlChoiceIdentifierAttribute Example#1\">using System;\nusing System.Xml;\nusing System.Xml.Serialization;\nusing System.IO;\n\npublic class Choices{\n   // The MyChoice field can be set to any one of \n   // the types below. \n   [XmlChoiceIdentifier(&quot;EnumType&quot;)]\n   [XmlElement(&quot;Word&quot;, typeof(string))]\n   [XmlElement(&quot;Number&quot;, typeof(int))]\n   [XmlElement(&quot;DecimalNumber&quot;, typeof(double))]\n   public object MyChoice;\n\n   // Don&#39;t serialize this field. The EnumType field\n   // contains the enumeration value that corresponds\n   // to the MyChoice field value.\n   [XmlIgnore]\n   public ItemChoiceType EnumType;\n\n   // The ManyChoices field can contain an array\n   // of choices. Each choice must be matched to\n   // an array item in the ChoiceArray field.\n   [XmlChoiceIdentifier(&quot;ChoiceArray&quot;)]\n   [XmlElement(&quot;Item&quot;, typeof(string))]\n   [XmlElement(&quot;Amount&quot;, typeof(int))]\n   [XmlElement(&quot;Temp&quot;, typeof(double))]\n   public object[] ManyChoices;\n\n   // TheChoiceArray field contains the enumeration\n   // values, one for each item in the ManyChoices array.\n   [XmlIgnore]\n   public MoreChoices[] ChoiceArray;\n}\n\n[XmlType(IncludeInSchema=false)]\npublic enum ItemChoiceType{\n   None,\n   Word, \n   Number,\n   DecimalNumber\n}\n\npublic enum MoreChoices{\n   None,\n   Item,\n   Amount,\n   Temp\n}\n\npublic class Test{\n   static void Main(){\n      Test t = new Test();\n      t.SerializeObject(&quot;Choices.xml&quot;);\n      t.DeserializeObject(&quot;Choices.xml&quot;);\n   }\n\n   private void SerializeObject(string filename){\n      XmlSerializer mySerializer = \n      new XmlSerializer(typeof(Choices));\n      TextWriter writer = new StreamWriter(filename);\n      Choices myChoices = new Choices();\n\n      // Set the MyChoice field to a string. Set the\n      // EnumType to Word.\n      myChoices.MyChoice= &quot;Book&quot;;\n      myChoices.EnumType = ItemChoiceType.Word;\n\n      // Populate an object array with three items, one\n      // of each enumeration type. Set the array to the \n      // ManyChoices field.\n      object[] strChoices = new object[]{&quot;Food&quot;,  5, 98.6};\n      myChoices.ManyChoices=strChoices;\n\n      // For each item in the ManyChoices array, add an\n      // enumeration value.\n      MoreChoices[] itmChoices = new MoreChoices[]\n      {MoreChoices.Item, \n      MoreChoices.Amount,\n      MoreChoices.Temp};\n      myChoices.ChoiceArray=itmChoices;\n      \n      mySerializer.Serialize(writer, myChoices);\n      writer.Close();\n   }\n\n   private void DeserializeObject(string filename){\n      XmlSerializer ser = new XmlSerializer(typeof(Choices));\n\n      // A FileStream is needed to read the XML document.\n      FileStream fs = new FileStream(filename, FileMode.Open);\n      Choices myChoices = (Choices)\n      ser.Deserialize(fs);\n      fs.Close();\n\n      // Disambiguate the MyChoice value using the enumeration.\n      if(myChoices.EnumType == ItemChoiceType.Word){\n      \t   Console.WriteLine(&quot;Word: &quot; +  \n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n      else if(myChoices.EnumType == ItemChoiceType.Number){\n      \t   Console.WriteLine(&quot;Number: &quot; +\n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n      else if(myChoices.EnumType == ItemChoiceType.DecimalNumber){\n      \t   Console.WriteLine(&quot;DecimalNumber: &quot; +\n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n\n      // Disambiguate the ManyChoices values using the enumerations.\n      for(int i = 0; i&lt;myChoices.ManyChoices.Length; i++){\n      if(myChoices.ChoiceArray[i] == MoreChoices.Item)\n      \tConsole.WriteLine(&quot;Item: &quot; + (string) myChoices.ManyChoices[i]);\n      else if(myChoices.ChoiceArray[i] == MoreChoices.Amount)\n      \tConsole.WriteLine(&quot;Amount: &quot; + myChoices.ManyChoices[i].ToString());\n      if(myChoices.ChoiceArray[i] == MoreChoices.Temp)\n      \tConsole.WriteLine(&quot;Temp: &quot; + (string) myChoices.ManyChoices[i].ToString());\n      \t}\n      \n   }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"XmlChoiceIdentifierAttribute Example#1\">#using &lt;System.dll&gt;\n#using &lt;System.xml.dll&gt;\n\nusing namespace System;\nusing namespace System::Xml;\nusing namespace System::Xml::Serialization;\nusing namespace System::IO;\n\n[XmlType(IncludeInSchema=false)]\n\npublic enum class ItemChoiceType\n{\n   None, Word, Number, DecimalNumber\n};\n\npublic enum class MoreChoices\n{\n   None, Item, Amount, Temp\n};\n\npublic ref class Choices\n{\npublic:\n\n   // The MyChoice field can be set to any one of \n   // the types below. \n\n   [XmlChoiceIdentifier(&quot;EnumType&quot;)]\n   [XmlElement(&quot;Word&quot;,String::typeid)]\n   [XmlElement(&quot;Number&quot;,Int32::typeid)]\n   [XmlElement(&quot;DecimalNumber&quot;,Double::typeid)]\n   Object^ MyChoice;\n\n   // Don&#39;t serialize this field. The EnumType field\n   // contains the enumeration value that corresponds\n   // to the MyChoice field value.\n\n   [XmlIgnore]\n   ItemChoiceType EnumType;\n\n   // The ManyChoices field can contain an array\n   // of choices. Each choice must be matched to\n   // an array item in the ChoiceArray field.\n\n   [XmlChoiceIdentifier(&quot;ChoiceArray&quot;)]\n   [XmlElement(&quot;Item&quot;,String::typeid)]\n   [XmlElement(&quot;Amount&quot;,Int32::typeid)]\n   [XmlElement(&quot;Temp&quot;,Double::typeid)]\n   array&lt;Object^&gt;^ManyChoices;\n\n   // TheChoiceArray field contains the enumeration\n   // values, one for each item in the ManyChoices array.\n\n   [XmlIgnore]\n   array&lt;MoreChoices&gt;^ChoiceArray;\n};\n\nvoid SerializeObject( String^ filename );\nvoid DeserializeObject( String^ filename );\nint main()\n{\n   SerializeObject( &quot;Choices.xml&quot; );\n   DeserializeObject( &quot;Choices.xml&quot; );\n}\n\nvoid SerializeObject( String^ filename )\n{\n   XmlSerializer^ mySerializer = gcnew XmlSerializer( Choices::typeid );\n   TextWriter^ writer = gcnew StreamWriter( filename );\n   Choices^ myChoices = gcnew Choices;\n\n   // Set the MyChoice field to a string. Set the\n   // EnumType to Word.\n   myChoices-&gt;MyChoice = &quot;Book&quot;;\n   myChoices-&gt;EnumType = ItemChoiceType::Word;\n\n   // Populate an object array with three items, one\n   // of each enumeration type. Set the array to the \n   // ManyChoices field.\n   array&lt;Object^&gt;^strChoices = {&quot;Food&quot;,5,98.6};\n   myChoices-&gt;ManyChoices = strChoices;\n\n   // For each item in the ManyChoices array, add an\n   // enumeration value.\n   array&lt;MoreChoices&gt;^ itmChoices = {MoreChoices::Item,MoreChoices::Amount,MoreChoices::Temp};\n   myChoices-&gt;ChoiceArray = itmChoices;\n   mySerializer-&gt;Serialize( writer, myChoices );\n   writer-&gt;Close();\n}\n\nvoid DeserializeObject( String^ filename )\n{\n   XmlSerializer^ ser = gcnew XmlSerializer( Choices::typeid );\n\n   // A FileStream is needed to read the XML document.\n   FileStream^ fs = gcnew FileStream( filename,FileMode::Open );\n   Choices^ myChoices = safe_cast&lt;Choices^&gt;(ser-&gt;Deserialize( fs ));\n   fs-&gt;Close();\n\n   // Disambiguate the MyChoice value using the enumeration.\n   if ( myChoices-&gt;EnumType == ItemChoiceType::Word )\n   {\n      Console::WriteLine( &quot;Word: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n   else\n   if ( myChoices-&gt;EnumType == ItemChoiceType::Number )\n   {\n      Console::WriteLine( &quot;Number: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n   else\n   if ( myChoices-&gt;EnumType == ItemChoiceType::DecimalNumber )\n   {\n      Console::WriteLine( &quot;DecimalNumber: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n\n   // Disambiguate the ManyChoices values using the enumerations.\n   for ( int i = 0; i &lt; myChoices-&gt;ManyChoices-&gt;Length; i++ )\n   {\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Item )\n            Console::WriteLine( &quot;Item: {0}&quot;, myChoices-&gt;ManyChoices[ i ] );\n      else\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Amount )\n            Console::WriteLine( &quot;Amount: &quot;, myChoices-&gt;ManyChoices[ i ]-&gt;ToString() );\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Temp )\n            Console::WriteLine( &quot;Temp: {0}&quot;, myChoices-&gt;ManyChoices[ i ]-&gt;ToString() );\n   }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"XmlChoiceIdentifierAttribute Example#1\">Imports System\nImports System.Xml\nImports System.Xml.Serialization\nImports System.IO\n\nPublic Class Choices\n   &#39; The MyChoice field can be set to any one of \n   &#39; the types below. \n   &lt;XmlChoiceIdentifier(&quot;EnumType&quot;), _\n   XmlElement(&quot;Word&quot;, GetType(String)), _\n   XmlElement(&quot;Number&quot;, GetType(Integer)), _\n   XmlElement(&quot;DecimalNumber&quot;, GetType(double))&gt; _\n   Public MyChoice As Object \n\n   &#39; Don&#39;t serialize this field. The EnumType field\n   &#39; contains the enumeration value that corresponds\n   &#39; to the MyChoice field value.\n   &lt;XmlIgnore&gt; _\n   Public EnumType As ItemChoiceType \n\n   &#39;The ManyChoices field can contain an array\n   &#39; of choices. Each choice must be matched to\n   &#39; an array item in the ChoiceArray field.\n   &lt;XmlChoiceIdentifier(&quot;ChoiceArray&quot;), _\n   XmlElement(&quot;Item&quot;, GetType(string)), _\n   XmlElement(&quot;Amount&quot;, GetType(Integer)), _\n   XmlElement(&quot;Temp&quot;, GetType(double))&gt; _\n   Public ManyChoices() As Object\n\n   &#39; TheChoiceArray field contains the enumeration\n   &#39; values, one for each item in the ManyChoices array.\n   &lt;XmlIgnore&gt; _\n   Public ChoiceArray() As MoreChoices\nEnd Class\n\n&lt;XmlType(IncludeInSchema:=false)&gt; _\nPublic Enum ItemChoiceType\n   None\n   Word \n   Number\n   DecimalNumber\nEnd Enum\n\n&lt;XmlType(IncludeInSchema:=false)&gt; _\nPublic Enum MoreChoices\n   None\n   Item\n   Amount\n   Temp\nEnd Enum\n\nPublic Class Test\n   Shared Sub Main()\n      Dim t  As Test = New Test()\n      t.SerializeObject(&quot;Choices.xml&quot;)\n      t.DeserializeObject(&quot;Choices.xml&quot;)\n   End Sub\n\n   private Sub SerializeObject(filename As string)\n      Dim mySerializer As XmlSerializer = _\n      New XmlSerializer(GetType(Choices))\n      Dim writer As TextWriter = New StreamWriter(filename)\n      Dim myChoices As Choices = New Choices()\n\n      &#39; Set the MyChoice field to a string. Set the\n      &#39; EnumType to Word.\n      myChoices.MyChoice= &quot;Book&quot;\n      myChoices.EnumType = ItemChoiceType.Word\n\n      &#39; Populate an object array with three items, one\n      &#39; of each enumeration type. Set the array to the \n      &#39; ManyChoices field.\n      Dim strChoices () As Object = New object(){&quot;Food&quot;,  5, 98.6}\n      myChoices.ManyChoices=strChoices\n\n      &#39; For each item in the ManyChoices array, add an\n      &#39; enumeration value.\n      Dim itmChoices () As MoreChoices = New MoreChoices() _\n      {MoreChoices.Item, _\n      MoreChoices.Amount, _\n      MoreChoices.Temp}\n      myChoices.ChoiceArray=itmChoices\n      \n      mySerializer.Serialize(writer, myChoices)\n      writer.Close()\n   End Sub\n\n   private Sub DeserializeObject(filename As string)\n      Dim ser As XmlSerializer = New XmlSerializer(GetType(Choices))\n      \n\n      &#39; A FileStream is needed to read the XML document.\n      Dim fs As FileStream = New FileStream(filename, FileMode.Open)\n      \n      Dim myChoices As Choices = CType(ser.Deserialize(fs), Choices)\n\n      fs.Close()\n\n      &#39; Disambiguate the MyChoice value Imports the enumeration.\n      if myChoices.EnumType = ItemChoiceType.Word Then\n      \t   Console.WriteLine(&quot;Word: &quot; &amp; _\n      \t   myChoices.MyChoice.ToString())\n      \t\n      else if myChoices.EnumType = ItemChoiceType.Number Then \n      \t   Console.WriteLine(&quot;Number: &quot; &amp; _\n      \t   \tmyChoices.MyChoice.ToString())\n      \t\n      else if myChoices.EnumType = ItemChoiceType.DecimalNumber Then\n         Console.WriteLine(&quot;DecimalNumber: &quot; &amp; _\n      \t   \tmyChoices.MyChoice.ToString())\n      \tEnd If\n\n      &#39; Disambiguate the ManyChoices values Imports the enumerations.\n      Dim i As Integer\n      for i = 0 to myChoices.ManyChoices.Length -1\n      if myChoices.ChoiceArray(i) = MoreChoices.Item Then\n      \tConsole.WriteLine(&quot;Item: &quot; +  _\n      \tmyChoices.ManyChoices(i).ToString())\n      else if myChoices.ChoiceArray(i) = MoreChoices.Amount Then\n      \tConsole.WriteLine(&quot;Amount: &quot; + _\n      \tmyChoices.ManyChoices(i).ToString())\n      else if (myChoices.ChoiceArray(i) = MoreChoices.Temp)\n      \tConsole.WriteLine(&quot;Temp: &quot; + _\n      \tmyChoices.ManyChoices(i).ToString())\n      \tEnd If\n      \tNext i\n      \n   End Sub\nEnd Class\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_System_String_\">\r\n    \r\n            <a id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">XmlChoiceIdentifierAttribute(String)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> class.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public XmlChoiceIdentifierAttribute (string name);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>name</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The member name that returns the enumeration used to detect a choice.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName\">\r\n    \r\n            <a id=\"System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">MemberName</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets the name of the field that returns the enumeration to use when detecting types.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public string MemberName { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </div>\r\n                  <p>The name of a field that returns an enumeration.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>At least one member must be present in the enumeration returned by the field named in the MemberName value. By default, that enumeration name takes the name of the field that the <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> is applied to.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example serializes a class named <code>Choices</code> that includes two fields, <code>MyChoice</code> and <code>ManyChoices</code>. The <a class=\"xref\" href=\"system.xml.serialization.xmlchoiceidentifierattribute\" data-linktype=\"relative-path\">XmlChoiceIdentifierAttribute</a> is applied to each field that specifies (through the MemberName property) another class member that gets or sets an enumeration that detects the member value. The <code>MyChoice</code> field can be set to a single value, with a corresponding enumeration member found in the <code>EnumType</code> field. The <code>ManyChoices</code> field returns an array of objects. The <code>ChoiceArray</code> field returns an array of enumeration values. For each array member in the <code>ManyChoices</code> field, a corresponding member is found in the array returned by the <code>ChoiceArray</code> field.  </p>\n<pre><code class=\"lang-cs\" name=\"XmlChoiceIdentifierAttribute Example#1\">using System;\nusing System.Xml;\nusing System.Xml.Serialization;\nusing System.IO;\n\npublic class Choices{\n   // The MyChoice field can be set to any one of \n   // the types below. \n   [XmlChoiceIdentifier(&quot;EnumType&quot;)]\n   [XmlElement(&quot;Word&quot;, typeof(string))]\n   [XmlElement(&quot;Number&quot;, typeof(int))]\n   [XmlElement(&quot;DecimalNumber&quot;, typeof(double))]\n   public object MyChoice;\n\n   // Don&#39;t serialize this field. The EnumType field\n   // contains the enumeration value that corresponds\n   // to the MyChoice field value.\n   [XmlIgnore]\n   public ItemChoiceType EnumType;\n\n   // The ManyChoices field can contain an array\n   // of choices. Each choice must be matched to\n   // an array item in the ChoiceArray field.\n   [XmlChoiceIdentifier(&quot;ChoiceArray&quot;)]\n   [XmlElement(&quot;Item&quot;, typeof(string))]\n   [XmlElement(&quot;Amount&quot;, typeof(int))]\n   [XmlElement(&quot;Temp&quot;, typeof(double))]\n   public object[] ManyChoices;\n\n   // TheChoiceArray field contains the enumeration\n   // values, one for each item in the ManyChoices array.\n   [XmlIgnore]\n   public MoreChoices[] ChoiceArray;\n}\n\n[XmlType(IncludeInSchema=false)]\npublic enum ItemChoiceType{\n   None,\n   Word, \n   Number,\n   DecimalNumber\n}\n\npublic enum MoreChoices{\n   None,\n   Item,\n   Amount,\n   Temp\n}\n\npublic class Test{\n   static void Main(){\n      Test t = new Test();\n      t.SerializeObject(&quot;Choices.xml&quot;);\n      t.DeserializeObject(&quot;Choices.xml&quot;);\n   }\n\n   private void SerializeObject(string filename){\n      XmlSerializer mySerializer = \n      new XmlSerializer(typeof(Choices));\n      TextWriter writer = new StreamWriter(filename);\n      Choices myChoices = new Choices();\n\n      // Set the MyChoice field to a string. Set the\n      // EnumType to Word.\n      myChoices.MyChoice= &quot;Book&quot;;\n      myChoices.EnumType = ItemChoiceType.Word;\n\n      // Populate an object array with three items, one\n      // of each enumeration type. Set the array to the \n      // ManyChoices field.\n      object[] strChoices = new object[]{&quot;Food&quot;,  5, 98.6};\n      myChoices.ManyChoices=strChoices;\n\n      // For each item in the ManyChoices array, add an\n      // enumeration value.\n      MoreChoices[] itmChoices = new MoreChoices[]\n      {MoreChoices.Item, \n      MoreChoices.Amount,\n      MoreChoices.Temp};\n      myChoices.ChoiceArray=itmChoices;\n      \n      mySerializer.Serialize(writer, myChoices);\n      writer.Close();\n   }\n\n   private void DeserializeObject(string filename){\n      XmlSerializer ser = new XmlSerializer(typeof(Choices));\n\n      // A FileStream is needed to read the XML document.\n      FileStream fs = new FileStream(filename, FileMode.Open);\n      Choices myChoices = (Choices)\n      ser.Deserialize(fs);\n      fs.Close();\n\n      // Disambiguate the MyChoice value using the enumeration.\n      if(myChoices.EnumType == ItemChoiceType.Word){\n      \t   Console.WriteLine(&quot;Word: &quot; +  \n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n      else if(myChoices.EnumType == ItemChoiceType.Number){\n      \t   Console.WriteLine(&quot;Number: &quot; +\n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n      else if(myChoices.EnumType == ItemChoiceType.DecimalNumber){\n      \t   Console.WriteLine(&quot;DecimalNumber: &quot; +\n      \t   \tmyChoices.MyChoice.ToString());\n      \t}\n\n      // Disambiguate the ManyChoices values using the enumerations.\n      for(int i = 0; i&lt;myChoices.ManyChoices.Length; i++){\n      if(myChoices.ChoiceArray[i] == MoreChoices.Item)\n      \tConsole.WriteLine(&quot;Item: &quot; + (string) myChoices.ManyChoices[i]);\n      else if(myChoices.ChoiceArray[i] == MoreChoices.Amount)\n      \tConsole.WriteLine(&quot;Amount: &quot; + myChoices.ManyChoices[i].ToString());\n      if(myChoices.ChoiceArray[i] == MoreChoices.Temp)\n      \tConsole.WriteLine(&quot;Temp: &quot; + (string) myChoices.ManyChoices[i].ToString());\n      \t}\n      \n   }\n}\n</code></pre><pre><code class=\"lang-cpp\" name=\"XmlChoiceIdentifierAttribute Example#1\">#using &lt;System.dll&gt;\n#using &lt;System.xml.dll&gt;\n\nusing namespace System;\nusing namespace System::Xml;\nusing namespace System::Xml::Serialization;\nusing namespace System::IO;\n\n[XmlType(IncludeInSchema=false)]\n\npublic enum class ItemChoiceType\n{\n   None, Word, Number, DecimalNumber\n};\n\npublic enum class MoreChoices\n{\n   None, Item, Amount, Temp\n};\n\npublic ref class Choices\n{\npublic:\n\n   // The MyChoice field can be set to any one of \n   // the types below. \n\n   [XmlChoiceIdentifier(&quot;EnumType&quot;)]\n   [XmlElement(&quot;Word&quot;,String::typeid)]\n   [XmlElement(&quot;Number&quot;,Int32::typeid)]\n   [XmlElement(&quot;DecimalNumber&quot;,Double::typeid)]\n   Object^ MyChoice;\n\n   // Don&#39;t serialize this field. The EnumType field\n   // contains the enumeration value that corresponds\n   // to the MyChoice field value.\n\n   [XmlIgnore]\n   ItemChoiceType EnumType;\n\n   // The ManyChoices field can contain an array\n   // of choices. Each choice must be matched to\n   // an array item in the ChoiceArray field.\n\n   [XmlChoiceIdentifier(&quot;ChoiceArray&quot;)]\n   [XmlElement(&quot;Item&quot;,String::typeid)]\n   [XmlElement(&quot;Amount&quot;,Int32::typeid)]\n   [XmlElement(&quot;Temp&quot;,Double::typeid)]\n   array&lt;Object^&gt;^ManyChoices;\n\n   // TheChoiceArray field contains the enumeration\n   // values, one for each item in the ManyChoices array.\n\n   [XmlIgnore]\n   array&lt;MoreChoices&gt;^ChoiceArray;\n};\n\nvoid SerializeObject( String^ filename );\nvoid DeserializeObject( String^ filename );\nint main()\n{\n   SerializeObject( &quot;Choices.xml&quot; );\n   DeserializeObject( &quot;Choices.xml&quot; );\n}\n\nvoid SerializeObject( String^ filename )\n{\n   XmlSerializer^ mySerializer = gcnew XmlSerializer( Choices::typeid );\n   TextWriter^ writer = gcnew StreamWriter( filename );\n   Choices^ myChoices = gcnew Choices;\n\n   // Set the MyChoice field to a string. Set the\n   // EnumType to Word.\n   myChoices-&gt;MyChoice = &quot;Book&quot;;\n   myChoices-&gt;EnumType = ItemChoiceType::Word;\n\n   // Populate an object array with three items, one\n   // of each enumeration type. Set the array to the \n   // ManyChoices field.\n   array&lt;Object^&gt;^strChoices = {&quot;Food&quot;,5,98.6};\n   myChoices-&gt;ManyChoices = strChoices;\n\n   // For each item in the ManyChoices array, add an\n   // enumeration value.\n   array&lt;MoreChoices&gt;^ itmChoices = {MoreChoices::Item,MoreChoices::Amount,MoreChoices::Temp};\n   myChoices-&gt;ChoiceArray = itmChoices;\n   mySerializer-&gt;Serialize( writer, myChoices );\n   writer-&gt;Close();\n}\n\nvoid DeserializeObject( String^ filename )\n{\n   XmlSerializer^ ser = gcnew XmlSerializer( Choices::typeid );\n\n   // A FileStream is needed to read the XML document.\n   FileStream^ fs = gcnew FileStream( filename,FileMode::Open );\n   Choices^ myChoices = safe_cast&lt;Choices^&gt;(ser-&gt;Deserialize( fs ));\n   fs-&gt;Close();\n\n   // Disambiguate the MyChoice value using the enumeration.\n   if ( myChoices-&gt;EnumType == ItemChoiceType::Word )\n   {\n      Console::WriteLine( &quot;Word: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n   else\n   if ( myChoices-&gt;EnumType == ItemChoiceType::Number )\n   {\n      Console::WriteLine( &quot;Number: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n   else\n   if ( myChoices-&gt;EnumType == ItemChoiceType::DecimalNumber )\n   {\n      Console::WriteLine( &quot;DecimalNumber: {0}&quot;, myChoices-&gt;MyChoice-&gt;ToString() );\n   }\n\n   // Disambiguate the ManyChoices values using the enumerations.\n   for ( int i = 0; i &lt; myChoices-&gt;ManyChoices-&gt;Length; i++ )\n   {\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Item )\n            Console::WriteLine( &quot;Item: {0}&quot;, myChoices-&gt;ManyChoices[ i ] );\n      else\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Amount )\n            Console::WriteLine( &quot;Amount: &quot;, myChoices-&gt;ManyChoices[ i ]-&gt;ToString() );\n      if ( myChoices-&gt;ChoiceArray[ i ] == MoreChoices::Temp )\n            Console::WriteLine( &quot;Temp: {0}&quot;, myChoices-&gt;ManyChoices[ i ]-&gt;ToString() );\n   }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"XmlChoiceIdentifierAttribute Example#1\">Imports System\nImports System.Xml\nImports System.Xml.Serialization\nImports System.IO\n\nPublic Class Choices\n   &#39; The MyChoice field can be set to any one of \n   &#39; the types below. \n   &lt;XmlChoiceIdentifier(&quot;EnumType&quot;), _\n   XmlElement(&quot;Word&quot;, GetType(String)), _\n   XmlElement(&quot;Number&quot;, GetType(Integer)), _\n   XmlElement(&quot;DecimalNumber&quot;, GetType(double))&gt; _\n   Public MyChoice As Object \n\n   &#39; Don&#39;t serialize this field. The EnumType field\n   &#39; contains the enumeration value that corresponds\n   &#39; to the MyChoice field value.\n   &lt;XmlIgnore&gt; _\n   Public EnumType As ItemChoiceType \n\n   &#39;The ManyChoices field can contain an array\n   &#39; of choices. Each choice must be matched to\n   &#39; an array item in the ChoiceArray field.\n   &lt;XmlChoiceIdentifier(&quot;ChoiceArray&quot;), _\n   XmlElement(&quot;Item&quot;, GetType(string)), _\n   XmlElement(&quot;Amount&quot;, GetType(Integer)), _\n   XmlElement(&quot;Temp&quot;, GetType(double))&gt; _\n   Public ManyChoices() As Object\n\n   &#39; TheChoiceArray field contains the enumeration\n   &#39; values, one for each item in the ManyChoices array.\n   &lt;XmlIgnore&gt; _\n   Public ChoiceArray() As MoreChoices\nEnd Class\n\n&lt;XmlType(IncludeInSchema:=false)&gt; _\nPublic Enum ItemChoiceType\n   None\n   Word \n   Number\n   DecimalNumber\nEnd Enum\n\n&lt;XmlType(IncludeInSchema:=false)&gt; _\nPublic Enum MoreChoices\n   None\n   Item\n   Amount\n   Temp\nEnd Enum\n\nPublic Class Test\n   Shared Sub Main()\n      Dim t  As Test = New Test()\n      t.SerializeObject(&quot;Choices.xml&quot;)\n      t.DeserializeObject(&quot;Choices.xml&quot;)\n   End Sub\n\n   private Sub SerializeObject(filename As string)\n      Dim mySerializer As XmlSerializer = _\n      New XmlSerializer(GetType(Choices))\n      Dim writer As TextWriter = New StreamWriter(filename)\n      Dim myChoices As Choices = New Choices()\n\n      &#39; Set the MyChoice field to a string. Set the\n      &#39; EnumType to Word.\n      myChoices.MyChoice= &quot;Book&quot;\n      myChoices.EnumType = ItemChoiceType.Word\n\n      &#39; Populate an object array with three items, one\n      &#39; of each enumeration type. Set the array to the \n      &#39; ManyChoices field.\n      Dim strChoices () As Object = New object(){&quot;Food&quot;,  5, 98.6}\n      myChoices.ManyChoices=strChoices\n\n      &#39; For each item in the ManyChoices array, add an\n      &#39; enumeration value.\n      Dim itmChoices () As MoreChoices = New MoreChoices() _\n      {MoreChoices.Item, _\n      MoreChoices.Amount, _\n      MoreChoices.Temp}\n      myChoices.ChoiceArray=itmChoices\n      \n      mySerializer.Serialize(writer, myChoices)\n      writer.Close()\n   End Sub\n\n   private Sub DeserializeObject(filename As string)\n      Dim ser As XmlSerializer = New XmlSerializer(GetType(Choices))\n      \n\n      &#39; A FileStream is needed to read the XML document.\n      Dim fs As FileStream = New FileStream(filename, FileMode.Open)\n      \n      Dim myChoices As Choices = CType(ser.Deserialize(fs), Choices)\n\n      fs.Close()\n\n      &#39; Disambiguate the MyChoice value Imports the enumeration.\n      if myChoices.EnumType = ItemChoiceType.Word Then\n      \t   Console.WriteLine(&quot;Word: &quot; &amp; _\n      \t   myChoices.MyChoice.ToString())\n      \t\n      else if myChoices.EnumType = ItemChoiceType.Number Then \n      \t   Console.WriteLine(&quot;Number: &quot; &amp; _\n      \t   \tmyChoices.MyChoice.ToString())\n      \t\n      else if myChoices.EnumType = ItemChoiceType.DecimalNumber Then\n         Console.WriteLine(&quot;DecimalNumber: &quot; &amp; _\n      \t   \tmyChoices.MyChoice.ToString())\n      \tEnd If\n\n      &#39; Disambiguate the ManyChoices values Imports the enumerations.\n      Dim i As Integer\n      for i = 0 to myChoices.ManyChoices.Length -1\n      if myChoices.ChoiceArray(i) = MoreChoices.Item Then\n      \tConsole.WriteLine(&quot;Item: &quot; +  _\n      \tmyChoices.ManyChoices(i).ToString())\n      else if myChoices.ChoiceArray(i) = MoreChoices.Amount Then\n      \tConsole.WriteLine(&quot;Amount: &quot; + _\n      \tmyChoices.ManyChoices(i).ToString())\n      else if (myChoices.ChoiceArray(i) = MoreChoices.Temp)\n      \tConsole.WriteLine(&quot;Temp: &quot; + _\n      \tmyChoices.ManyChoices(i).ToString())\n      \tEnd If\n      \tNext i\n      \n   End Sub\nEnd Class\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Xml.Serialization.XmlChoiceIdentifierAttribute.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Xml.Serialization.XmlChoiceIdentifierAttribute.yml\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlChoiceIdentifierAttribute\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlChoiceIdentifierAttribute..ctor\">\r\n<meta name=\"APIName\" content=\"System.Xml.Serialization.XmlChoiceIdentifierAttribute.MemberName\">\r\n<meta name=\"APILocation\" content=\"System.Xml.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"3ae03b03-2dd6-efe4-c9f2-2915782df0e1\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Specifies that the member can be further detected by using an enumeration.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Xml.Serialization/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Xml.Serialization.XmlChoiceIdentifierAttribute\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Xml.Serialization.XmlChoiceIdentifierAttribute.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Xml.Serialization.XmlChoiceIdentifierAttribute.yml","open_to_public_contributors":true,"api_name":["System.Xml.Serialization.XmlChoiceIdentifierAttribute","System.Xml.Serialization.XmlChoiceIdentifierAttribute..ctor","System.Xml.Serialization.XmlChoiceIdentifierAttribute.MemberName"],"api_location":["System.Xml.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Xml.Serialization.XmlChoiceIdentifierAttribute","System::Xml::Serialization::XmlChoiceIdentifierAttribute","System.Xml.Serialization.XmlChoiceIdentifierAttribute.#ctor","System::Xml::Serialization::XmlChoiceIdentifierAttribute::#ctor","System.Xml.Serialization.XmlChoiceIdentifierAttribute.MemberName","System::Xml::Serialization::XmlChoiceIdentifierAttribute::MemberName"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"3ae03b03-2dd6-efe4-c9f2-2915782df0e1","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Xml.Serialization/XmlChoiceIdentifierAttribute.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"XmlChoiceIdentifierAttribute class | Microsoft Docs","_op_ogTitle":"XmlChoiceIdentifierAttribute class","description":"Specifies that the member can be further detected by using an enumeration.\n","toc_asset_id":"_splitted/System.Xml.Serialization/toc.json","toc_rel":"_splitted/System.Xml.Serialization/toc.json","source_url":"","ms.assetid":"System.Xml.Serialization.XmlChoiceIdentifierAttribute","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.xml.serialization.xmlchoiceidentifierattribute","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.xml.serialization.xmlchoiceidentifierattribute","fileRelativePath":"System.Xml.Serialization.XmlChoiceIdentifierAttribute.html"},"themesRelativePathToOutputRoot":"_themes/"}