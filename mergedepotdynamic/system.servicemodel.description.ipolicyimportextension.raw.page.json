{"content":"\r\n<div style=\"display:none\">\r\n\t\r\n</div>\r\n\r\n  \r\n  <h1>\r\n    <span class=\"lang-csharp\">IPolicyImportExtension</span>\r\n      Interface\r\n  </h1>\r\n  \r\n  <h2 class=\"hiddenAnchor\">Definition</h2>\r\n  \r\n  <div class=\"metadata\">\r\n  \r\n  \r\n  </div>\r\n  \r\n  <div class=\"summaryHolder\">\r\n  \t<div class=\"summary\">\r\n  \t\t<p>Defines a method for objects that import custom policy assertions about bindings.</p>\n\r\n  \t</div>\r\n  </div><nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n    <h3>In this Article</h3>\r\n  </nav>\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\">public interface IPolicyImportExtension</code></pre>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \t<h2 class=\"accented\">Remarks</h2>\r\n  \t<p>Implement the IPolicyImportExtension interface to search WSDL information exposed by a particular endpoint for custom policy assertions about endpoint capabilities or requirements. Typically, a policy importer searches for a specific assertion and either inserts a binding element, configures a binding element, or modifies the contract to support the requirements of the assertion.  </p>\n<p> Unlike its counterpart, <a class=\"xref\" href=\"system.servicemodel.description.ipolicyexportextension\" data-linktype=\"relative-path\">IPolicyExportExtension</a>, IPolicyImportExtension does not require implementation by a <a class=\"xref\" href=\"system.servicemodel.channels.bindingelement\" data-linktype=\"relative-path\">BindingElement</a> object; you can load it using the client configuration section shown in the Examples section or programmatically by adding it to the <a class=\"xref\" href=\"system.servicemodel.description.wsdlimporter\" data-linktype=\"relative-path\">System.ServiceModel.Description.WsdlImporter</a> constructor.  </p>\n<p> Windows Communication Foundation (WCF) passes two objects to the <a class=\"xref\" href=\"system.servicemodel.description.ipolicyimportextension#System_ServiceModel_Description_IPolicyImportExtension_ImportPolicy_\" data-linktype=\"relative-path\">ImportPolicy</a> method, a <a class=\"xref\" href=\"system.servicemodel.description.metadataimporter\" data-linktype=\"relative-path\">MetadataImporter</a> and a <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a>. Typically the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a> object already contains the policy assertions for each binding scope.  </p>\n<p> An IPolicyImportExtension implementation performs the following steps:  </p>\n<ol>\n<li><p>Locates the custom policy assertion for which it is responsible by calling either the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetBindingAssertions_\" data-linktype=\"relative-path\">GetBindingAssertions</a>, <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetMessageBindingAssertions_\" data-linktype=\"relative-path\">GetMessageBindingAssertions</a>, or <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetOperationBindingAssertions_\" data-linktype=\"relative-path\">GetOperationBindingAssertions</a> methods, depending upon the scope.  </p>\n</li>\n<li><p>Removes the policy assertion from the assertion collection. The <a class=\"xref\" href=\"system.servicemodel.description.policyassertioncollection#System_ServiceModel_Description_PolicyAssertionCollection_Remove_\" data-linktype=\"relative-path\">Remove</a> method locates, returns, and removes the assertion in one step.  </p>\n</li>\n<li><p>Modify the binding stack or the contract by either adding a required custom <a class=\"xref\" href=\"system.servicemodel.channels.bindingelement\" data-linktype=\"relative-path\">BindingElement</a> to the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_BindingElements_\" data-linktype=\"relative-path\">BindingElements</a> property or by modifying the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_Contract_\" data-linktype=\"relative-path\">Contract</a> property.  </p>\n<p>Step 2 is important. After all policy importers have been called, WCF checks for the existence of any policy assertions that remain. If one exists, WCF assumes that the policy import was unsuccessful and does not import the associated binding.  </p>\n</li>\n</ol>\n<div class=\"IMPORTANT\"><h5>Important</h5><p> A malicious metadata supplier can attempt to send malformed XML as part of metadata in an attempt to exploit a policy importer. It is strongly recommended that custom policy importers be robust to all forms of XML that can be passed to it.  </p>\n</div>\n<p> Custom <a class=\"xref\" href=\"system.servicemodel.description.metadataimporter\" data-linktype=\"relative-path\">MetadataImporter</a> implementations must implement their own <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a> object to extract the policy assertions attached to the custom metadata format.  </p>\n<p> If you want to export and import custom WSDL elements that are not policy assertions, see <a class=\"xref\" href=\"system.servicemodel.description.iwsdlexportextension\" data-linktype=\"relative-path\">System.ServiceModel.Description.IWsdlExportExtension</a> and <a class=\"xref\" href=\"system.servicemodel.description.iwsdlimportextension\" data-linktype=\"relative-path\">System.ServiceModel.Description.IWsdlImportExtension</a>.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> You can use custom policy importers and exporters with the <a href=\"../Topic/ServiceModel%20Metadata%20Utility%20Tool%20(Svcutil.exe).md\" data-linktype=\"relative-path\">ServiceModel Metadata Utility Tool (Svcutil.exe)</a> by using the same configuration elements in a configuration file and the <code>/svcutilConfig:&lt;configFile&gt;</code> option.</p>\n</div>\n\r\n  \r\n  \r\n  \t\t<section>\r\n  \t\t\t<h2 class=\"accented \">Methods\r\n  \t\t</h2>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberNameHolder\" id=\"System_ServiceModel_Description_IPolicyImportExtension_ImportPolicy_System_ServiceModel_Description_MetadataImporter_System_ServiceModel_Description_PolicyConversionContext_\">\r\n  \t\t\t\t\t<h3 class=\"accented\">\r\n  \t\t\t\t\t\t<span class=\"lang-csharp\">ImportPolicy(MetadataImporter,PolicyConversionContext)</span>        \r\n  \t\t\t\t\t</h3>\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\t\t<div class=\"memberInfo\">\r\n  \t\t\t\t\t<p>Defines a method that can import custom policy assertions and add implementing binding elements.</p>\n\r\n  \t\t\r\n  \t\t\t\t\t\t<pre class=\"wrap loading\"><code class=\"csharp lang-csharp\" dir=\"ltr\">public void ImportPolicy (System.ServiceModel.Description.MetadataImporter importer, System.ServiceModel.Description.PolicyConversionContext context);</code></pre>\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t\t\t\t<dt>importer</dt>\r\n  \t\t\t\t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.servicemodel.description.metadataimporter\" data-linktype=\"relative-path\">MetadataImporter</a></span>\r\n  \t\t\t\t\t\t\t\t</dd>\r\n  \t\t\t\t\t\t\t</dl>\r\n  \t\t\t\t\t\t\t<p>The <a class=\"xref\" href=\"system.servicemodel.description.metadataimporter\" data-linktype=\"relative-path\">MetadataImporter</a> object in use.</p>\n\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t<div class=\"propertyInfo\">\r\n  \t\t\t\t\t\t\t<dl class=\"parameterList\">\r\n  \t\t\t\t\t\t\t\t<dt>context</dt>\r\n  \t\t\t\t\t\t\t\t<dd>\r\n  \t\t\t\t\t\t\t\t\t\t<span class=\"lang-csharp\"><a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a></span>\r\n  \t\t\t\t\t\t\t\t</dd>\r\n  \t\t\t\t\t\t\t</dl>\r\n  \t\t\t\t\t\t\t<p>The <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a> that contains both the policy assertions that can be imported and the collections of binding elements to which implementing binding elements can be added.</p>\n\r\n  \t\t\t\t\t\t\t</div>\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\r\n  \t\t\t\t\t\t<h4 class=\"accented\">Remarks</h4>\r\n  \t\t\t\t\t\t<p>Implement the <code>ImportPolicy</code> method to obtain policy assertions and perform some modification of the imported contract or binding to support the assertion. Typically, a policy importer responds to finding a custom policy assertion by configuring or inserting a binding element into the binding being imported.  </p>\n<p> Windows Communication Foundation (WCF) passes two objects to the ImportPolicy method, a <a class=\"xref\" href=\"system.servicemodel.description.metadataimporter\" data-linktype=\"relative-path\">MetadataImporter</a> and a <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a>. Typically the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext\" data-linktype=\"relative-path\">PolicyConversionContext</a> object already contains the policy assertions for each binding scope.  </p>\n<p> An <a class=\"xref\" href=\"system.servicemodel.description.ipolicyimportextension\" data-linktype=\"relative-path\">IPolicyImportExtension</a> implementation performs the following steps:  </p>\n<ol>\n<li><p>Locates the custom policy assertion for which it is responsible by calling either the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetBindingAssertions_\" data-linktype=\"relative-path\">GetBindingAssertions</a>, <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetMessageBindingAssertions_\" data-linktype=\"relative-path\">GetMessageBindingAssertions</a>, or <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_GetOperationBindingAssertions_\" data-linktype=\"relative-path\">GetOperationBindingAssertions</a> methods, depending upon the scope.  </p>\n</li>\n<li><p>Removes the policy assertion from the assertion collection. The <a class=\"xref\" href=\"system.servicemodel.description.policyassertioncollection#System_ServiceModel_Description_PolicyAssertionCollection_Remove_\" data-linktype=\"relative-path\">Remove</a> method locates, returns, and removes the assertion in one step.  </p>\n</li>\n<li><p>Modifies the binding stack or the contract by either adding a required custom <a class=\"xref\" href=\"system.servicemodel.channels.bindingelement\" data-linktype=\"relative-path\">BindingElement</a> to the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_BindingElements_\" data-linktype=\"relative-path\">BindingElements</a> property or by modifying the <a class=\"xref\" href=\"system.servicemodel.description.policyconversioncontext#System_ServiceModel_Description_PolicyConversionContext_Contract_\" data-linktype=\"relative-path\">Contract</a> property.  </p>\n<p>Step 2 is important. After all policy importers have been called, WCF checks for the existence of any policy assertions that remain. If one exists, WCF assumes that the policy import was unsuccessful and does not import the associated binding.</p>\n</li>\n</ol>\n\r\n  \t\t\r\n  \t\t\t\t</div>\r\n  \t\t\r\n  \t\t\r\n  \t\t  \r\n  \t\t</section>\r\n  \r\n  \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Description.IPolicyImportExtension.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Description.IPolicyImportExtension.yml\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Description.IPolicyImportExtension\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Description.IPolicyImportExtension.ImportPolicy\">\r\n<meta name=\"APILocation\" content=\"System.ServiceModel.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"5b8b241b-746c-fe12-e5bd-daa12f41384e\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Defines a method for objects that import custom policy assertions about bindings.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.ServiceModel.Description/toc.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.ServiceModel.Description.IPolicyImportExtension\">\r\n","rawMetadata":{"author":"dotnet-bot","breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Description.IPolicyImportExtension.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Description.IPolicyImportExtension.yml","open_to_public_contributors":true,"api_name":["System.ServiceModel.Description.IPolicyImportExtension","System.ServiceModel.Description.IPolicyImportExtension.ImportPolicy"],"api_location":["System.ServiceModel.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.ServiceModel.Description.IPolicyImportExtension","System::ServiceModel::Description::IPolicyImportExtension","System.ServiceModel.Description.IPolicyImportExtension.ImportPolicy","System::ServiceModel::Description::IPolicyImportExtension::ImportPolicy"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"5b8b241b-746c-fe12-e5bd-daa12f41384e","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.ServiceModel.Description/IPolicyImportExtension.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"IPolicyImportExtension interface | Microsoft Docs","_op_ogTitle":"IPolicyImportExtension interface","description":"Defines a method for objects that import custom policy assertions about bindings.\n","toc_asset_id":"_splitted/System.ServiceModel.Description/toc.json","toc_rel":"_splitted/System.ServiceModel.Description/toc.json","source_url":"","ms.assetid":"System.ServiceModel.Description.IPolicyImportExtension","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.description.ipolicyimportextension","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.description.ipolicyimportextension","fileRelativePath":"System.ServiceModel.Description.IPolicyImportExtension.html"},"themesRelativePathToOutputRoot":"_themes/"}