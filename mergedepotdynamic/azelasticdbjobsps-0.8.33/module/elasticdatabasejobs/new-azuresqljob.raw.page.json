{"content":"\r\n<h1 id=\"azelasticdbjobsps_0_8_33_ElasticDatabaseJobs_New_AzureSqlJob_md\">New-AzureSqlJob</h1>\r\n\r\n\r\n\t<div class=\"summary\">Creates a job definition to be used for subsequent job runs.</div>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"syntax\">Syntax</h2>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">New-AzureSqlJob [[-AzureSqlJobConnection] &lt;AzureSqlJobConnection&gt;] -ContentName &lt;String&gt;\r\n -CredentialName &lt;String&gt; [-ExecutionPolicyName &lt;String&gt;] -JobName &lt;String&gt;\r\n -ResultSetDestinationCredentialName &lt;String&gt; -ResultSetDestinationDatabaseName &lt;String&gt;\r\n -ResultSetDestinationSchemaName &lt;String&gt; -ResultSetDestinationServerName &lt;String&gt;\r\n -ResultSetDestinationTableName &lt;String&gt; -TargetId &lt;Guid&gt; [-LiteralServerName] [&lt;CommonParameters&gt;]</code></pre>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"description\">Description</h2>\r\n\t<p>The <strong>New-AzureSqlJob</strong> cmdlet creates a job definition to be used for subsequent job runs.<br><br>Job execution can be requested through the <a href=\"./start-azuresqljobexecution\">Start-AzureSqlJobExecution</a> cmdlet or through creation of a trigger in combination with a schedule using the <a href=\"./new-azuresqljobtrigger\">New-AzureSqlJobTrigger</a> cmdlet.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"examples\">Examples</h2>\r\n\t<p><strong>Example 1: Create a job using the specified content</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>ew-AzureSqlJob -JobName \"MyJob\" -CredentialName \"MyCredential\" -ContentName \"MyScript\" -TargetId (Get-AzureSqlDatabaseJobTarget -CustomCollectionName \"MyCustomCollection\").TargetId\r\nJobName              : MyJob\r\nContentName          : MyScript\r\nContentVersionNumber :\r\nTargetDescription    : {\"CustomCollectionName\":\"myCustomCollection\"}\r\nTargetId             : b525727e-6ed0-44cc-94da-63c543e383d7\r\nCredentialName       : MyCredential\r\nExecutionPolicyName  : Default execution policy\r\nResultSetDestination :</code></pre>\r\n\t<p>This command creates a job using the specified content to execute across the specified custom collection using the specified credentials.</p>\n\r\n\t<p><strong>Example 2: Create a job using the specified content</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>New-AzureSqlJob -JobName \"MyResultsJob\" -CredentialName \"MyCredential\" -ContentName MyScript -ResultSetDestinationServerName \"MyResultsServerName.database.windows.net\" -ResultSetDestinationDatabaseName \"MyResultsDatabaseName\" -ResultSetDestinationCredentialName \"MyResultsCredential\" -ResultSetDestinationSchemaName \"DBO\" -ResultSetDestinationTableName \"MyResultsTable\" -TargetId (Get-AzureSqlDatabaseJobTarget -CustomCollectionName \"MyCustomCollection\").TargetId\r\nJobName              : MyResultsJob\r\nContentName          : MyScript\r\n\r\nContentVersionNumber :\r\nTargetDescription    : {\"CustomCollectionName\":\"myCustomCollection\"}\r\nTargetId             : b525727e-6ed0-44cc-94da-63c543e383d7\r\nCredentialName       : MyCredential\r\nExecutionPolicyName  : Default execution policy\r\nResultSetDestination : Microsoft.Azure.SqlDatabase.Jobs.Client.ResultSetDestination</code></pre>\r\n\t<p>This command creates a job using the specified content to run across the specified custom collection using the specified credentials, where the result set from each database is stored into the specified result set destination table.</p>\n\r\n\t<p><strong>Example 3: Create a job using the specified content to execute across the specified elastic scale shard map collection</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>New-AzureSqlJob -JobName \"MyResultsJobAcrossShardMap\" -CredentialName \"MyCredential\" -ContentName \"MyScript\" -ResultSetDestinationServerName \"MyResultsServerName.database.windows.net\" -ResultSetDestinationDatabaseName \"MyResultsDatabaseName\" -ResultSetDestinationCredentialName myResultsCredential -ResultSetDestinationSchemaName \"DBO\" -ResultSetDestinationTableName \"MyResultsTable\" -TargetId (Get-AzureSqlDatabaseJobTarget -ShardMapManagerServerName \"MyShardMapManagerServer.database.windows.net\" -ShardMapManagerDatabaseName \"MyShardMapManagerDatabase\" -ShardMapName \"MyShardMap\").TargetId\r\nJobName              : MyResultsJobAcrossShardMap\r\nContentName          : MyScript\r\nContentVersionNumber :\r\nTargetDescription    : {\"ShardMapName\":\"MyShardMap\",\"ShardMapManagerServerName\":\"MyShardMapManagerServer.database.windows.net\",\"ShardMapManagerDatabaseName\":\r\n                       \"MyShardMapManagerDatabase\"}\r\nTargetId             : 1afd9326-1277-4344-832f-8170d0375ff7\r\nCredentialName       : MyCredential\r\nExecutionPolicyName  : Default execution policy\r\nResultSetDestination : Microsoft.Azure.SqlDatabase.Jobs.Client.ResultSetDestination</code></pre>\r\n\t<p>This command creates a job using the specified content to execute across the specified elastic scale shard map collection using the specified credentials, where the result set from each database is stored into the specified result set destination table.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"parameters\">Parameters</h2>\r\n  <div class=\"parameterName\">-AzureSqlJobConnection</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the connection state object for the job.\nYou can get the connection state object through the <a href=\"new-azuresqljobconnection\">New-AzureSqlJobConnection</a> cmdlet.\nIf you do not specify this parameter, the connection state is used from a prior call to the <a href=\"use-azuresqljobconnection\">Use-AzureSqlJobConnection</a> cmdlet.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>AzureSqlJobConnection</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ContentName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the content to run or be applied during the job.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-CredentialName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the credentials to use when connecting to target databases.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ExecutionPolicyName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the execution policy to use during job execution.\nIf you do not specify this parameter, the default job execution policy is used.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-JobName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name to use for the new job.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResultSetDestinationCredentialName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the credential to use for the database connection used for insertion of the first result set obtained during job execution.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResultSetDestinationDatabaseName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the database name to use for insertion of the first result set obtained during job execution.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResultSetDestinationSchemaName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the database schema name to use for insertion of the first result set obtained during job execution.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResultSetDestinationServerName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the database schema name to use for insertion of the first result set obtained during job execution.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResultSetDestinationTableName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the database table name to use for insertion of the first result set obtained during job execution.\nIf the table does not exist during job execution, the system automatically creates it using a schema matching the result set.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-TargetId</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the target ID to use for execution or application of the content during job execution.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>Guid</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-LiteralServerName</div>\r\n\t<div class=\"parameterSummary\"><p>{{Fill LiteralServerName Description}}<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>SwitchParameter</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n\r\n\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"related-links\">Related Links</h2>\r\n\t<ul class=\"list-clean\">\r\n\t<li><a href=\"./get-azuresqljob\">Get-AzureSqlJob</a></li>\r\n\t<li><a href=\"./remove-azuresqljob\">Remove-AzureSqlJob</a></li>\r\n\t<li><a href=\"./set-azuresqljob\">Set-AzureSqlJob</a></li>\r\n\t</ul>\r\n","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"description\" content=\"Creates a job definition to be used for subsequent job runs.\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"PowerShell\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"PowerShell\">\r\n<meta name=\"depot_name\" content=\"PowerShell.PowerShell\">\r\n<meta name=\"ms.gitsourceurl\" content=\"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azelasticdbjobsps/0.8.33/ElasticDatabaseJobs/New-AzureSqlJob.md\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"external_help_file\" content=\"Microsoft.Azure.SqlDatabase.Jobs.PowerShell.dll-Help.xml\">\r\n<meta name=\"online_version\" content=\"\">\r\n<meta name=\"schema\" content=\"2.0.0\">\r\n<meta name=\"ms.assetid\" content=\"EAA47557-0286-4A6E-BC2C-7A74DA74B8A6\">\r\n<meta name=\"updated_at\" content=\"11/16/2016 17:11 PM\">\r\n<meta name=\"ms.date\" content=\"11/16/2016\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/Azure/azure-docs-powershell-elasticdb/blob/master/ElasticDB/ElasticDatabaseJobs/v0.8.33/New-AzureSqlJob.md\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/Azure/azure-docs-powershell-elasticdb/blob/b6a4e720f68675b3b0e9f6aa6be6e55d3ebdc390\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"PowerShellHelpPub\">\r\n<meta name=\"keywords\" content=\"powershell, cmdlet\">\r\n<meta name=\"toc_rel\" content=\"../toc2.json\">\r\n","rawMetadata":{"commandList":[],"description":"Creates a job definition to be used for subsequent job runs.","search.ms_sitename":"Docs","search.ms_docsetname":"PowerShell","version":0,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/powershell/","locale":"en-us","site_name":"Docs","search.ms_product":"PowerShell","_op_openToPublicContributors":true,"depot_name":"PowerShell.PowerShell","open_to_public_contributors":true,"ms.gitsourceurl":"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azelasticdbjobsps/0.8.33/ElasticDatabaseJobs/New-AzureSqlJob.md","layout":"Conceptual","_op_layout":"Conceptual","pagetype":"Reference","title":"New-AzureSqlJob | Microsoft Docs","_op_ogTitle":"New-AzureSqlJob","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/elasticdatabasejobs/new-azuresqljob","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/elasticdatabasejobs/new-azuresqljob","external_help_file":"Microsoft.Azure.SqlDatabase.Jobs.PowerShell.dll-Help.xml","online_version":"","schema":"2.0.0","ms.assetid":"EAA47557-0286-4A6E-BC2C-7A74DA74B8A6","updated_at":"11/16/2016 17:11 PM","ms.date":"11/16/2016","content_git_url":"https://github.com/Azure/azure-docs-powershell-elasticdb/blob/master/ElasticDB/ElasticDatabaseJobs/v0.8.33/New-AzureSqlJob.md","original_content_git_url":"https://github.com/Azure/azure-docs-powershell-elasticdb/blob/master/ElasticDB/ElasticDatabaseJobs/v0.8.33/New-AzureSqlJob.md","gitcommit":"https://github.com/Azure/azure-docs-powershell-elasticdb/blob/b6a4e720f68675b3b0e9f6aa6be6e55d3ebdc390","ms.topic":"reference","author":"erickson-doug","ms.author":"PowerShellHelpPub","keywords":"powershell, cmdlet","toc_asset_id":"azelasticdbjobsps-0.8.33/module/toc.json","toc_rel":"../toc.json","fileRelativePath":"azelasticdbjobsps-0.8.33/module/ElasticDatabaseJobs/New-AzureSqlJob.html"},"themesRelativePathToOutputRoot":"_themes/"}