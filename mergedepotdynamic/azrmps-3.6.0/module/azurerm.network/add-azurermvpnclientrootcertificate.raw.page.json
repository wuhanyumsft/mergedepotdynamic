{"content":"\r\n<h1 id=\"azrmps_3_6_0_AzureRM_Network_Add_AzureRmVpnClientRootCertificate_md\">Add-AzureRmVpnClientRootCertificate</h1>\r\n\r\n\r\n\t<div class=\"summary\">Adds a VPN client root certificate.</div>\r\n\r\n<nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n  <h3>In this Article</h3>\r\n</nav>\r\n\t<h2 class=\"cli\" id=\"syntax\">Syntax</h2>\r\n\t\t<pre class=\"syntax loading\"><code class=\"lang-powershell\" dir=\"ltr\">Add-AzureRmVpnClientRootCertificate -VpnClientRootCertificateName &lt;String&gt; -VirtualNetworkGatewayName &lt;String&gt;\r\n -ResourceGroupName &lt;String&gt; -PublicCertData &lt;String&gt; [-InformationAction &lt;ActionPreference&gt;]\r\n [-InformationVariable &lt;String&gt;] [&lt;CommonParameters&gt;]</code></pre>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"description\">Description</h2>\r\n\t<p>The <strong>Add-AzureRmVpnClientRootCertificate</strong> cmdlet adds a root certificate to a virtual network gateway.\nRoot certificates are X.509 certificates that identify your Root Certification Authority.\nBy design, all certificates used on the gateway trust the root certificate.<br><br>This cmdlet assigns an existing certificate as a gateway root certificate.\nIf you do not have an X.509 certificate available you can generate one through your public key infrastructure or use a certificate generator such as makecert.exe.<br><br>To add a root certificate, you must specify the certificate name and provide a text-only representation of the certificate (see <em>the PublicCertData</em> parameter for more information).\nAzure allows you to assign more than one root certificate to a gateway.\nMultiple root certificates are often deployed by organizations that include users from more than one company.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"examples\">Examples</h2>\r\n\t<p><strong>Example 1: Add a client root certificate to a virtual gateway</strong></p>\r\n\t\r\n\t<pre class=\"loading\"><code class=\"lang-powershell\">PS C:\\>$Text = Get-Content -Path \"C:\\Azure\\Certificates\\ExportedCertficate.cer\"\r\nPS C:\\> $CertificateText = for ($i=1; $i -lt $Text.Length -1 ; $i++){$Text[$i]}\r\nPS C:\\> Add-AzureRmVpnClientRootCertificate -PublicCertData $CertificateText -ResourceGroupName \"ContosoResourceGroup\" -VirtualNetworkGatewayName \"ContosoVirtualGateway\" -VpnClientRootCertificateName \"ContosoClientRootCertificate\"</code></pre>\r\n\t<p>This example adds a client root certificate to a virtual gateway named ContosoVirtualGateway.<br><br>The first command uses the <strong>Get-Content</strong> cmdlet to get a previously-exported text representation of the root certificate and stores that text data the variable named $Text.<br><br>The second command then uses a for loop to extract all the text except for the first line and the last line.\nThe extracted text is stored in a variable named $CertificateText.<br><br>The third command then uses the text stored in $CertificateText with the <strong>Add-AzureRmVpnClientRootCertificate</strong> cmdlet to add the root certificate to the gateway.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"parameters\">Parameters</h2>\r\n  <div class=\"parameterName\">-VpnClientRootCertificateName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the client root certificate that this cmdlet adds.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>ResourceName</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-VirtualNetworkGatewayName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the virtual network gateway where the certificate is added.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResourceGroupName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the resource group that the root certificate is assigned to.<br><br>Resource groups categorize items to help simplify inventory management and general Azure administration.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-PublicCertData</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the text representation of the root certificate to be added.\nTo obtain the text representation, export your certificate in .cer format (using Base64 encoding), then open the resulting file in a text editor.\nWhen you do that, you will see output similar to the following (note that the actual output will contain many more lines of text than the abbreviated sample shown here):<br><br>----- BEGIN CERTIFICATE -----\nMIIC13FAAXC3671Auij9HHgUNEW8343NMJklo09982CVVFAw8w\n----- END CERTIFICATE -----<br><br>The PublicCertData is made up of all the lines between the first line (----- BEGIN CERTIFICATE -----) and the last line (----- END CERTIFICATE -----) in the file.\nYou can retrieve this data  by using Windows PowerShell commands similar to this: <code>$Text = Get-Content -Path &quot;C:\\Azure\\Certificates\\ExportedCertficate.cer&quot;</code>\n<code>$CertificateText = for ($i=1; $i -lt $Text.Length -1 ; $i++){$Text\\[$i\\]}</code><br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-InformationAction</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies how this cmdlet responds to an information event.<br><br>The acceptable values for this parameter are:<br><br>- Continue</p>\n<ul>\n<li>Ignore</li>\n<li>Inquire</li>\n<li>SilentlyContinue</li>\n<li>Stop</li>\n<li>Suspend<br><br></li>\n</ul>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>ActionPreference</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>infa</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-InformationVariable</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies an information variable.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>iv</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>Named</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n\r\n\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"related-links\">Related Links</h2>\r\n\t<ul class=\"list-clean\">\r\n\t<li><a href=\"./get-azurermvpnclientrootcertificate\">Get-AzureRmVpnClientRootCertificate</a></li>\r\n\t<li><a href=\"./new-azurermvpnclientrootcertificate\">New-AzureRmVpnClientRootCertificate</a></li>\r\n\t<li><a href=\"./remove-azurermvpnclientrootcertificate\">Remove-AzureRmVpnClientRootCertificate</a></li>\r\n\t</ul>\r\n","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"description\" content=\"Adds a VPN client root certificate.\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"PowerShell\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"PowerShell\">\r\n<meta name=\"depot_name\" content=\"PowerShell.PowerShell\">\r\n<meta name=\"ms.gitsourceurl\" content=\"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Network/Add-AzureRmVpnClientRootCertificate.md\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"external_help_file\" content=\"Microsoft.Azure.Commands.Network.dll-Help.xml\">\r\n<meta name=\"ms.assetid\" content=\"B9153CA9-06D1-4EF3-9863-D649C2EBAEAA\">\r\n<meta name=\"online_version\" content=\"\">\r\n<meta name=\"schema\" content=\"2.0.0\">\r\n<meta name=\"updated_at\" content=\"03/11/2017 23:03 PM\">\r\n<meta name=\"ms.date\" content=\"03/11/2017\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Network/v3.5.0/Add-AzureRmVpnClientRootCertificate.md\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"PowerShellHelpPub\">\r\n<meta name=\"keywords\" content=\"powershell, cmdlet\">\r\n<meta name=\"toc_rel\" content=\"../toc2.json\">\r\n","rawMetadata":{"commandList":[],"description":"Adds a VPN client root certificate.","search.ms_sitename":"Docs","search.ms_docsetname":"PowerShell","version":0,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/powershell/","locale":"en-us","site_name":"Docs","search.ms_product":"PowerShell","_op_openToPublicContributors":true,"depot_name":"PowerShell.PowerShell","open_to_public_contributors":true,"ms.gitsourceurl":"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Network/Add-AzureRmVpnClientRootCertificate.md","layout":"Conceptual","_op_layout":"Conceptual","pagetype":"Reference","title":"Add-AzureRmVpnClientRootCertificate | Microsoft Docs","_op_ogTitle":"Add-AzureRmVpnClientRootCertificate","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.network/add-azurermvpnclientrootcertificate","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.network/add-azurermvpnclientrootcertificate","external_help_file":"Microsoft.Azure.Commands.Network.dll-Help.xml","ms.assetid":"B9153CA9-06D1-4EF3-9863-D649C2EBAEAA","online_version":"","schema":"2.0.0","updated_at":"03/11/2017 23:03 PM","ms.date":"03/11/2017","content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Network/v3.5.0/Add-AzureRmVpnClientRootCertificate.md","original_content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Network/v3.5.0/Add-AzureRmVpnClientRootCertificate.md","gitcommit":"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c","ms.topic":"reference","author":"erickson-doug","ms.author":"PowerShellHelpPub","keywords":"powershell, cmdlet","toc_asset_id":"azrmps-3.6.0/module/toc.json","toc_rel":"../toc.json","_op_displayDate":"2017-3-11","_op_displayDate_source":"2017-03-11T00:00:00Z","fileRelativePath":"azrmps-3.6.0/module/AzureRM.Network/Add-AzureRmVpnClientRootCertificate.html"},"themesRelativePathToOutputRoot":"_themes/"}