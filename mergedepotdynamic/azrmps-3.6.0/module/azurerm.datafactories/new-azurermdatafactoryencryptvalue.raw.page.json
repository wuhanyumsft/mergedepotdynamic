{"content":"\r\n<h1 id=\"azrmps_3_6_0_AzureRM_DataFactories_New_AzureRmDataFactoryEncryptValue_md\">New-AzureRmDataFactoryEncryptValue</h1>\r\n\r\n\r\n\t<div class=\"summary\">Encrypts sensitive data.</div>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"syntax\">Syntax</h2>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">New-AzureRmDataFactoryEncryptValue [-DataFactory] &lt;PSDataFactory&gt; [[-Database] &lt;String&gt;]\r\n [[-Value] &lt;SecureString&gt;] [[-GatewayName] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;] [[-Type] &lt;String&gt;]\r\n [[-NonCredentialValue] &lt;String&gt;] [[-AuthenticationType] &lt;String&gt;] [[-Server] &lt;String&gt;] [&lt;CommonParameters&gt;]</code></pre>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">New-AzureRmDataFactoryEncryptValue [-ResourceGroupName] &lt;String&gt; [[-Database] &lt;String&gt;]\r\n [-DataFactoryName] &lt;String&gt; [[-Value] &lt;SecureString&gt;] [[-GatewayName] &lt;String&gt;] [[-Credential] &lt;PSCredential&gt;]\r\n [[-Type] &lt;String&gt;] [[-NonCredentialValue] &lt;String&gt;] [[-AuthenticationType] &lt;String&gt;] [[-Server] &lt;String&gt;]\r\n [&lt;CommonParameters&gt;]</code></pre>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"description\">Description</h2>\r\n\t<p>The <strong>New-AzureRmDataFactoryEncryptValue</strong> cmdlet encrypts sensitive data, such as a password or a Microsoft SQL Server connection string, and returns an encrypted value.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"examples\">Examples</h2>\r\n\t<p><strong>Example 1: Encrypt a non-ODBC connection string</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>$Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;user id =user123;password=password123' -AsPlainText -Force \r\nPS C:\\> New-AzureRmDataFactoryEncryptValue -GatewayName \"WikiGateway\" -DataFactoryName \"WikiAdf\" -Value $value -ResourceGroupName \"ADF\" -Type OnPremisesSqlLinkedService</code></pre>\r\n\t<p>The first command uses the ConvertTo-SecureString cmdlet to convert the specified connection string to a <strong>SecureString</strong> object, and then stores that object in the $Value variable.\nFor more information, type <code>Get-Help ConvertTo-SecureString</code>.\nAllowed values: SQL Server or Oracle connection string.<br><br>The second command creates an encrypted value for the object stored in $Value for the specified data factory, gateway, resource group, and linked service type.</p>\n\r\n\t<p><strong>Example 2: Encrypt a non-ODBC connection string that uses Windows authentication.</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>$Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;Integrated Security=True' -AsPlainText -Force\r\nPS C:\\> $Credential = Get-Credential\r\nPS C:\\> New-AzureRmDataFactoryEncryptValue -DataFactoryName \"WikiADF\" -GatewayName \"WikiGateway\" -ResourceGroupName \"ADF\" -Value $Value -Credential $Credential -Type OnPremisesSqlLinkedService $Value = ConvertTo-SecureString 'Data Source=ContosoServer;Initial Catalog=catelog;Integrated Security=True' -AsPlainText -Force</code></pre>\r\n\t<p>The first command uses <strong>ConvertTo-SecureString</strong> to convert the specified connection string to a secure string object, and then stores that object in the $Value variable.<br><br>The second command uses the Get-Credential cmdlet to collect the windows authentication (user name and password), and then stores that <strong>PSCredential</strong> object in the $Credential variable.\nFor more information, type <code>Get-Help Get-Credential</code>.<br><br>The third command creates an encrypted value for the object stored in $Value and $Credential for the specified data factory, gateway, resource group, and linked service type.</p>\n\r\n\t<p><strong>Example 3: Encrypt server name and credentials for File system linked service</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>$Value = ConvertTo-SecureString '\\\\servername' -AsPlainText -Force\r\nPS C:\\> $Credential = Get-Credential\r\nPS C:\\> New-AzureRmDataFactoryEncryptValue -DataFactoryName \"WikiADF\" -GatewayName \"WikiGateway\" -ResourceGroupName \"ADF\" -Value $Value -Credential $Credential -Type OnPremisesFileSystemLinkedService</code></pre>\r\n\t<p>The first command uses <strong>ConvertTo-SecureString</strong> to convert the specified string to a secure string, and then stores that object in the $Value variable.<br><br>The second command uses <strong>Get-Credential</strong> to collect the windows authentication (user name and password), and then stores that <strong>PSCredential</strong> object in the $Credential variable.<br><br>The third command creates an encrypted value for the object stored in $Value and $Credential for the specified data factory, gateway, resource group, and linked service type.</p>\n\r\n\t<p><strong>Example 4: Encrypt credentials for HDFS linked service</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>$UserName = ConvertTo-SecureString \"domain\\\\username\" -AsPlainText -Force\r\n$Password = ConvertTo-SecureString \"password\" -AsPlainText -Force\r\n$Credential = New-Object System.Management.Automation.PSCredential ($UserName, $Password)\r\nNew-AzureRmDataFactoryEncryptValue -DataFactoryName \"MyDataFactory\" -ResourceGroupName \"MyResourceGroup\" -GatewayName \"MyDataManagementGateway\" -Type HdfsLinkedService -AuthenticationType Windows -Credential $Credential -NonCredentialValue \"http://server01.com:50070/webhdfs/v1/user/username\"</code></pre>\r\n\t<p>The <strong>ConvertTo-SecureString</strong> command converts the specified string to a secure string.\nThe <strong>New-Object</strong> command creates a PSCredential object using the secure username and password strings.\nInstead, you could use the <strong>Get-Credential</strong> command to collect windows authentication (user name and password), and then store the returned <strong>PSCredential</strong> object in the $credential variable as shown in previous examples.<br><br>The <strong>New-AzureRmDataFactoryEncryptValue</strong> command creates an encrypted value for the object stored in $Credential for the specified data factory, gateway, resource group, and linked service type.</p>\n\r\n\t<p><strong>Example 5: Encrypt credentials for ODBC linked service</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>$Content = ConvertTo-SecureString \"UID=username@contoso;PWD=password;\" -AsPlainText -Force\r\nNew-AzureRmDataFactoryEncryptValue -ResourceGroupName $RGName -DataFactoryName $DFName -GatewayName $Gateway -Type OnPremisesOdbcLinkedService -AuthenticationType Basic -NonCredentialValue \"Driver={SQL Server};Server=server01.database.contoso.net; Database=HDISScenarioTest;\" -Value $content</code></pre>\r\n\t<p>The <strong>ConvertTo-SecureString</strong> command converts the specified string to a secure string.<br><br>The <strong>New-AzureRmDataFactoryEncryptValue</strong> command creates an encrypted value for the object stored in $Value for the specified data factory, gateway, resource group, and linked service type.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"parameters\">Parameters</h2>\r\n  <div class=\"parameterName\">-DataFactory</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies a <strong>PSDataFactory</strong> object.\nThis cmdlet encrypts data for the data factory that this parameter specifies.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>PSDataFactory</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-DataFactoryName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of a data factory.\nThis cmdlet encrypts data for the data factory that this parameter specifies.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>2</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-GatewayName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the gateway.\nThis cmdlet encrypts data for the gateway that this parameter specifies.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>4</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResourceGroupName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of an Azure resource group.\nThis cmdlet encrypts data for the group that this parameter specifies.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Value</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the value to encrypt.\nFor an on-premises SQL Server linked service and an on-premises Oracle linked service, use a connection string.\nFor an on-premises ODBC linked service, use the credential part of the connection string.\nFor on premises file system linked service, if the file system is local to the gateway computer, use Local or localhost, and if the file system is on a server different from the gateway computer, use \\\\servername.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>SecureString</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>3</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Credential</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the Windows authentication credentials (user name and password) to be used.\nThis cmdlet encrypts the credential data you specify here.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>PSCredential</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>5</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Type</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the linked service type.\nThis cmdlet encrypts data for the linked service type that this parameter specifies.\nThe acceptable values for this parameter are:<br><br>- OnPremisesSqlLinkedService </p>\n<ul>\n<li>OnPremisesFileSystemLinkedService </li>\n<li>OnPremisesOracleLinkedService </li>\n<li>OnPremisesOdbcLinkedService </li>\n<li>OnPremisesPostgreSqlLinkedService </li>\n<li>OnPremisesTeradataLinkedService </li>\n<li>OnPremisesMySQLLinkedService </li>\n<li>OnPremisesDB2LinkedService </li>\n<li>OnPremisesSybaseLinkedService<br><br></li>\n</ul>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>6</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-NonCredentialValue</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the non-credential part of the Open Database Connectivity (ODBC) connection string.\nThis parameter is applicable only for the ODBC linked service.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>7</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-AuthenticationType</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the type of authentication to be used to connect to the data source.\nThe acceptable values for this parameter are:<br><br>- Windows</p>\n<ul>\n<li>Basic</li>\n<li>Anonymous.<br><br></li>\n</ul>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>8</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Server</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the server name of the linked service.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>9</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Database</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the database name of the linked service.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>10</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>False</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"outputs\">Outputs</h2>\r\n\t\t<p><strong>System.String</strong></p>\r\n\t\r\n\r\n\t<h2 class=\"cli\" id=\"notes\">Notes</h2>\r\n\t* Keywords: azure, azurerm, arm, resource, management, manager, data, factories\r\n\r\n\t<h2 class=\"cli\" id=\"related-links\">Related Links</h2>\r\n\t<ul class=\"list-clean\">\r\n\t<li><a href=\"./new-azurermdatafactoryencryptvalue\" data-linktype=\"relative-path\">New-AzureRmDataFactoryEncryptValue</a></li>\r\n\t</ul>\r\n","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"description\" content=\"Encrypts sensitive data.\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"PowerShell\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"PowerShell\">\r\n<meta name=\"depot_name\" content=\"PowerShell.PowerShell\">\r\n<meta name=\"ms.gitsourceurl\" content=\"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.DataFactories/New-AzureRmDataFactoryEncryptValue.md\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"external_help_file\" content=\"Microsoft.Azure.Commands.DataFactories.dll-Help.xml\">\r\n<meta name=\"ms.assetid\" content=\"5BF24BC2-DEB6-4830-BDEA-841BAB070388\">\r\n<meta name=\"online_version\" content=\"\">\r\n<meta name=\"schema\" content=\"2.0.0\">\r\n<meta name=\"updated_at\" content=\"03/11/2017 23:03 PM\">\r\n<meta name=\"ms.date\" content=\"03/11/2017\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.DataFactories/v2.6.0/New-AzureRmDataFactoryEncryptValue.md\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"PowerShellHelpPub\">\r\n<meta name=\"keywords\" content=\"powershell, cmdlet\">\r\n<meta name=\"toc_rel\" content=\"../toc.json\">\r\n","rawMetadata":{"commandList":[],"description":"Encrypts sensitive data.","search.ms_sitename":"Docs","search.ms_docsetname":"PowerShell","version":0,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/powershell/","locale":"en-us","site_name":"Docs","search.ms_product":"PowerShell","_op_openToPublicContributors":true,"depot_name":"PowerShell.PowerShell","open_to_public_contributors":true,"ms.gitsourceurl":"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.DataFactories/New-AzureRmDataFactoryEncryptValue.md","layout":"Conceptual","_op_layout":"Conceptual","pagetype":"Reference","title":"New-AzureRmDataFactoryEncryptValue | Microsoft Docs","_op_ogTitle":"New-AzureRmDataFactoryEncryptValue","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.datafactories/new-azurermdatafactoryencryptvalue","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.datafactories/new-azurermdatafactoryencryptvalue","external_help_file":"Microsoft.Azure.Commands.DataFactories.dll-Help.xml","ms.assetid":"5BF24BC2-DEB6-4830-BDEA-841BAB070388","online_version":"","schema":"2.0.0","updated_at":"03/11/2017 23:03 PM","ms.date":"03/11/2017","content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.DataFactories/v2.6.0/New-AzureRmDataFactoryEncryptValue.md","original_content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.DataFactories/v2.6.0/New-AzureRmDataFactoryEncryptValue.md","gitcommit":"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c","ms.topic":"reference","author":"erickson-doug","ms.author":"PowerShellHelpPub","keywords":"powershell, cmdlet","toc_asset_id":"azrmps-3.6.0/module/toc.json","toc_rel":"../toc.json","fileRelativePath":"azrmps-3.6.0/module/AzureRM.DataFactories/New-AzureRmDataFactoryEncryptValue.html"},"themesRelativePathToOutputRoot":"_themes/"}