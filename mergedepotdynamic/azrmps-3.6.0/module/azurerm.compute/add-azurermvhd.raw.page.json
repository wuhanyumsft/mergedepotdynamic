{"content":"\r\n<h1 id=\"azrmps_3_6_0_AzureRM_Compute_Add_AzureRMVhd_md\">Add-AzureRmVhd</h1>\r\n\r\n\r\n\t<div class=\"summary\">Uploads a virtual hard disk from an on-premises virtual machine to a blob in a cloud storage account in Azure.</div>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"syntax\">Syntax</h2>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">Add-AzureRmVhd [[-ResourceGroupName] &lt;String&gt;] [-Destination] &lt;Uri&gt; [-LocalFilePath] &lt;FileInfo&gt;\r\n [[-NumberOfUploaderThreads] &lt;Int32&gt;] [[-BaseImageUriToPatch] &lt;Uri&gt;] [-OverWrite] [&lt;CommonParameters&gt;]</code></pre>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"description\">Description</h2>\r\n\t<p>The <strong>Add-AzureRmVhd</strong> cmdlet uploads on-premises virtual hard disks, in .vhd file format, to a blob storage account as fixed virtual hard disks.\nYou can configure the number of uploader threads that will be used or overwrite an existing blob in the specified destination URI.\nAlso supported is the ability to upload a patched version of an on-premises .vhd file.\nWhen a base virtual hard disk has already been uploaded, you can upload differencing disks that use the base image as the parent.\nShared access signature (SAS) URI is supported also.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"examples\">Examples</h2>\r\n\t<p><strong>Example 1: Add a VHD file</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>Add-AzureRmVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd\" -LocalFilePath \"C:\\vhd\\Win7Image.vhd\"</code></pre>\r\n\t<p>This command adds a .vhd file to a storage account.</p>\n\r\n\t<p><strong>Example 2: Add a VHD file and overwrite the destination</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>Add-AzureRmVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd\" -LocalFilePath \"C:\\vhd\\Win7Image.vhd\" -Overwrite</code></pre>\r\n\t<p>This command adds a .vhd file to a storage account.\nThe command overwrites an existing file.</p>\n\r\n\t<p><strong>Example 3: Add a VHD file and specify the number of threads</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>Add-AzureRmVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd\" -LocalFilePath \"C:\\vhd\\Win7Image.vhd\" -NumberOfThreads 32</code></pre>\r\n\t<p>This command adds a .vhd file to a storage account.\nThe command specifies the number of threads to use to upload the file.</p>\n\r\n\t<p><strong>Example 4: Add a VHD file and specify the SAS URI</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>Add-AzureRmVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd?st=2013-01 -09T22%3A15%3A49Z&amp;se=2013-01-09T23%3A10%3A49Z&amp;sr=b&amp;sp=w&amp;sig=13T9Ow%2FRJAMmhfO%2FaP3HhKKJ6AY093SmveO SIV4%2FR7w%3D\" -LocalFilePath \"C:\\vhd\\win7baseimage.vhd\"</code></pre>\r\n\t<p>This command adds a .vhd file to a storage account and specifies the SAS URI.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"parameters\">Parameters</h2>\r\n  <div class=\"parameterName\">-BaseImageUriToPatch</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the URI to a base image blob in Azure Blob Storage.\nAn SAS can be specified as the value for this parameter.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>Uri</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>bs</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>5</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Destination</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the URI of a blob in Blob Storage.\nThe parameter supports SAS URI, although patching scenarios destination cannot be an SAS URI.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>Uri</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>dst</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>2</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-LocalFilePath</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the path of the local .vhd file.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>FileInfo</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>lf</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>3</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-NumberOfUploaderThreads</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the number of uploader threads to be used when uploading the .vhd file.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>Int32</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>th</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>4</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-OverWrite</div>\r\n\t<div class=\"parameterSummary\"><p>Indicates that this cmdlet overwrites an existing blob in the specified destination URI, if one exists.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>SwitchParameter</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>o</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>6</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResourceGroupName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the resource group of the virtual machine.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n\r\n\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"related-links\">Related Links</h2>\r\n\t<ul class=\"list-clean\">\r\n\t<li><a href=\"./save-azurermvhd\" data-linktype=\"relative-path\">Save-AzureRmVhd</a></li>\r\n\t</ul>\r\n","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"description\" content=\"Uploads a virtual hard disk from an on-premises virtual machine to a blob in a cloud storage account in Azure.\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"PowerShell\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"PowerShell\">\r\n<meta name=\"depot_name\" content=\"PowerShell.PowerShell\">\r\n<meta name=\"ms.gitsourceurl\" content=\"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Compute/Add-AzureRMVhd.md\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"external_help_file\" content=\"Microsoft.Azure.Commands.Compute.dll-Help.xml\">\r\n<meta name=\"ms.assetid\" content=\"D08DAA8B-B7BF-4167-AB16-F2723985A0B7\">\r\n<meta name=\"online_version\" content=\"\">\r\n<meta name=\"schema\" content=\"2.0.0\">\r\n<meta name=\"updated_at\" content=\"03/11/2017 23:03 PM\">\r\n<meta name=\"ms.date\" content=\"03/11/2017\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Add-AzureRMVhd.md\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"PowerShellHelpPub\">\r\n<meta name=\"keywords\" content=\"powershell, cmdlet\">\r\n<meta name=\"toc_rel\" content=\"../toc2.json\">\r\n","rawMetadata":{"commandList":[],"description":"Uploads a virtual hard disk from an on-premises virtual machine to a blob in a cloud storage account in Azure.","search.ms_sitename":"Docs","search.ms_docsetname":"PowerShell","version":0,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/powershell/","locale":"en-us","site_name":"Docs","search.ms_product":"PowerShell","_op_openToPublicContributors":true,"depot_name":"PowerShell.PowerShell","open_to_public_contributors":true,"ms.gitsourceurl":"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Compute/Add-AzureRMVhd.md","layout":"Conceptual","_op_layout":"Conceptual","pagetype":"Reference","title":"Add-AzureRmVhd | Microsoft Docs","_op_ogTitle":"Add-AzureRmVhd","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.compute/add-azurermvhd","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.compute/add-azurermvhd","external_help_file":"Microsoft.Azure.Commands.Compute.dll-Help.xml","ms.assetid":"D08DAA8B-B7BF-4167-AB16-F2723985A0B7","online_version":"","schema":"2.0.0","updated_at":"03/11/2017 23:03 PM","ms.date":"03/11/2017","content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Add-AzureRMVhd.md","original_content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Add-AzureRMVhd.md","gitcommit":"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c","ms.topic":"reference","author":"erickson-doug","ms.author":"PowerShellHelpPub","keywords":"powershell, cmdlet","toc_asset_id":"azrmps-3.6.0/module/toc.json","toc_rel":"../toc.json","fileRelativePath":"azrmps-3.6.0/module/AzureRM.Compute/Add-AzureRMVhd.html"},"themesRelativePathToOutputRoot":"_themes/"}