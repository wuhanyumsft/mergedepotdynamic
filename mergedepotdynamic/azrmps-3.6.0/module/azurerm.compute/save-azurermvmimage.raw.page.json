{"content":"\r\n<h1 id=\"azrmps_3_6_0_AzureRM_Compute_Save_AzureRmVMImage_md\">Save-AzureRmVMImage</h1>\r\n\r\n\r\n\t<div class=\"summary\">Saves a virtual machine as a VMImage.</div>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"syntax\">Syntax</h2>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">Save-AzureRmVMImage [-Id] &lt;String&gt; [-Name] &lt;String&gt; [-DestinationContainerName] &lt;String&gt;\r\n [-VHDNamePrefix] &lt;String&gt; [-Overwrite] [[-Path] &lt;String&gt;] [&lt;CommonParameters&gt;]</code></pre>\r\n\t\t<pre class=\"syntax\"><code class=\"lang-powershell\" dir=\"ltr\">Save-AzureRmVMImage [-ResourceGroupName] &lt;String&gt; [-Name] &lt;String&gt; [-DestinationContainerName] &lt;String&gt;\r\n [-VHDNamePrefix] &lt;String&gt; [-Overwrite] [[-Path] &lt;String&gt;] [&lt;CommonParameters&gt;]</code></pre>\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"description\">Description</h2>\r\n\t<p>The <strong>Save-AzureRmVMImage</strong> cmdlet saves a virtual machine as a VMImage.\nBefore you create a virtual machine image, sysprep the virtual machine, and then mark it as generalized by using the Set-AzureRmVM cmdlet.<br><br>The output of this cmdlet is a JavaScript Object Notation (JSON) template.\nYou can deploy virtual machines from your captured image.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"examples\">Examples</h2>\r\n\t<p><strong>Example 1: Capture a virtual machine</strong></p>\r\n\t\r\n\t<pre><code class=\"lang-powershell\">PS C:\\>Set-AzureRmVM -ResourceGroupName \"ResourceGroup11\" -Name \"VirtualMachine07\" -Generalized \r\nPS C:\\> Save-AzureRmVMImage -ResourceGroupName \"ResourceGroup11\" -VMName \"VirtualMachine07\" -DestinationContainerName \"VMContainer01\" -VHDNamePrefix \"VM07\"</code></pre>\r\n\t<p>The first command marks the virtual machine named VirtualMachine07 as generalized.<br><br>The second command captures a virtual machine named VirtualMachine07 as a VMImage.\nThe <strong>Output</strong> property returns a JSON template.</p>\n\r\n\r\n\t<h2 class=\"cli\" id=\"parameters\">Parameters</h2>\r\n  <div class=\"parameterName\">-DestinationContainerName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of a container inside the &quot;system&quot; container that you want to hold your images.<br><br>If the container doesn&#39;t exist, it is created for you.\nThe virtual hard disks (VHDs) that constitute the VMImage reside in the container that this parameter specifies.\nIf the VHDs are spread across multiple storage accounts, this cmdlet creates one container that has this name in each storage account.\nThe URL of the saved image is similar to: <br><br>https://&lt;storageAccountName>.blob.core.windows.net/system/Microsoft.Compute/Images/&lt;imagesContainer>/&lt;vhdPrefix-osDisk>.xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.vhd.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>3</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Id</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the Resource ID of the virtual machine.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Name</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies a name.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>VMName</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>2</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Overwrite</div>\r\n\t<div class=\"parameterSummary\"><p>Indicates that this cmdlet overwrites any VHDs that have the same prefix in the destination container.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>SwitchParameter</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>5</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-Path</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the path of the VHD.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>False</td></tr>\r\n\t\t<tr><td>Position:</td><td>6</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-ResourceGroupName</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the name of the resource group of the virtual machine.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>1</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n  <div class=\"parameterName\">-VHDNamePrefix</div>\r\n\t<div class=\"parameterSummary\"><p>Specifies the prefix in the name of the blobs that constitute the storage profile of the VMImage.<br><br>For example, a prefix vhdPrefix for an operating system disk results in the name vhdPrefix-osdisk.&lt;guid>.vhd.<br><br></p>\n</div>\r\n  <div class=\"parameterSummary\">\r\n\t<table class=\"nameValue\">\r\n\t\t<tr><td>Type:</td><td>String</td></tr>\r\n\t\t<tr><td>Aliases:</td><td>VirtualHardDiskNamePrefix</td></tr>\r\n\t\t<tr><td>Required:</td><td>True</td></tr>\r\n\t\t<tr><td>Position:</td><td>4</td></tr>\r\n\t\t<tr><td>Default value:</td><td>None</td></tr>\r\n\t\t<tr><td>Accept pipeline input:</td><td>True (ByPropertyName)</td></tr>\r\n\t\t<tr><td>Accept wildcard characters:</td><td>False</td></tr>\r\n\t</table>  \r\n  </div>\r\n\r\n\r\n\r\n\r\n\t<h2 class=\"cli\" id=\"related-links\">Related Links</h2>\r\n\t<ul class=\"list-clean\">\r\n\t<li><a href=\"./get-azurermvmimage\" data-linktype=\"relative-path\">Get-AzureRmVMImage</a></li>\r\n\t<li><a href=\"./get-azurermvmimageoffer\" data-linktype=\"relative-path\">Get-AzureRmVMImageOffer</a></li>\r\n\t<li><a href=\"./get-azurermvmimagepublisher\" data-linktype=\"relative-path\">Get-AzureRmVMImagePublisher</a></li>\r\n\t<li><a href=\"./get-azurermvmimagesku\" data-linktype=\"relative-path\">Get-AzureRmVMImageSku</a></li>\r\n\t<li><a href=\"./set-azurermvm\" data-linktype=\"relative-path\">Set-AzureRmVM</a></li>\r\n\t</ul>\r\n","outputRootRelativePath":"../../../","pageMetadata":"<meta name=\"description\" content=\"Saves a virtual machine as a VMImage.\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"PowerShell\">\r\n<meta name=\"version\" content=\"0\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"PowerShell\">\r\n<meta name=\"depot_name\" content=\"PowerShell.PowerShell\">\r\n<meta name=\"ms.gitsourceurl\" content=\"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Compute/Save-AzureRmVMImage.md\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"external_help_file\" content=\"Microsoft.Azure.Commands.Compute.dll-Help.xml\">\r\n<meta name=\"ms.assetid\" content=\"D2B5BC27-6D51-45BC-AE6A-F7FED11B8651\">\r\n<meta name=\"online_version\" content=\"\">\r\n<meta name=\"schema\" content=\"2.0.0\">\r\n<meta name=\"updated_at\" content=\"03/11/2017 23:03 PM\">\r\n<meta name=\"ms.date\" content=\"03/11/2017\">\r\n<meta name=\"original_content_git_url\" content=\"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Save-AzureRmVMImage.md\">\r\n<meta name=\"gitcommit\" content=\"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c\">\r\n<meta name=\"ms.topic\" content=\"reference\">\r\n<meta name=\"author\" content=\"erickson-doug\">\r\n<meta name=\"ms.author\" content=\"PowerShellHelpPub\">\r\n<meta name=\"keywords\" content=\"powershell, cmdlet\">\r\n<meta name=\"toc_rel\" content=\"../toc.json\">\r\n","rawMetadata":{"commandList":[],"description":"Saves a virtual machine as a VMImage.","search.ms_sitename":"Docs","search.ms_docsetname":"PowerShell","version":0,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/powershell/","locale":"en-us","site_name":"Docs","search.ms_product":"PowerShell","_op_openToPublicContributors":true,"depot_name":"PowerShell.PowerShell","open_to_public_contributors":true,"ms.gitsourceurl":"https://github.com/MicrosoftDocs/azure-powershell-docs/blob/master/azrmps/3.6.0/AzureRM.Compute/Save-AzureRmVMImage.md","layout":"Conceptual","_op_layout":"Conceptual","pagetype":"Reference","title":"Save-AzureRmVMImage | Microsoft Docs","_op_ogTitle":"Save-AzureRmVMImage","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.compute/save-azurermvmimage","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/module/azurerm.compute/save-azurermvmimage","external_help_file":"Microsoft.Azure.Commands.Compute.dll-Help.xml","ms.assetid":"D2B5BC27-6D51-45BC-AE6A-F7FED11B8651","online_version":"","schema":"2.0.0","updated_at":"03/11/2017 23:03 PM","ms.date":"03/11/2017","content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Save-AzureRmVMImage.md","original_content_git_url":"https://github.com/Azure/azure-docs-powershell/blob/master/azureps-cmdlets-docs/ResourceManager/AzureRM.Compute/v2.7.0/Save-AzureRmVMImage.md","gitcommit":"https://github.com/Azure/azure-docs-powershell/blob/bc71000aa3c7f754b95442dcc415a7324626a15c","ms.topic":"reference","author":"erickson-doug","ms.author":"PowerShellHelpPub","keywords":"powershell, cmdlet","toc_asset_id":"azrmps-3.6.0/module/toc.json","toc_rel":"../toc.json","fileRelativePath":"azrmps-3.6.0/module/AzureRM.Compute/Save-AzureRmVMImage.html"},"themesRelativePathToOutputRoot":"_themes/"}