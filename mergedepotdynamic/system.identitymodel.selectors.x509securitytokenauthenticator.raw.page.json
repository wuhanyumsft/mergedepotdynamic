{"content":"    \r\n    <h1 id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator\">\r\n      <span class=\"lang-csharp\">X509SecurityTokenAuthenticator</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Authenticates an <a class=\"xref\" href=\"system.identitymodel.tokens.x509securitytoken\" data-linktype=\"relative-path\">X509SecurityToken</a>.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public class X509SecurityTokenAuthenticator : System.IdentityModel.Selectors.SecurityTokenAuthenticator</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.identitymodel.selectors.securitytokenauthenticator\" data-linktype=\"relative-path\">System.IdentityModel.Selectors.SecurityTokenAuthenticator</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l2\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">X509SecurityTokenAuthenticator</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.identitymodel.selectors.securitytokenauthenticator#System_IdentityModel_Selectors_SecurityTokenAuthenticator_CanValidateToken_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">CanValidateToken(SecurityToken)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.identitymodel.selectors.securitytokenauthenticator#System_IdentityModel_Selectors_SecurityTokenAuthenticator_ValidateToken_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"relative-path\">ValidateToken(SecurityToken)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>Use the X509SecurityTokenAuthenticator class to authenticate <a class=\"xref\" href=\"system.identitymodel.tokens.x509securitytoken\" data-linktype=\"relative-path\">X509SecurityToken</a> security tokens.</p>\n\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor\" data-linktype=\"self-bookmark\">X509SecurityTokenAuthenticator()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_\" data-linktype=\"self-bookmark\">X509SecurityTokenAuthenticator(X509CertificateValidator)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validator.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_System_Boolean_\" data-linktype=\"self-bookmark\">X509SecurityTokenAuthenticator(X509CertificateValidator,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_System_Boolean_System_Boolean_\" data-linktype=\"self-bookmark\">X509SecurityTokenAuthenticator(X509CertificateValidator,Boolean,Boolean)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity and the Windows groups the user belongs to.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_MapCertificateToWindowsAccount\" data-linktype=\"self-bookmark\">MapCertificateToWindowsAccount</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value that indicates whether to map the X.509 certificate to a Windows account.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_CanValidateTokenCore_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"self-bookmark\">CanValidateTokenCore(SecurityToken)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets a value that indicates whether the specified security token can be validated by this security token authenticator.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_System_IdentityModel_Tokens_SecurityToken_\" data-linktype=\"self-bookmark\">ValidateTokenCore(SecurityToken)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Authenticates the specified security token and returns the set of authorization policies for the security token.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">X509SecurityTokenAuthenticator()</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public X509SecurityTokenAuthenticator ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method is called to authenticate the token, the X.509 certificate is not mapped to a Windows identity and the certificate is validated using a certificate chain.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">X509SecurityTokenAuthenticator(X509CertificateValidator)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validator.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>validator</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> that verifies that the certificate is valid.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> class provides a set of pre-defined certificate validation models, such as the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_ChainTrust_\" data-linktype=\"relative-path\">ChainTrust</a> property. These validation models can be passed to the <code>validator</code> parameter. When an application requires a custom validation method, derive a class from <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> and override the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method. The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method is called by the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method.  </p>\n<p> By default, the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> does not map the X.509 certificate to a Windows identity.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_System_Boolean_\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">X509SecurityTokenAuthenticator(X509CertificateValidator,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>validator</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> that verifies that the certificate is valid.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mapToWindows</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to map the identity of the certificate to a Windows identity; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> class provides a set of pre-defined certificate validation models, such as the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_ChainTrust_\" data-linktype=\"relative-path\">ChainTrust</a> property. These validation models can be passed to the <code>validator</code> parameter. When an application requires a custom validation method, derive a class from <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> and override the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method. The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method is called by the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method.  </p>\n<p> When the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method is called to authenticate the token and <code>mapToWindows</code> is <code>true</code>, the X.509 certificate is mapped to a Windows account and claims are added to the <a class=\"xref\" href=\"system.identitymodel.policy.evaluationcontext\" data-linktype=\"relative-path\">EvaluationContext</a> with the Windows groups that the user belongs to. How the X.509 certificate is mapped to a Windows account depends upon the security token type:  </p>\n<ul>\n<li><p>When the security token is of type <a class=\"xref\" href=\"system.identitymodel.tokens.x509windowssecuritytoken\" data-linktype=\"relative-path\">X509WindowsSecurityToken</a>, the X.509 certificate is mapped using the <a class=\"xref\" href=\"system.identitymodel.tokens.x509windowssecuritytoken#System_IdentityModel_Tokens_X509WindowsSecurityToken_WindowsIdentity_\" data-linktype=\"relative-path\">WindowsIdentity</a> property.  </p>\n</li>\n<li><p>When the security token is of type <code>X509SecurityToken</code>, the X.509 certificate is mapped to a Windows account using its user principal name (UPN).</p>\n</li>\n</ul>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_System_IdentityModel_Selectors_X509CertificateValidator_System_Boolean_System_Boolean_\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">X509SecurityTokenAuthenticator(X509CertificateValidator,Boolean,Boolean)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator\" data-linktype=\"relative-path\">X509SecurityTokenAuthenticator</a> class using the specified certificate validation method and indicates whether the identity of the certificate is mapped to a Windows identity and the Windows groups the user belongs to.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public X509SecurityTokenAuthenticator (System.IdentityModel.Selectors.X509CertificateValidator validator, bool mapToWindows, bool includeWindowsGroups);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>validator</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> that verifies that the certificate is valid.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>mapToWindows</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to map the identity of the certificate to a Windows identity; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>includeWindowsGroups</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> to include the groups the Windows user belongs to in the <span class=\"xref\">stem.IdentityModel.Policy.AuthorizationContext.ClaimSets*</span> property that is constructed throughout the authentication process; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Pass <code>false</code> to the <code>includeWindowsGroups</code> parameter when the Windows group information is not required to improve performance.  </p>\n<p> The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> class has several static properties, such as the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_ChainTrust_\" data-linktype=\"relative-path\">ChainTrust</a> property that can be passed to the <code>validator</code> parameter. These properties provide common validation methods for X.509 certificates. When a custom validation method is required, derive a class from <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> and override the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method. The <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method is called by the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method.  </p>\n<p> When <code>true</code> is passed into the <code>mapToWindows</code> parameter, the X.509 certificate is mapped to a Windows account and relevant claims are added to the <a class=\"xref\" href=\"system.identitymodel.policy.evaluationcontext\" data-linktype=\"relative-path\">EvaluationContext</a>, such as the Windows groups that the user belongs to. When the security token is of type <a class=\"xref\" href=\"system.identitymodel.tokens.x509windowssecuritytoken\" data-linktype=\"relative-path\">X509WindowsSecurityToken</a>, the <a class=\"xref\" href=\"system.identitymodel.tokens.x509windowssecuritytoken#System_IdentityModel_Tokens_X509WindowsSecurityToken_WindowsIdentity_\" data-linktype=\"relative-path\">WindowsIdentity</a> property is using the identity that is specified in the token; otherwise, the X.509 certificate is mapped to a Windows identity using a Kerberos S4U logon based on the user principal name SubjectAltNames extension of the X.509 certificate.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_MapCertificateToWindowsAccount\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_MapCertificateToWindowsAccount_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">MapCertificateToWindowsAccount</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value that indicates whether to map the X.509 certificate to a Windows account.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool MapCertificateToWindowsAccount { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> to map the X.509 certificate to a Windows account; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The MapCertificateToWindowsAccount property can only be set in a constructor.  </p>\n<p> If transport-level SSL or HTTPS security is being used and mapping is already provided by the underlying security channel or by Internet Information Services (IIS), then that mapping is applied with no chain-validation. Otherwise, prior to doing the mapping, the certificate is validated using a certificate chain, and the certificate must chain to an NT_AUTHORITY identity. The chain structure used corresponds to the CERT_CHAIN_POLICY_NT_AUTH as defined in the <code>CertVerifyCertificateChainPolicy</code> function (see the <a href=\"http://go.microsoft.com/fwlink/?LinkId=83570\" data-linktype=\"external\">CertVerifyCertificateChainPolicy</a> function in the Cryptography SDK). This behavior only occurs when mapping a certificate to a Windows account.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_CanValidateTokenCore_System_IdentityModel_Tokens_SecurityToken_\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_CanValidateTokenCore_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CanValidateTokenCore(SecurityToken)</div>        \r\n          </div>\r\n    \r\n            <p>Gets a value that indicates whether the specified security token can be validated by this security token authenticator.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override bool CanValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>token</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytoken\" data-linktype=\"relative-path\">SecurityToken</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.identitymodel.tokens.securitytoken\" data-linktype=\"relative-path\">SecurityToken</a> to be validated.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> when <code>token</code> is a <a class=\"xref\" href=\"system.identitymodel.tokens.x509securitytoken\" data-linktype=\"relative-path\">X509SecurityToken</a> security token or a class that derives from <a class=\"xref\" href=\"system.identitymodel.tokens.x509securitytoken\" data-linktype=\"relative-path\">X509SecurityToken</a>; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The CanValidateTokenCore method does not authenticate the security token; that is performed by the <a class=\"xref\" href=\"system.identitymodel.selectors.x509securitytokenauthenticator#System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\" data-linktype=\"relative-path\">ValidateTokenCore</a> method.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_System_IdentityModel_Tokens_SecurityToken_\">\r\n    \r\n            <a id=\"System_IdentityModel_Selectors_X509SecurityTokenAuthenticator_ValidateTokenCore_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">ValidateTokenCore(SecurityToken)</div>        \r\n          </div>\r\n    \r\n            <p>Authenticates the specified security token and returns the set of authorization policies for the security token.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override System.Collections.ObjectModel.ReadOnlyCollection&lt;System.IdentityModel.Policy.IAuthorizationPolicy&gt; ValidateTokenCore (System.IdentityModel.Tokens.SecurityToken token);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>token</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.tokens.securitytoken\" data-linktype=\"relative-path\">SecurityToken</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The <a class=\"xref\" href=\"system.identitymodel.tokens.securitytoken\" data-linktype=\"relative-path\">SecurityToken</a> to be validated.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.collections.objectmodel.readonlycollection-1\" data-linktype=\"relative-path\">ReadOnlyCollection</a>&lt;<a class=\"xref\" href=\"system.identitymodel.policy.iauthorizationpolicy\" data-linktype=\"relative-path\">IAuthorizationPolicy</a>&gt;</div>\r\n                  </div>\r\n                  <p>A <span class=\"xref\">stem.Collections.ObjectModel.ReadOnlyCollection`1</span> of type <a class=\"xref\" href=\"system.identitymodel.policy.iauthorizationpolicy\" data-linktype=\"relative-path\">IAuthorizationPolicy</a> that contains the set of authorization policies in effect for this application.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When the ValidateTokenCore method is overridden, follow these guidelines:  </p>\n<ul>\n<li><p>When the security token passed into the <code>token</code> parameter cannot be validated, throw the <a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenvalidationexception\" data-linktype=\"relative-path\">SecurityTokenValidationException</a> exception.  </p>\n</li>\n<li><p>When there are no authorization policies in effect for this application, return an empty <a class=\"xref\" href=\"system.collections.objectmodel.readonlycollection-1\" data-linktype=\"relative-path\">ReadOnlyCollection&lt;T&gt;</a> of type <a class=\"xref\" href=\"system.identitymodel.policy.iauthorizationpolicy\" data-linktype=\"relative-path\">IAuthorizationPolicy</a>.  </p>\n<p>When <code>null</code> is returned by this method, <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/vsindigo-md.md&quot; -->Windows Communication Foundation (WCF)<!--END INCLUDE --> throws the <a class=\"xref\" href=\"system.identitymodel.tokens.securitytokenvalidationexception\" data-linktype=\"relative-path\">SecurityTokenValidationException</a> exception.  </p>\n<p>The ValidateTokenCore method calls the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator#System_IdentityModel_Selectors_X509CertificateValidator_Validate_System_Security_Cryptography_X509Certificates_X509Certificate2_\" data-linktype=\"relative-path\">Validate(X509Certificate2)</a> method of the validation method specified in the constructor to authenticate the <code>token</code> parameter.</p>\n</li>\n</ul>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.yml\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator..ctor\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount\">\r\n<meta name=\"APIName\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore\">\r\n<meta name=\"APILocation\" content=\"System.IdentityModel.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"6e49136c-27b7-4b62-cd3a-3811bd5dd99f\">\r\n<meta name=\"original_ecmaxml_local_path\" content=\"W:\\vejk\\s\\fulldocset\\xml\\System.IdentityModel.Selectors\\X509SecurityTokenAuthenticator.xml\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Authenticates an .\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.IdentityModel.Selectors/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.yml","open_to_public_contributors":true,"api_name":["System.IdentityModel.Selectors.X509SecurityTokenAuthenticator","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator..ctor","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore"],"api_location":["System.IdentityModel.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.IdentityModel.Selectors.X509SecurityTokenAuthenticator","System::IdentityModel::Selectors::X509SecurityTokenAuthenticator","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.#ctor","System::IdentityModel::Selectors::X509SecurityTokenAuthenticator::#ctor","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.CanValidateTokenCore","System::IdentityModel::Selectors::X509SecurityTokenAuthenticator::CanValidateTokenCore","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.MapCertificateToWindowsAccount","System::IdentityModel::Selectors::X509SecurityTokenAuthenticator::MapCertificateToWindowsAccount","System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.ValidateTokenCore","System::IdentityModel::Selectors::X509SecurityTokenAuthenticator::ValidateTokenCore"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"6e49136c-27b7-4b62-cd3a-3811bd5dd99f","original_ecmaxml_local_path":"W:\\vejk\\s\\fulldocset\\xml\\System.IdentityModel.Selectors\\X509SecurityTokenAuthenticator.xml","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.IdentityModel.Selectors/X509SecurityTokenAuthenticator.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"X509SecurityTokenAuthenticator class | Microsoft Docs","_op_ogTitle":"X509SecurityTokenAuthenticator class","description":"Authenticates an .\n","toc_asset_id":"_splitted/System.IdentityModel.Selectors/toc.json","toc_rel":"_splitted/System.IdentityModel.Selectors/toc.json","source_url":"","ms.assetid":"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.identitymodel.selectors.x509securitytokenauthenticator","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.identitymodel.selectors.x509securitytokenauthenticator","fileRelativePath":"System.IdentityModel.Selectors.X509SecurityTokenAuthenticator.html"},"themesRelativePathToOutputRoot":"_themes/"}