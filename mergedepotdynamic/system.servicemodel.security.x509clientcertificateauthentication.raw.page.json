{"content":"    \r\n    <h1 id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication\">\r\n      <span class=\"lang-csharp\">X509ClientCertificateAuthentication</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Specifies authentication properties for validating the client certificate.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public class X509ClientCertificateAuthentication</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l1\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">X509ClientCertificateAuthentication</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>If the <a class=\"xref\" href=\"system.servicemodel.security.x509clientcertificateauthentication#System_ServiceModel_Security_X509ClientCertificateAuthentication_CertificateValidationMode_\" data-linktype=\"relative-path\">CertificateValidationMode</a> is set to <a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>, then you must create a custom certificate validator that inherits from the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> class. For more information, see<a href=\"../Topic/How%20to:%20Create%20a%20Service%20that%20Employs%20a%20Custom%20Certificate%20Validator.md\" data-linktype=\"relative-path\">How to: Create a Service that Employs a Custom Certificate Validator</a>.</p>\n\r\n    \r\n    \r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_CertificateValidationMode\" data-linktype=\"self-bookmark\">CertificateValidationMode</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets the certificate validation mode.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_CustomCertificateValidator\" data-linktype=\"self-bookmark\">CustomCertificateValidator</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets a custom client certificate validator.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_IncludeWindowsGroups\" data-linktype=\"self-bookmark\">IncludeWindowsGroups</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets a value that indicates whether Windows groups are included in the authorization context.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_MapClientCertificateToWindowsAccount\" data-linktype=\"self-bookmark\">MapClientCertificateToWindowsAccount</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets a value that indicates whether the certificate is mapped to Windows accounts.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_RevocationMode\" data-linktype=\"self-bookmark\">RevocationMode</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets the certificate revocation mode for ChainTrust and PeerOrChainTrust X.509 certificate validation.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_ServiceModel_Security_X509ClientCertificateAuthentication_TrustedStoreLocation\" data-linktype=\"self-bookmark\">TrustedStoreLocation</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets or sets the trusted store location under which context the client certificate chain is validated.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_CertificateValidationMode\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_CertificateValidationMode_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CertificateValidationMode</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets the certificate validation mode.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.ServiceModel.Security.X509CertificateValidationMode CertificateValidationMode { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a></div>\r\n                  </div>\r\n                  <p>One of the <a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a> values.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Allowed values of <a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a> are:  </p>\n<ul>\n<li><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>  \n</li>\n<li><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>  \n</li>\n<li><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>  \n</li>\n<li><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>  \n</li>\n<li><a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a></li>\n</ul>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example uses the CertificateValidationMode to print to the screen.  </p>\n<pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#7\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n\n            // Create a binding that uses a certificate.\n            WSHttpBinding b = new WSHttpBinding(SecurityMode.Message);\n            b.Security.Message.ClientCredentialType =\n                MessageCredentialType.Certificate;\n\n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n\n            switch (myAuthProperties.CertificateValidationMode)\n            {\n                case X509CertificateValidationMode.ChainTrust:\n                    Console.WriteLine(&quot;ChainTrust&quot;);\n                    break;\n                case X509CertificateValidationMode.Custom:\n                    Console.WriteLine(&quot;Custom&quot;);\n                    break;\n                case X509CertificateValidationMode.None:\n                    Console.WriteLine(&quot;ChainTrust&quot;);\n                    break;\n                case X509CertificateValidationMode.PeerOrChainTrust:\n                    Console.WriteLine(&quot;PeerOrChainTrust&quot;);\n                    break;\n                case X509CertificateValidationMode.PeerTrust:\n                    Console.WriteLine(&quot;PeerTrust&quot;);\n                    break;\n                default:\n                    Console.WriteLine(&quot;Default&quot;);\n                    break;\n            }\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#7\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n\n        &#39; Create a binding that uses a certificate.\n        Dim b As New WSHttpBinding(SecurityMode.Message)\n        b.Security.Message.ClientCredentialType = _\n        MessageCredentialType.Certificate\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication()\n\n        Select Case myAuthProperties.CertificateValidationMode\n            Case X509CertificateValidationMode.ChainTrust\n                Console.WriteLine(&quot;ChainTrust&quot;)\n            Case X509CertificateValidationMode.Custom\n                Console.WriteLine(&quot;Custom&quot;)\n            Case X509CertificateValidationMode.None\n                Console.WriteLine(&quot;ChainTrust&quot;)\n            Case X509CertificateValidationMode.PeerOrChainTrust\n                Console.WriteLine(&quot;PeerOrChainTrust&quot;)\n            Case X509CertificateValidationMode.PeerTrust\n                Console.WriteLine(&quot;PeerTrust&quot;)\n            Case Else\n                Console.WriteLine(&quot;Default&quot;)\n        End Select\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication certificateValidationMode=&#39;ChainTrust&#39; /&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_CustomCertificateValidator\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_CustomCertificateValidator_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CustomCertificateValidator</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets a custom client certificate validator.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.IdentityModel.Selectors.X509CertificateValidator CustomCertificateValidator { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a></div>\r\n                  </div>\r\n                  <p>The custom client certificate validator.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p><code>set</code> when credential is read-only.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>If the <a class=\"xref\" href=\"system.servicemodel.security.x509clientcertificateauthentication#System_ServiceModel_Security_X509ClientCertificateAuthentication_CertificateValidationMode_\" data-linktype=\"relative-path\">CertificateValidationMode</a> property is set to <a class=\"xref\" href=\"system.servicemodel.security.x509certificatevalidationmode\" data-linktype=\"relative-path\">X509CertificateValidationMode</a>, you must set the CustomCertificateValidator property to a custom validator that inherits from the <a class=\"xref\" href=\"system.identitymodel.selectors.x509certificatevalidator\" data-linktype=\"relative-path\">X509CertificateValidator</a> class.  </p>\n<p> For more information, see <a href=\"../Topic/How%20to:%20Create%20a%20Service%20that%20Employs%20a%20Custom%20Certificate%20Validator.md\" data-linktype=\"relative-path\">How to: Create a Service that Employs a Custom Certificate Validator</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code shows how to set this property.  </p>\n<pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#2\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n\n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n                        \n            // Configure custom certificate validation.\n            myAuthProperties.CertificateValidationMode =\n                X509CertificateValidationMode.Custom;\n            // Specify a custom certificate validator (not shown here) that inherits \n            // from the X509CertificateValidator class.\n            // creds.ClientCertificate.Authentication.CustomCertificateValidator =\n            //    new MyCertificateValidator();\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#2\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication\n\n        &#39; Configure custom certificate validation.\n        myAuthProperties.CertificateValidationMode = X509CertificateValidationMode.Custom\n        &#39; Specify a custom certificate validator (not shown here) that inherits \n        &#39; from the X509CertificateValidator class.\n        &#39; creds.ClientCertificate.Authentication.CustomCertificateValidator = _\n        &#39;    new MyCertificateValidator()\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication certificateValidationMode=&#39;Custom&#39; customCertificateValidatorType=&#39;Samples.MyCertificateValidator, Samples&#39; /&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_IncludeWindowsGroups\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_IncludeWindowsGroups_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">IncludeWindowsGroups</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets a value that indicates whether Windows groups are included in the authorization context.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool IncludeWindowsGroups { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if Windows groups are included in the authorization context; otherwise, <code>false</code>. The default is <code>true</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This property is valid only when the <a class=\"xref\" href=\"system.servicemodel.security.x509clientcertificateauthentication#System_ServiceModel_Security_X509ClientCertificateAuthentication_MapClientCertificateToWindowsAccount_\" data-linktype=\"relative-path\">MapClientCertificateToWindowsAccount</a> property is set to <code>true</code>.  </p>\n<p> Set this property to <code>false</code> only if you do not need to establish the list of groups a user belongs to - this may result in a performance benefit if your application and authorization decisions do not require Windows groups.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code shows how to set this property.  </p>\n<pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#3\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n            // Create a binding that uses a certificate.\n            WSHttpBinding b = new WSHttpBinding(SecurityMode.Message);\n            b.Security.Message.ClientCredentialType = \n                MessageCredentialType.Certificate; \n\n\n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n            // Configure IncludeWindowsGroups.\n            myAuthProperties.IncludeWindowsGroups = true;\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#3\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n        &#39; Create a binding that uses a certificate.\n        Dim b As New WSHttpBinding(SecurityMode.Message)\n        b.Security.Message.ClientCredentialType = MessageCredentialType.Certificate\n\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication\n        &#39; Configure IncludeWindowsGroups.\n        myAuthProperties.IncludeWindowsGroups = True\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication includeWindowsGroups =&#39;true&#39;/&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_MapClientCertificateToWindowsAccount\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_MapClientCertificateToWindowsAccount_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">MapClientCertificateToWindowsAccount</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets a value that indicates whether the certificate is mapped to Windows accounts.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool MapClientCertificateToWindowsAccount { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the certificate is mapped to Windows accounts; otherwise, <code>false</code>. The default is <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p><code>set</code> when credential is read-only.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When using the certificate client credential type on bindings, the certificate is not mapped to Windows accounts. You can override this behavior using this property. When this property is set to <code>true</code>, it causes the identity from the client certificate to be mapped to a Windows account.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code shows how to set this property.  </p>\n<pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#4\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n\n            // Create a binding that uses Windows security.\n            WSHttpBinding b = new WSHttpBinding(SecurityMode.Message);\n            b.Security.Message.ClientCredentialType = MessageCredentialType.Windows;\n\n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n            // Configure IncludeWindowsGroups.\n            myAuthProperties.IncludeWindowsGroups = true;\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#4\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n\n        &#39; Create a binding that uses Windows security.\n        Dim b As New WSHttpBinding(SecurityMode.Message)\n        b.Security.Message.ClientCredentialType = MessageCredentialType.Windows\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication\n        &#39; Configure IncludeWindowsGroups.\n        myAuthProperties.IncludeWindowsGroups = True\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication mapClientCertificateToWindowsAccount=&#39;true&#39;/&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_RevocationMode\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_RevocationMode_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RevocationMode</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets the certificate revocation mode for ChainTrust and PeerOrChainTrust X.509 certificate validation.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Security.Cryptography.X509Certificates.X509RevocationMode RevocationMode { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.cryptography.x509certificates.x509revocationmode\" data-linktype=\"relative-path\">X509RevocationMode</a></div>\r\n                  </div>\r\n                  <p>One of the values in <a class=\"xref\" href=\"system.security.cryptography.x509certificates.x509revocationmode\" data-linktype=\"relative-path\">X509RevocationMode</a>: <code>NoCheck</code>, <code>Online</code>, or <code>Offline</code>. The default is <code>Online</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p><code>set</code> when credential is read-only.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>When using certificates, the system validates that the client certificate is not revoked, by checking that the client certificate is not in the revoked certificate list. This check can be performed either by checking online or by checking against a cached revocation list. Revocation checking can be turned off by setting this property to <a class=\"xref\" href=\"system.security.cryptography.x509certificates.x509revocationmode\" data-linktype=\"relative-path\">X509RevocationMode</a>.  </p>\n<p> For more information, see <a href=\"../Topic/Working%20with%20Certificates.md\" data-linktype=\"relative-path\">Working with Certificates</a>.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code shows how to set this property.  </p>\n<pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#5\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n\n            // Create a binding that uses a certificate.\n            WSHttpBinding b = new WSHttpBinding(SecurityMode.Message);\n            b.Security.Message.ClientCredentialType =\n                MessageCredentialType.Certificate; \n            \n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n            \n            // Configure ChainTrust with no revocation check.\n            myAuthProperties.CertificateValidationMode = \n                X509CertificateValidationMode.ChainTrust;\n            myAuthProperties.RevocationMode = X509RevocationMode.NoCheck;\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#5\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n\n        &#39; Create a binding that uses a certificate.\n        Dim b As New WSHttpBinding(SecurityMode.Message)\n        b.Security.Message.ClientCredentialType = _\n        MessageCredentialType.Certificate\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication\n\n        &#39; Configure ChainTrust with no revocation check.\n        myAuthProperties.CertificateValidationMode = _\n        X509CertificateValidationMode.ChainTrust\n        myAuthProperties.RevocationMode = X509RevocationMode.NoCheck\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication certificateValidationMode=&#39;ChainTrust&#39;   revocationMode = &#39;NoCheck&#39;/&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_TrustedStoreLocation\">\r\n    \r\n            <a id=\"System_ServiceModel_Security_X509ClientCertificateAuthentication_TrustedStoreLocation_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">TrustedStoreLocation</div>        \r\n          </div>\r\n    \r\n            <p>Gets or sets the trusted store location under which context the client certificate chain is validated.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Security.Cryptography.X509Certificates.StoreLocation TrustedStoreLocation { get; set; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.cryptography.x509certificates.storelocation\" data-linktype=\"relative-path\">StoreLocation</a></div>\r\n                  </div>\r\n                  <p>The trusted store location under which context the client certificate chain is validated.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.invalidoperationexception\" data-linktype=\"relative-path\">InvalidOperationException</a></div>\r\n                  </div>\r\n                  <p><code>set</code> when credential is read-only.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This property specifies whether machine or user context is used to verify the X.509 certificate chain.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <pre><code class=\"lang-cs\" name=\"X509ClientCertificateAuthentication#6\">            // Create a service host.\n            Uri httpUri = new Uri(&quot;http://localhost/Calculator&quot;);\n            ServiceHost sh = new ServiceHost(typeof(Calculator), httpUri);\n\n            // Create a binding that uses a certificate.\n            WSHttpBinding b = new WSHttpBinding(SecurityMode.Message);\n            b.Security.Message.ClientCredentialType =\n                MessageCredentialType.Certificate; \n\n            // Get a reference to the authentication object.\n            X509ClientCertificateAuthentication myAuthProperties =\n                sh.Credentials.ClientCertificate.Authentication;\n            // Configure peer trust.\n            myAuthProperties.CertificateValidationMode =\n                X509CertificateValidationMode.PeerTrust;\n            myAuthProperties.TrustedStoreLocation =\n                StoreLocation.LocalMachine;\n</code></pre><pre><code class=\"lang-vb\" name=\"X509ClientCertificateAuthentication#6\">        &#39; Create a service host.\n        Dim httpUri As New Uri(&quot;http://localhost/Calculator&quot;)\n        Dim sh As New ServiceHost(GetType(Calculator), httpUri)\n\n        &#39; Create a binding that uses a certificate.\n        Dim b As New WSHttpBinding(SecurityMode.Message)\n        b.Security.Message.ClientCredentialType = _\n        MessageCredentialType.Certificate\n\n        &#39; Get a reference to the authentication object.\n        Dim myAuthProperties As X509ClientCertificateAuthentication = _\n        sh.Credentials.ClientCertificate.Authentication\n        &#39; Configure peer trust.\n        myAuthProperties.CertificateValidationMode = _\n        X509CertificateValidationMode.PeerTrust\n        myAuthProperties.TrustedStoreLocation = StoreLocation.LocalMachine\n</code></pre><p> The property can also be set in a configuration file.  </p>\n<pre><code>&lt;serviceCredentials&gt;  \n  &lt;clientCertificate&gt;  \n     &lt;authentication certificateValidationMode=&#39;ChainTrust&#39;   trustedStoreLocation = &#39;LocalMachine&#39;/&gt;  \n  &lt;/clientCertificate&gt;  \n&lt;/serviceCredentials&gt;  \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Security.X509ClientCertificateAuthentication.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Security.X509ClientCertificateAuthentication.yml\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.CertificateValidationMode\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.CustomCertificateValidator\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.IncludeWindowsGroups\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.MapClientCertificateToWindowsAccount\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.RevocationMode\">\r\n<meta name=\"APIName\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication.TrustedStoreLocation\">\r\n<meta name=\"APILocation\" content=\"System.ServiceModel.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"7a1673c6-97a5-73dd-5abc-fcde0c30ef41\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Specifies authentication properties for validating the client certificate.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.ServiceModel.Security/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.ServiceModel.Security.X509ClientCertificateAuthentication\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.ServiceModel.Security.X509ClientCertificateAuthentication.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.ServiceModel.Security.X509ClientCertificateAuthentication.yml","open_to_public_contributors":true,"api_name":["System.ServiceModel.Security.X509ClientCertificateAuthentication","System.ServiceModel.Security.X509ClientCertificateAuthentication.CertificateValidationMode","System.ServiceModel.Security.X509ClientCertificateAuthentication.CustomCertificateValidator","System.ServiceModel.Security.X509ClientCertificateAuthentication.IncludeWindowsGroups","System.ServiceModel.Security.X509ClientCertificateAuthentication.MapClientCertificateToWindowsAccount","System.ServiceModel.Security.X509ClientCertificateAuthentication.RevocationMode","System.ServiceModel.Security.X509ClientCertificateAuthentication.TrustedStoreLocation"],"api_location":["System.ServiceModel.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.ServiceModel.Security.X509ClientCertificateAuthentication","System::ServiceModel::Security::X509ClientCertificateAuthentication","System.ServiceModel.Security.X509ClientCertificateAuthentication.CertificateValidationMode","System::ServiceModel::Security::X509ClientCertificateAuthentication::CertificateValidationMode","System.ServiceModel.Security.X509ClientCertificateAuthentication.CustomCertificateValidator","System::ServiceModel::Security::X509ClientCertificateAuthentication::CustomCertificateValidator","System.ServiceModel.Security.X509ClientCertificateAuthentication.IncludeWindowsGroups","System::ServiceModel::Security::X509ClientCertificateAuthentication::IncludeWindowsGroups","System.ServiceModel.Security.X509ClientCertificateAuthentication.MapClientCertificateToWindowsAccount","System::ServiceModel::Security::X509ClientCertificateAuthentication::MapClientCertificateToWindowsAccount","System.ServiceModel.Security.X509ClientCertificateAuthentication.RevocationMode","System::ServiceModel::Security::X509ClientCertificateAuthentication::RevocationMode","System.ServiceModel.Security.X509ClientCertificateAuthentication.TrustedStoreLocation","System::ServiceModel::Security::X509ClientCertificateAuthentication::TrustedStoreLocation"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"7a1673c6-97a5-73dd-5abc-fcde0c30ef41","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.ServiceModel.Security/X509ClientCertificateAuthentication.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"X509ClientCertificateAuthentication class | Microsoft Docs","_op_ogTitle":"X509ClientCertificateAuthentication class","description":"Specifies authentication properties for validating the client certificate.\n","toc_asset_id":"_splitted/System.ServiceModel.Security/toc.json","toc_rel":"_splitted/System.ServiceModel.Security/toc.json","source_url":"","ms.assetid":"System.ServiceModel.Security.X509ClientCertificateAuthentication","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.security.x509clientcertificateauthentication","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.servicemodel.security.x509clientcertificateauthentication","fileRelativePath":"System.ServiceModel.Security.X509ClientCertificateAuthentication.html"},"themesRelativePathToOutputRoot":"_themes/"}