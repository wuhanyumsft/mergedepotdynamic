{"content":"    \r\n    <h1 id=\"System_Security_AccessControl_FileSystemSecurity\">\r\n      <span class=\"lang-csharp\">FileSystemSecurity</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Represents the access control and audit security for a file or directory.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public abstract class FileSystemSecurity : System.Security.AccessControl.NativeObjectSecurity</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity\" data-linktype=\"relative-path\">ObjectSecurity</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l2\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity\" data-linktype=\"relative-path\">CommonObjectSecurity</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l3\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.nativeobjectsecurity\" data-linktype=\"relative-path\">System.Security.AccessControl.NativeObjectSecurity</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l4\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">FileSystemSecurity</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_AddAccessRule_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">AddAccessRule(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_AddAuditRule_System_Security_AccessControl_AuditRule_\" data-linktype=\"relative-path\">AddAuditRule(AuditRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_GetAccessRules_System_Boolean_System_Boolean_System_Type_\" data-linktype=\"relative-path\">GetAccessRules(Boolean,Boolean,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_GetAuditRules_System_Boolean_System_Boolean_System_Type_\" data-linktype=\"relative-path\">GetAuditRules(Boolean,Boolean,Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_ModifyAccess_System_Security_AccessControl_AccessControlModification_System_Security_AccessControl_AccessRule_System_Boolean__\" data-linktype=\"relative-path\">ModifyAccess(AccessControlModification,AccessRule,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_ModifyAudit_System_Security_AccessControl_AccessControlModification_System_Security_AccessControl_AuditRule_System_Boolean__\" data-linktype=\"relative-path\">ModifyAudit(AccessControlModification,AuditRule,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAccessRule_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">RemoveAccessRule(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAccessRuleAll_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">RemoveAccessRuleAll(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAccessRuleSpecific_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">RemoveAccessRuleSpecific(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAuditRule_System_Security_AccessControl_AuditRule_\" data-linktype=\"relative-path\">RemoveAuditRule(AuditRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAuditRuleAll_System_Security_AccessControl_AuditRule_\" data-linktype=\"relative-path\">RemoveAuditRuleAll(AuditRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_RemoveAuditRuleSpecific_System_Security_AccessControl_AuditRule_\" data-linktype=\"relative-path\">RemoveAuditRuleSpecific(AuditRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_ResetAccessRule_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">ResetAccessRule(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_SetAccessRule_System_Security_AccessControl_AccessRule_\" data-linktype=\"relative-path\">SetAccessRule(AccessRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.commonobjectsecurity#System_Security_AccessControl_CommonObjectSecurity_SetAuditRule_System_Security_AccessControl_AuditRule_\" data-linktype=\"relative-path\">SetAuditRule(AuditRule)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.nativeobjectsecurity#System_Security_AccessControl_NativeObjectSecurity_Persist_System_Runtime_InteropServices_SafeHandle_System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">Persist(SafeHandle,AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.nativeobjectsecurity#System_Security_AccessControl_NativeObjectSecurity_Persist_System_Runtime_InteropServices_SafeHandle_System_Security_AccessControl_AccessControlSections_System_Object_\" data-linktype=\"relative-path\">Persist(SafeHandle,AccessControlSections,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.nativeobjectsecurity#System_Security_AccessControl_NativeObjectSecurity_Persist_System_String_System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">Persist(String,AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.nativeobjectsecurity#System_Security_AccessControl_NativeObjectSecurity_Persist_System_String_System_Security_AccessControl_AccessControlSections_System_Object_\" data-linktype=\"relative-path\">Persist(String,AccessControlSections,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AccessRulesModified\" data-linktype=\"relative-path\">AccessRulesModified</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AreAccessRulesCanonical\" data-linktype=\"relative-path\">AreAccessRulesCanonical</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AreAccessRulesProtected\" data-linktype=\"relative-path\">AreAccessRulesProtected</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AreAuditRulesCanonical\" data-linktype=\"relative-path\">AreAuditRulesCanonical</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AreAuditRulesProtected\" data-linktype=\"relative-path\">AreAuditRulesProtected</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_AuditRulesModified\" data-linktype=\"relative-path\">AuditRulesModified</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_GetGroup_System_Type_\" data-linktype=\"relative-path\">GetGroup(Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_GetOwner_System_Type_\" data-linktype=\"relative-path\">GetOwner(Type)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_GetSecurityDescriptorBinaryForm\" data-linktype=\"relative-path\">GetSecurityDescriptorBinaryForm()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_GetSecurityDescriptorSddlForm_System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">GetSecurityDescriptorSddlForm(AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_GroupModified\" data-linktype=\"relative-path\">GroupModified</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_IsContainer\" data-linktype=\"relative-path\">IsContainer</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_IsDS\" data-linktype=\"relative-path\">IsDS</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_IsSddlConversionSupported\" data-linktype=\"relative-path\">IsSddlConversionSupported()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_ModifyAccessRule_System_Security_AccessControl_AccessControlModification_System_Security_AccessControl_AccessRule_System_Boolean__\" data-linktype=\"relative-path\">ModifyAccessRule(AccessControlModification,AccessRule,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_ModifyAuditRule_System_Security_AccessControl_AccessControlModification_System_Security_AccessControl_AuditRule_System_Boolean__\" data-linktype=\"relative-path\">ModifyAuditRule(AccessControlModification,AuditRule,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_OwnerModified\" data-linktype=\"relative-path\">OwnerModified</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_Persist_System_Boolean_System_String_System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">Persist(Boolean,String,AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_PurgeAccessRules_System_Security_Principal_IdentityReference_\" data-linktype=\"relative-path\">PurgeAccessRules(IdentityReference)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_PurgeAuditRules_System_Security_Principal_IdentityReference_\" data-linktype=\"relative-path\">PurgeAuditRules(IdentityReference)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_ReadLock\" data-linktype=\"relative-path\">ReadLock()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_ReadUnlock\" data-linktype=\"relative-path\">ReadUnlock()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetAccessRuleProtection_System_Boolean_System_Boolean_\" data-linktype=\"relative-path\">SetAccessRuleProtection(Boolean,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetAuditRuleProtection_System_Boolean_System_Boolean_\" data-linktype=\"relative-path\">SetAuditRuleProtection(Boolean,Boolean)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetGroup_System_Security_Principal_IdentityReference_\" data-linktype=\"relative-path\">SetGroup(IdentityReference)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetOwner_System_Security_Principal_IdentityReference_\" data-linktype=\"relative-path\">SetOwner(IdentityReference)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetSecurityDescriptorBinaryForm_System_Byte___\" data-linktype=\"relative-path\">SetSecurityDescriptorBinaryForm(Byte[])</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetSecurityDescriptorBinaryForm_System_Byte___System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">SetSecurityDescriptorBinaryForm(Byte[],AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetSecurityDescriptorSddlForm_System_String_\" data-linktype=\"relative-path\">SetSecurityDescriptorSddlForm(String)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_SetSecurityDescriptorSddlForm_System_String_System_Security_AccessControl_AccessControlSections_\" data-linktype=\"relative-path\">SetSecurityDescriptorSddlForm(String,AccessControlSections)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_WriteLock\" data-linktype=\"relative-path\">WriteLock()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.security.accesscontrol.objectsecurity#System_Security_AccessControl_ObjectSecurity_WriteUnlock\" data-linktype=\"relative-path\">WriteUnlock()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>The FileSystemSecurity class is the base class for the <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> and <a class=\"xref\" href=\"system.security.accesscontrol.directorysecurity\" data-linktype=\"relative-path\">DirectorySecurity</a> classes.  These classes represent all of the access rights for a system file or directory and define how access attempts are audited.  </p>\n<p> The FileSystemSecurity class represents access and audit rights as a set of rules. Each access rule is represented by a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object, while each audit rule is represented by a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object.  </p>\n<p> The FileSystemSecurity class is an abstraction of the underlying Microsoft Windows file security system. In this system, each file or directory has a discretionary access control list (DACL), which controls access to the file or directory, and a system access control list (SACL), which specifies the access control attempts that are audited.  The <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> and <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> classes are abstractions of access control entries (ACEs) that comprise DACLs and SACLs.  </p>\n<p> The FileSystemSecurity class hides many of details of DACLs and SACLs; you do not have to worry about ACE ordering or null DACLS.  </p>\n<p> To persist new or changed access control list (ACL) information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.</p>\n\r\n    \r\n    \r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AccessRightType\" data-linktype=\"self-bookmark\">AccessRightType</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the enumeration that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent access rights.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AccessRuleType\" data-linktype=\"self-bookmark\">AccessRuleType</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the enumeration that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent access rules.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AuditRuleType\" data-linktype=\"self-bookmark\">AuditRuleType</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the type that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent audit rules.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AccessRuleFactory_System_Security_Principal_IdentityReference_System_Int32_System_Boolean_System_Security_AccessControl_InheritanceFlags_System_Security_AccessControl_PropagationFlags_System_Security_AccessControl_AccessControlType_\" data-linktype=\"self-bookmark\">AccessRuleFactory(IdentityReference,Int32,Boolean,InheritanceFlags,PropagationFlags,AccessControlType)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> class that represents a new access control rule for the specified user, with the specified access rights, access control, and flags.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AddAccessRule_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">AddAccessRule(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Adds the specified access control list (ACL) permission to the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AddAuditRule_System_Security_AccessControl_FileSystemAuditRule_\" data-linktype=\"self-bookmark\">AddAuditRule(FileSystemAuditRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Adds the specified audit rule to the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_AuditRuleFactory_System_Security_Principal_IdentityReference_System_Int32_System_Boolean_System_Security_AccessControl_InheritanceFlags_System_Security_AccessControl_PropagationFlags_System_Security_AccessControl_AuditFlags_\" data-linktype=\"self-bookmark\">AuditRuleFactory(IdentityReference,Int32,Boolean,InheritanceFlags,PropagationFlags,AuditFlags)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> class representing the specified audit rule for the specified user.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAccessRule_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">RemoveAccessRule(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes all matching allow or deny access control list (ACL) permissions from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleAll_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">RemoveAccessRuleAll(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes all access control list (ACL) permissions for the specified user from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleSpecific_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">RemoveAccessRuleSpecific(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes a single matching allow or deny access control list (ACL) permission from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAuditRule_System_Security_AccessControl_FileSystemAuditRule_\" data-linktype=\"self-bookmark\">RemoveAuditRule(FileSystemAuditRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes all matching allow or deny audit rules from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleAll_System_Security_AccessControl_FileSystemAuditRule_\" data-linktype=\"self-bookmark\">RemoveAuditRuleAll(FileSystemAuditRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes all audit rules for the specified user from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleSpecific_System_Security_AccessControl_FileSystemAuditRule_\" data-linktype=\"self-bookmark\">RemoveAuditRuleSpecific(FileSystemAuditRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Removes a single matching allow or deny audit rule from the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_ResetAccessRule_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">ResetAccessRule(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Adds the specified access control list (ACL) permission to the current file or directory and removes all matching ACL permissions.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_SetAccessRule_System_Security_AccessControl_FileSystemAccessRule_\" data-linktype=\"self-bookmark\">SetAccessRule(FileSystemAccessRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Sets the specified access control list (ACL) permission for the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Security_AccessControl_FileSystemSecurity_SetAuditRule_System_Security_AccessControl_FileSystemAuditRule_\" data-linktype=\"self-bookmark\">SetAuditRule(FileSystemAuditRule)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Sets the specified audit rule for the current file or directory.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AccessRightType\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AccessRightType_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AccessRightType</div>        \r\n          </div>\r\n    \r\n            <p>Gets the enumeration that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent access rights.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override Type AccessRightType { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a></div>\r\n                  </div>\r\n                  <p>A <a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a> object representing the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> enumeration.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Classes that derive from the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class override the AccessRightType property and return the type they use to represent access rights. When you work with arrays or collections that contain multiple types of security objects, use this property to determine the correct enumeration type to use with each security object.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AccessRuleType\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AccessRuleType_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AccessRuleType</div>        \r\n          </div>\r\n    \r\n            <p>Gets the enumeration that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent access rules.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override Type AccessRuleType { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a></div>\r\n                  </div>\r\n                  <p>A <a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a> object representing the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> class.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Classes that derive from the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class override the AccessRuleType property and return the type they use to represent access rules. When you work with arrays or collections that contain multiple types of security objects, use this property to determine the correct access rule type to use with each security object.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AuditRuleType\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AuditRuleType_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AuditRuleType</div>        \r\n          </div>\r\n    \r\n            <p>Gets the type that the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class uses to represent audit rules.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override Type AuditRuleType { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a></div>\r\n                  </div>\r\n                  <p>A <a class=\"xref\" href=\"system.type\" data-linktype=\"relative-path\">Type</a> object representing the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> class.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Classes that derive from the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> class override the AuditRuleType property and return the type they use to represent audit rights. When you work with arrays or collections that contain multiple types of security objects, use this property to determine the correct audit rule type to use with each security object.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AccessRuleFactory_System_Security_Principal_IdentityReference_System_Int32_System_Boolean_System_Security_AccessControl_InheritanceFlags_System_Security_AccessControl_PropagationFlags_System_Security_AccessControl_AccessControlType_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AccessRuleFactory_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AccessRuleFactory(IdentityReference,Int32,Boolean,InheritanceFlags,PropagationFlags,AccessControlType)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> class that represents a new access control rule for the specified user, with the specified access rights, access control, and flags.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override sealed System.Security.AccessControl.AccessRule AccessRuleFactory (System.Security.Principal.IdentityReference identityReference, int accessMask, bool isInherited, System.Security.AccessControl.InheritanceFlags inheritanceFlags, System.Security.AccessControl.PropagationFlags propagationFlags, System.Security.AccessControl.AccessControlType type);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>identityReference</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.principal.identityreference\" data-linktype=\"relative-path\">IdentityReference</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.security.principal.identityreference\" data-linktype=\"relative-path\">IdentityReference</a> object that represents a user account.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>accessMask</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An integer that specifies an access type.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>isInherited</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the access rule is inherited; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>inheritanceFlags</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.inheritanceflags\" data-linktype=\"relative-path\">InheritanceFlags</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.inheritanceflags\" data-linktype=\"relative-path\">InheritanceFlags</a> values that specifies how to propagate access masks to child objects.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>propagationFlags</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.propagationflags\" data-linktype=\"relative-path\">PropagationFlags</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.propagationflags\" data-linktype=\"relative-path\">PropagationFlags</a> values that specifies how to propagate Access Control Entries (ACEs) to child objects.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>type</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> values that specifies whether access is allowed or denied.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.accessrule\" data-linktype=\"relative-path\">AccessRule</a></div>\r\n                  </div>\r\n                  <p>A new <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that represents a new access control rule for the specified user, with the specified access rights, access control, and flags.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>The <code>accessMask</code>, <code>inheritanceFlags</code>, <code>propagationFlags</code>, or <code>type</code> parameters specify an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>identityReference</code> parameter is <code>null</code>.  </p>\n<p> -or-  </p>\n<p> The <code>accessMask</code> parameter is zero.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The <code>identityReference</code> parameter is neither of type <a class=\"xref\" href=\"system.security.principal.securityidentifier\" data-linktype=\"relative-path\">SecurityIdentifier</a>, nor of a type such as <a class=\"xref\" href=\"system.security.principal.ntaccount\" data-linktype=\"relative-path\">NTAccount</a> that can be converted to type <a class=\"xref\" href=\"system.security.principal.securityidentifier\" data-linktype=\"relative-path\">SecurityIdentifier</a>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The recommended way to create access control rules is to use the constructors of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> class.  </p>\n<p> The return type of the AccessRuleFactory method is the base class, <a class=\"xref\" href=\"system.security.accesscontrol.accessrule\" data-linktype=\"relative-path\">AccessRule</a>, but the return value can be cast safely to the derived class.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AddAccessRule_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AddAccessRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AddAccessRule(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Adds the specified access control list (ACL) permission to the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void AddAccessRule (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that represents an access control list (ACL) permission to add to a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The AddAccessRule method adds a new rule to the list of rules contained within a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  </p>\n<p> If an access control list (ACL) already exists for the specified rule, the AddAccessRule method will still add the rule, with one exception: a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> enumeration value supersedes an object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> enumeration value.  </p>\n<p> To persist new or changed ACL information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  </p>\n<p> When you add an access rule without setting the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag will be automatically added to your rule.  If you remove the rule later without specifying the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the flag will automatically be removed.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example uses the <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> class to add and then remove an access control list (ACL) entry from a file.  You must supply a valid user or group account to run this example.  </p>\n<pre><code class=\"lang-cs\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">using System;\nusing System.IO;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                string fileName = &quot;test.xml&quot;;\n\n                Console.WriteLine(&quot;Adding access control entry for &quot;\n                    + fileName);\n\n                // Add the access control entry to the file.\n                AddFileSecurity(fileName, @&quot;DomainName\\AccountName&quot;,\n                    FileSystemRights.ReadData, AccessControlType.Allow);\n\n                Console.WriteLine(&quot;Removing access control entry from &quot;\n                    + fileName);\n\n                // Remove the access control entry from the file.\n                RemoveFileSecurity(fileName, @&quot;DomainName\\AccountName&quot;,\n                    FileSystemRights.ReadData, AccessControlType.Allow);\n\n                Console.WriteLine(&quot;Done.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n        }\n\n        // Adds an ACL entry on the specified file for the specified account.\n        public static void AddFileSecurity(string fileName, string account,\n            FileSystemRights rights, AccessControlType controlType)\n        {\n\n\n            // Get a FileSecurity object that represents the\n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(fileName);\n\n            // Add the FileSystemAccessRule to the security settings.\n            fSecurity.AddAccessRule(new FileSystemAccessRule(account,\n                rights, controlType));\n\n            // Set the new access settings.\n            File.SetAccessControl(fileName, fSecurity);\n\n        }\n\n        // Removes an ACL entry on the specified file for the specified account.\n        public static void RemoveFileSecurity(string fileName, string account,\n            FileSystemRights rights, AccessControlType controlType)\n        {\n\n            // Get a FileSecurity object that represents the\n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(fileName);\n\n            // Remove the FileSystemAccessRule from the security settings.\n            fSecurity.RemoveAccessRule(new FileSystemAccessRule(account,\n                rights, controlType));\n\n            // Set the new access settings.\n            File.SetAccessControl(fileName, fSecurity);\n\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">Imports System\nImports System.IO\nImports System.Security.AccessControl\n\n\n\nModule FileExample\n\n    Sub Main()\n        Try\n            Dim fileName As String = &quot;test.xml&quot;\n\n            Console.WriteLine(&quot;Adding access control entry for &quot; &amp; fileName)\n\n            &#39; Add the access control entry to the file.\n            AddFileSecurity(fileName, &quot;DomainName\\AccountName&quot;, _\n                FileSystemRights.ReadData, AccessControlType.Allow)\n\n            Console.WriteLine(&quot;Removing access control entry from &quot; &amp; fileName)\n\n            &#39; Remove the access control entry from the file.\n            RemoveFileSecurity(fileName, &quot;DomainName\\AccountName&quot;, _\n                FileSystemRights.ReadData, AccessControlType.Allow)\n\n            Console.WriteLine(&quot;Done.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n    End Sub\n\n\n    &#39; Adds an ACL entry on the specified file for the specified account.\n    Sub AddFileSecurity(ByVal fileName As String, ByVal account As String, _\n        ByVal rights As FileSystemRights, ByVal controlType As AccessControlType)\n  \n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(fileName)\n\n        &#39; Add the FileSystemAccessRule to the security settings. \n        Dim accessRule As FileSystemAccessRule = _\n            New FileSystemAccessRule(account, rights, controlType)\n\n        fSecurity.AddAccessRule(accessRule)\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(fileName, fSecurity)\n\n    End Sub\n\n\n    &#39; Removes an ACL entry on the specified file for the specified account.\n    Sub RemoveFileSecurity(ByVal fileName As String, ByVal account As String, _\n        ByVal rights As FileSystemRights, ByVal controlType As AccessControlType)\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(fileName)\n\n        &#39; Remove the FileSystemAccessRule from the security settings. \n        fSecurity.RemoveAccessRule(New FileSystemAccessRule(account, _\n            rights, controlType))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(fileName, fSecurity)\n\n    End Sub\nEnd Module\n</code></pre><pre><code class=\"lang-cpp\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Security::AccessControl;\n\n// Adds an ACL entry on the specified file for the specified account.\n\nvoid AddFileSecurity(String^ fileName, String^ account, \n                        FileSystemRights rights, AccessControlType controlType)\n{\n    // Get a FileSecurity object that represents the \n    // current security settings.\n    FileSecurity^ fSecurity = File::GetAccessControl(fileName);\n\n    // Add the FileSystemAccessRule to the security settings. \n    fSecurity-&gt;AddAccessRule(gcnew FileSystemAccessRule\n                                   (account,rights, controlType));\n\n    // Set the new access settings.\n    File::SetAccessControl(fileName, fSecurity);\n}\n\n// Removes an ACL entry on the specified file for the specified account.\n\nvoid RemoveFileSecurity(String^ fileName, String^ account, \n                        FileSystemRights rights, AccessControlType controlType)\n{\n\n    // Get a FileSecurity object that represents the \n    // current security settings.\n    FileSecurity^ fSecurity = File::GetAccessControl(fileName);\n\n    // Remove the FileSystemAccessRule from the security settings. \n    fSecurity-&gt;RemoveAccessRule(gcnew FileSystemAccessRule\n                                      (account,rights, controlType));\n\n    // Set the new access settings.\n    File::SetAccessControl(fileName, fSecurity);\n}\n\nint main()\n{\n    try\n    {\n        String^ fileName = &quot;test.xml&quot;;\n\n        Console::WriteLine(&quot;Adding access control entry for &quot; + fileName);\n\n        // Add the access control entry to the file.\n        AddFileSecurity(fileName, &quot;MYDOMAIN\\\\MyAccount&quot;, \n            FileSystemRights::ReadData, AccessControlType::Allow);\n\n        Console::WriteLine(&quot;Removing access control entry from &quot; + fileName);\n\n        // Remove the access control entry from the file.\n        RemoveFileSecurity(fileName, &quot;MYDOMAIN\\\\MyAccount&quot;, \n            FileSystemRights::ReadData, AccessControlType::Allow);\n\n        Console::WriteLine(&quot;Done.&quot;);\n    }\n    catch (Exception^ ex)\n    {\n        Console::WriteLine(ex-&gt;Message);\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AddAuditRule_System_Security_AccessControl_FileSystemAuditRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AddAuditRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AddAuditRule(FileSystemAuditRule)</div>        \r\n          </div>\r\n    \r\n            <p>Adds the specified audit rule to the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void AddAuditRule (System.Security.AccessControl.FileSystemAuditRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object that represents an audit rule to add to a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The AddAuditRule method adds a new audit rule to the list of rules contained within a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  </p>\n<p> If an audit rule already exists for the specified rule, the AddAuditRule method will still add the rule.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example uses the AddAuditRule method to add an audit rule to a file and uses the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity#System_Security_AccessControl_FileSystemSecurity_RemoveAuditRule_\" data-linktype=\"relative-path\">RemoveAuditRule</a> method to remove the audit rule from the file.  You must supply a valid user or group account to run this example.  </p>\n<pre><code class=\"lang-vb\" name=\"AccessControl.FileSystemAuditRule#1\">Imports System\nImports System.IO\nImports System.Security.AccessControl\n\n\n\nModule FileExample\n\n    Sub Main()\n        Try\n            Dim FileName As String = &quot;test.xml&quot;\n\n            Console.WriteLine(&quot;Adding access control entry for &quot; + FileName)\n\n            &#39; Add the access control entry to the file.\n            AddFileAuditRule(FileName, &quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure)\n\n            Console.WriteLine(&quot;Removing access control entry from &quot; + FileName)\n\n            &#39; Remove the access control entry from the file.\n            RemoveFileAuditRule(FileName, &quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure)\n\n            Console.WriteLine(&quot;Done.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n        Console.ReadLine()\n\n    End Sub\n\n\n    &#39; Adds an ACL entry on the specified file for the specified account.\n    Sub AddFileAuditRule(ByVal FileName As String, ByVal Account As String, ByVal Rights As FileSystemRights, ByVal AuditRule As AuditFlags)\n\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(FileName)\n\n        &#39; Add the FileSystemAuditRule to the security settings. \n        fSecurity.AddAuditRule(New FileSystemAuditRule(Account, Rights, AuditRule))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(FileName, fSecurity)\n\n    End Sub\n\n\n    &#39; Removes an ACL entry on the specified file for the specified account.\n    Sub RemoveFileAuditRule(ByVal FileName As String, ByVal Account As String, ByVal Rights As FileSystemRights, ByVal AuditRule As AuditFlags)\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(FileName)\n\n        &#39; Add the FileSystemAuditRule to the security settings. \n        fSecurity.RemoveAuditRule(New FileSystemAuditRule(Account, Rights, AuditRule))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(FileName, fSecurity)\n\n    End Sub\nEnd Module\n</code></pre><pre><code class=\"lang-cs\" name=\"AccessControl.FileSystemAuditRule#1\">using System;\nusing System.IO;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                string FileName = &quot;test.xml&quot;;\n\n                Console.WriteLine(&quot;Adding access control entry for &quot; + FileName);\n\n                // Add the access control entry to the file.\n                AddFileAuditRule(FileName, @&quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure);\n\n                Console.WriteLine(&quot;Removing access control entry from &quot; + FileName);\n\n                // Remove the access control entry from the file.\n                RemoveFileAuditRule(FileName, @&quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure);\n\n                Console.WriteLine(&quot;Done.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n\n            Console.ReadLine();\n        }\n\n        // Adds an ACL entry on the specified file for the specified account.\n        public static void AddFileAuditRule(string FileName, string Account, FileSystemRights Rights, AuditFlags AuditRule)\n        {\n\n\n            // Get a FileSecurity object that represents the \n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(FileName);\n\n            // Add the FileSystemAuditRule to the security settings. \n            fSecurity.AddAuditRule(new FileSystemAuditRule(Account,\n                                                            Rights,\n                                                            AuditRule));\n\n            // Set the new access settings.\n            File.SetAccessControl(FileName, fSecurity);\n\n        }\n\n        // Removes an ACL entry on the specified file for the specified account.\n        public static void RemoveFileAuditRule(string FileName, string Account, FileSystemRights Rights, AuditFlags AuditRule)\n        {\n\n            // Get a FileSecurity object that represents the \n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(FileName);\n\n            // Add the FileSystemAuditRule to the security settings. \n            fSecurity.RemoveAuditRule(new FileSystemAuditRule(Account,\n                                                            Rights,\n                                                            AuditRule));\n\n            // Set the new access settings.\n            File.SetAccessControl(FileName, fSecurity);\n\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_AuditRuleFactory_System_Security_Principal_IdentityReference_System_Int32_System_Boolean_System_Security_AccessControl_InheritanceFlags_System_Security_AccessControl_PropagationFlags_System_Security_AccessControl_AuditFlags_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_AuditRuleFactory_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">AuditRuleFactory(IdentityReference,Int32,Boolean,InheritanceFlags,PropagationFlags,AuditFlags)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> class representing the specified audit rule for the specified user.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override sealed System.Security.AccessControl.AuditRule AuditRuleFactory (System.Security.Principal.IdentityReference identityReference, int accessMask, bool isInherited, System.Security.AccessControl.InheritanceFlags inheritanceFlags, System.Security.AccessControl.PropagationFlags propagationFlags, System.Security.AccessControl.AuditFlags flags);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>identityReference</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.principal.identityreference\" data-linktype=\"relative-path\">IdentityReference</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An <a class=\"xref\" href=\"system.security.principal.identityreference\" data-linktype=\"relative-path\">IdentityReference</a> object that represents a user account.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>accessMask</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>An integer that specifies an access type.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>isInherited</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p><code>true</code> if the access rule is inherited; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>inheritanceFlags</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.inheritanceflags\" data-linktype=\"relative-path\">InheritanceFlags</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.inheritanceflags\" data-linktype=\"relative-path\">InheritanceFlags</a> values that specifies how to propagate access masks to child objects.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>propagationFlags</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.propagationflags\" data-linktype=\"relative-path\">PropagationFlags</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.propagationflags\" data-linktype=\"relative-path\">PropagationFlags</a> values that specifies how to propagate Access Control Entries (ACEs) to child objects.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>flags</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>One of the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> values that specifies the type of auditing to perform.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.auditrule\" data-linktype=\"relative-path\">AuditRule</a></div>\r\n                  </div>\r\n                  <p>A new <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object representing the specified audit rule for the specified user.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentoutofrangeexception\" data-linktype=\"relative-path\">ArgumentOutOfRangeException</a></div>\r\n                  </div>\r\n                  <p>The <code>accessMask</code>, <code>inheritanceFlags</code>, <code>propagationFlags</code>, or <code>flags</code> properties specify an invalid value.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>identityReference</code> property is <code>null</code>.  </p>\n<p> -or-  </p>\n<p> The <code>accessMask</code> property is zero.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The <code>identityReference</code> property is neither of type <a class=\"xref\" href=\"system.security.principal.securityidentifier\" data-linktype=\"relative-path\">SecurityIdentifier</a>, nor of a type such as <a class=\"xref\" href=\"system.security.principal.ntaccount\" data-linktype=\"relative-path\">NTAccount</a> that can be converted to type <a class=\"xref\" href=\"system.security.principal.securityidentifier\" data-linktype=\"relative-path\">SecurityIdentifier</a>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The recommended way to create audit rules is to use the constructors of the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> class.  </p>\n<p> The return type of the AuditRuleFactory method is the base class, <a class=\"xref\" href=\"system.security.accesscontrol.auditrule\" data-linktype=\"relative-path\">AuditRule</a>, but the return value can be cast safely to the derived class.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRule_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAccessRule(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes all matching allow or deny access control list (ACL) permissions from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool RemoveAccessRule (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that represents an access control list (ACL) permission to remove from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the access rule was removed; otherwise, <code>false</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAccessRule method removes either all matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rules or all matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rules from the current <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  For example, you can use this method to remove all <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rules for a user by passing a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> value, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, and a user account.  When you do this, the RemoveAccessRule method removes any deny rules that specify the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value or the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value.  </p>\n<p> To persist new or changed access control list (ACL) information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  </p>\n<p> When you add an access rule without setting the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag will be automatically added to your rule.  If you remove the rule later without specifying the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the flag will automatically be removed.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example uses the <a class=\"xref\" href=\"system.security.accesscontrol.filesecurity\" data-linktype=\"relative-path\">FileSecurity</a> class to add and then remove an access control list (ACL) entry from a file.  You must supply a valid user or group account to run this example.  </p>\n<pre><code class=\"lang-cs\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">using System;\nusing System.IO;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                string fileName = &quot;test.xml&quot;;\n\n                Console.WriteLine(&quot;Adding access control entry for &quot;\n                    + fileName);\n\n                // Add the access control entry to the file.\n                AddFileSecurity(fileName, @&quot;DomainName\\AccountName&quot;,\n                    FileSystemRights.ReadData, AccessControlType.Allow);\n\n                Console.WriteLine(&quot;Removing access control entry from &quot;\n                    + fileName);\n\n                // Remove the access control entry from the file.\n                RemoveFileSecurity(fileName, @&quot;DomainName\\AccountName&quot;,\n                    FileSystemRights.ReadData, AccessControlType.Allow);\n\n                Console.WriteLine(&quot;Done.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n        }\n\n        // Adds an ACL entry on the specified file for the specified account.\n        public static void AddFileSecurity(string fileName, string account,\n            FileSystemRights rights, AccessControlType controlType)\n        {\n\n\n            // Get a FileSecurity object that represents the\n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(fileName);\n\n            // Add the FileSystemAccessRule to the security settings.\n            fSecurity.AddAccessRule(new FileSystemAccessRule(account,\n                rights, controlType));\n\n            // Set the new access settings.\n            File.SetAccessControl(fileName, fSecurity);\n\n        }\n\n        // Removes an ACL entry on the specified file for the specified account.\n        public static void RemoveFileSecurity(string fileName, string account,\n            FileSystemRights rights, AccessControlType controlType)\n        {\n\n            // Get a FileSecurity object that represents the\n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(fileName);\n\n            // Remove the FileSystemAccessRule from the security settings.\n            fSecurity.RemoveAccessRule(new FileSystemAccessRule(account,\n                rights, controlType));\n\n            // Set the new access settings.\n            File.SetAccessControl(fileName, fSecurity);\n\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">Imports System\nImports System.IO\nImports System.Security.AccessControl\n\n\n\nModule FileExample\n\n    Sub Main()\n        Try\n            Dim fileName As String = &quot;test.xml&quot;\n\n            Console.WriteLine(&quot;Adding access control entry for &quot; &amp; fileName)\n\n            &#39; Add the access control entry to the file.\n            AddFileSecurity(fileName, &quot;DomainName\\AccountName&quot;, _\n                FileSystemRights.ReadData, AccessControlType.Allow)\n\n            Console.WriteLine(&quot;Removing access control entry from &quot; &amp; fileName)\n\n            &#39; Remove the access control entry from the file.\n            RemoveFileSecurity(fileName, &quot;DomainName\\AccountName&quot;, _\n                FileSystemRights.ReadData, AccessControlType.Allow)\n\n            Console.WriteLine(&quot;Done.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n    End Sub\n\n\n    &#39; Adds an ACL entry on the specified file for the specified account.\n    Sub AddFileSecurity(ByVal fileName As String, ByVal account As String, _\n        ByVal rights As FileSystemRights, ByVal controlType As AccessControlType)\n  \n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(fileName)\n\n        &#39; Add the FileSystemAccessRule to the security settings. \n        Dim accessRule As FileSystemAccessRule = _\n            New FileSystemAccessRule(account, rights, controlType)\n\n        fSecurity.AddAccessRule(accessRule)\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(fileName, fSecurity)\n\n    End Sub\n\n\n    &#39; Removes an ACL entry on the specified file for the specified account.\n    Sub RemoveFileSecurity(ByVal fileName As String, ByVal account As String, _\n        ByVal rights As FileSystemRights, ByVal controlType As AccessControlType)\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(fileName)\n\n        &#39; Remove the FileSystemAccessRule from the security settings. \n        fSecurity.RemoveAccessRule(New FileSystemAccessRule(account, _\n            rights, controlType))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(fileName, fSecurity)\n\n    End Sub\nEnd Module\n</code></pre><pre><code class=\"lang-cpp\" name=\"IO.File.GetAccessControl-SetAccessControl#1\">using namespace System;\nusing namespace System::IO;\nusing namespace System::Security::AccessControl;\n\n// Adds an ACL entry on the specified file for the specified account.\n\nvoid AddFileSecurity(String^ fileName, String^ account, \n                        FileSystemRights rights, AccessControlType controlType)\n{\n    // Get a FileSecurity object that represents the \n    // current security settings.\n    FileSecurity^ fSecurity = File::GetAccessControl(fileName);\n\n    // Add the FileSystemAccessRule to the security settings. \n    fSecurity-&gt;AddAccessRule(gcnew FileSystemAccessRule\n                                   (account,rights, controlType));\n\n    // Set the new access settings.\n    File::SetAccessControl(fileName, fSecurity);\n}\n\n// Removes an ACL entry on the specified file for the specified account.\n\nvoid RemoveFileSecurity(String^ fileName, String^ account, \n                        FileSystemRights rights, AccessControlType controlType)\n{\n\n    // Get a FileSecurity object that represents the \n    // current security settings.\n    FileSecurity^ fSecurity = File::GetAccessControl(fileName);\n\n    // Remove the FileSystemAccessRule from the security settings. \n    fSecurity-&gt;RemoveAccessRule(gcnew FileSystemAccessRule\n                                      (account,rights, controlType));\n\n    // Set the new access settings.\n    File::SetAccessControl(fileName, fSecurity);\n}\n\nint main()\n{\n    try\n    {\n        String^ fileName = &quot;test.xml&quot;;\n\n        Console::WriteLine(&quot;Adding access control entry for &quot; + fileName);\n\n        // Add the access control entry to the file.\n        AddFileSecurity(fileName, &quot;MYDOMAIN\\\\MyAccount&quot;, \n            FileSystemRights::ReadData, AccessControlType::Allow);\n\n        Console::WriteLine(&quot;Removing access control entry from &quot; + fileName);\n\n        // Remove the access control entry from the file.\n        RemoveFileSecurity(fileName, &quot;MYDOMAIN\\\\MyAccount&quot;, \n            FileSystemRights::ReadData, AccessControlType::Allow);\n\n        Console::WriteLine(&quot;Done.&quot;);\n    }\n    catch (Exception^ ex)\n    {\n        Console::WriteLine(ex-&gt;Message);\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleAll_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleAll_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAccessRuleAll(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes all access control list (ACL) permissions for the specified user from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void RemoveAccessRuleAll (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that specifies a user whose access control list (ACL) permissions should be removed from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAccessRuleAll method removes all access control list (ACL) permissions for the specified user.  The method ignores all values in the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object except the user account.  </p>\n<p> To persist new or changed ACL information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  </p>\n<p> When you add an access rule without setting the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag will be automatically added to your rule.  If you remove the rule later without specifying the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the flag will automatically be removed.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleSpecific_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAccessRuleSpecific_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAccessRuleSpecific(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes a single matching allow or deny access control list (ACL) permission from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void RemoveAccessRuleSpecific (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that specifies a user whose access control list (ACL) permissions should be removed from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAccessRuleSpecific method removes the specified <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rule or the specified matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rule from the current <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  For example, you can use this method to remove a specified <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> access rule for a user by passing a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> value, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, and a user account.  When you do this, the RemoveAccessRuleSpecific method removes only the deny rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value.  It does not remove any deny rules that specify the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value.  </p>\n<p> To persist new or changed access control list (ACL) information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  </p>\n<p> When you add an access rule without setting the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag will be automatically added to your rule.  If you remove the rule later without specifying the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> flag, the flag will automatically be removed.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRule_System_Security_AccessControl_FileSystemAuditRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAuditRule(FileSystemAuditRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes all matching allow or deny audit rules from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public bool RemoveAuditRule (System.Security.AccessControl.FileSystemAuditRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object that represents an audit rule to remove from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.boolean\" data-linktype=\"relative-path\">Boolean</a></div>\r\n                  </div>\r\n                  <p><code>true</code> if the audit rule was removed; otherwise, <code>false</code></p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAuditRule method removes either all matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rules or all matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rules from the current <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  For example, you can use this method to remove all <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rules for a user by passing a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> value, the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value, and a user account.  When you do this, the RemoveAuditRule method removes any deny rules that specify the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value or the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example uses the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity#System_Security_AccessControl_FileSystemSecurity_AddAuditRule_\" data-linktype=\"relative-path\">AddAuditRule</a> method to add an audit rule to a file and uses the RemoveAuditRule method to remove the audit rule from the file.  You must supply a valid user or group account to run this example.  </p>\n<pre><code class=\"lang-vb\" name=\"AccessControl.FileSystemAuditRule#1\">Imports System\nImports System.IO\nImports System.Security.AccessControl\n\n\n\nModule FileExample\n\n    Sub Main()\n        Try\n            Dim FileName As String = &quot;test.xml&quot;\n\n            Console.WriteLine(&quot;Adding access control entry for &quot; + FileName)\n\n            &#39; Add the access control entry to the file.\n            AddFileAuditRule(FileName, &quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure)\n\n            Console.WriteLine(&quot;Removing access control entry from &quot; + FileName)\n\n            &#39; Remove the access control entry from the file.\n            RemoveFileAuditRule(FileName, &quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure)\n\n            Console.WriteLine(&quot;Done.&quot;)\n        Catch e As Exception\n            Console.WriteLine(e)\n        End Try\n\n        Console.ReadLine()\n\n    End Sub\n\n\n    &#39; Adds an ACL entry on the specified file for the specified account.\n    Sub AddFileAuditRule(ByVal FileName As String, ByVal Account As String, ByVal Rights As FileSystemRights, ByVal AuditRule As AuditFlags)\n\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(FileName)\n\n        &#39; Add the FileSystemAuditRule to the security settings. \n        fSecurity.AddAuditRule(New FileSystemAuditRule(Account, Rights, AuditRule))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(FileName, fSecurity)\n\n    End Sub\n\n\n    &#39; Removes an ACL entry on the specified file for the specified account.\n    Sub RemoveFileAuditRule(ByVal FileName As String, ByVal Account As String, ByVal Rights As FileSystemRights, ByVal AuditRule As AuditFlags)\n\n        &#39; Get a FileSecurity object that represents the \n        &#39; current security settings.\n        Dim fSecurity As FileSecurity = File.GetAccessControl(FileName)\n\n        &#39; Add the FileSystemAuditRule to the security settings. \n        fSecurity.RemoveAuditRule(New FileSystemAuditRule(Account, Rights, AuditRule))\n\n        &#39; Set the new access settings.\n        File.SetAccessControl(FileName, fSecurity)\n\n    End Sub\nEnd Module\n</code></pre><pre><code class=\"lang-cs\" name=\"AccessControl.FileSystemAuditRule#1\">using System;\nusing System.IO;\nusing System.Security.AccessControl;\n\nnamespace FileSystemExample\n{\n    class FileExample\n    {\n        public static void Main()\n        {\n            try\n            {\n                string FileName = &quot;test.xml&quot;;\n\n                Console.WriteLine(&quot;Adding access control entry for &quot; + FileName);\n\n                // Add the access control entry to the file.\n                AddFileAuditRule(FileName, @&quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure);\n\n                Console.WriteLine(&quot;Removing access control entry from &quot; + FileName);\n\n                // Remove the access control entry from the file.\n                RemoveFileAuditRule(FileName, @&quot;MYDOMAIN\\MyAccount&quot;, FileSystemRights.ReadData, AuditFlags.Failure);\n\n                Console.WriteLine(&quot;Done.&quot;);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e);\n            }\n\n            Console.ReadLine();\n        }\n\n        // Adds an ACL entry on the specified file for the specified account.\n        public static void AddFileAuditRule(string FileName, string Account, FileSystemRights Rights, AuditFlags AuditRule)\n        {\n\n\n            // Get a FileSecurity object that represents the \n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(FileName);\n\n            // Add the FileSystemAuditRule to the security settings. \n            fSecurity.AddAuditRule(new FileSystemAuditRule(Account,\n                                                            Rights,\n                                                            AuditRule));\n\n            // Set the new access settings.\n            File.SetAccessControl(FileName, fSecurity);\n\n        }\n\n        // Removes an ACL entry on the specified file for the specified account.\n        public static void RemoveFileAuditRule(string FileName, string Account, FileSystemRights Rights, AuditFlags AuditRule)\n        {\n\n            // Get a FileSecurity object that represents the \n            // current security settings.\n            FileSecurity fSecurity = File.GetAccessControl(FileName);\n\n            // Add the FileSystemAuditRule to the security settings. \n            fSecurity.RemoveAuditRule(new FileSystemAuditRule(Account,\n                                                            Rights,\n                                                            AuditRule));\n\n            // Set the new access settings.\n            File.SetAccessControl(FileName, fSecurity);\n\n        }\n    }\n}\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleAll_System_Security_AccessControl_FileSystemAuditRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleAll_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAuditRuleAll(FileSystemAuditRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes all audit rules for the specified user from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void RemoveAuditRuleAll (System.Security.AccessControl.FileSystemAuditRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object that specifies a user whose audit rules should be removed from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAuditRuleAll method removes all audit rules for the specified user.  It ignores all values in the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object except the user account.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleSpecific_System_Security_AccessControl_FileSystemAuditRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_RemoveAuditRuleSpecific_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">RemoveAuditRuleSpecific(FileSystemAuditRule)</div>        \r\n          </div>\r\n    \r\n            <p>Removes a single matching allow or deny audit rule from the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void RemoveAuditRuleSpecific (System.Security.AccessControl.FileSystemAuditRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object that represents an audit rule to remove from a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The RemoveAuditRuleSpecific method removes the specified matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rule or the specified matching <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rule from the current <a class=\"xref\" href=\"system.security.accesscontrol.filesystemsecurity\" data-linktype=\"relative-path\">FileSystemSecurity</a> object.  For example, you can use this method to remove a specified <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> audit rule for a user by passing a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object created using the <a class=\"xref\" href=\"system.security.accesscontrol.accesscontroltype\" data-linktype=\"relative-path\">AccessControlType</a> value, the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value, and a user account.  When you do this, the RemoveAuditRuleSpecific method removes only a deny rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value.  It does not remove any deny rules that specify the <a class=\"xref\" href=\"system.security.accesscontrol.auditflags\" data-linktype=\"relative-path\">AuditFlags</a> value.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_ResetAccessRule_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_ResetAccessRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">ResetAccessRule(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Adds the specified access control list (ACL) permission to the current file or directory and removes all matching ACL permissions.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void ResetAccessRule (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that represents an access control list (ACL) permission to add to a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The ResetAccessRule method adds the specified access control list (ACL) rule or overwrites any identical ACL rules that match the <code>rule</code> parameter.  For example, if the <code>rule</code> parameter specifies a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value and the ResetAccessRule method finds an identical ACL rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will be overwritten.  If the ResetAccessRule method finds an identical ACL rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will also be overwritten.  </p>\n<p> To persist new or changed ACL information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_SetAccessRule_System_Security_AccessControl_FileSystemAccessRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_SetAccessRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SetAccessRule(FileSystemAccessRule)</div>        \r\n          </div>\r\n    \r\n            <p>Sets the specified access control list (ACL) permission for the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void SetAccessRule (System.Security.AccessControl.FileSystemAccessRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemaccessrule\" data-linktype=\"relative-path\">FileSystemAccessRule</a> object that represents an access control list (ACL) permission to set for a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The SetAccessRule method adds the specified access control list (ACL) rule or overwrites any identical ACL rules that match the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value of the <code>rule</code> parameter.  For example, if the <code>rule</code> parameter specifies a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value and the SetAccessRule method finds an identical ACL rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will be overwritten.  If the SetAccessRule method finds an identical ACL rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will not be overwritten.  </p>\n<p> To persist new or changed ACL information to a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  To persist new or changed ACL information to a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_SetAccessControl_\" data-linktype=\"relative-path\">SetAccessControl</a> method.  </p>\n<p> To retrieve ACL information from a file, use the <a class=\"xref\" href=\"system.io.file#System_IO_File_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.fileinfo#System_IO_FileInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.  To retrieve ACL information from a directory, use the <a class=\"xref\" href=\"system.io.directory#System_IO_Directory_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> or <a class=\"xref\" href=\"system.io.directoryinfo#System_IO_DirectoryInfo_GetAccessControl_\" data-linktype=\"relative-path\">GetAccessControl</a> method.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Security_AccessControl_FileSystemSecurity_SetAuditRule_System_Security_AccessControl_FileSystemAuditRule_\">\r\n    \r\n            <a id=\"System_Security_AccessControl_FileSystemSecurity_SetAuditRule_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SetAuditRule(FileSystemAuditRule)</div>        \r\n          </div>\r\n    \r\n            <p>Sets the specified audit rule for the current file or directory.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void SetAuditRule (System.Security.AccessControl.FileSystemAuditRule rule);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>rule</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.security.accesscontrol.filesystemauditrule\" data-linktype=\"relative-path\">FileSystemAuditRule</a> object that represents an audit rule to set for a file or directory.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>rule</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The SetAuditRule method adds the specified audit rule or overwrites any identical audit rules that match the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value of the <code>rule</code> parameter.  For example, if the <code>rule</code> parameter specifies a <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value and the SetAuditRule method finds an identical audit rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will be overwritten.  If the SetAuditRule method finds an identical audit rule that specifies the <a class=\"xref\" href=\"system.security.accesscontrol.filesystemrights\" data-linktype=\"relative-path\">FileSystemRights</a> value, the identical rule will not be overwritten.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"author\" content=\"dotnet-bot\">\r\n<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Security.AccessControl.FileSystemSecurity.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Security.AccessControl.FileSystemSecurity.yml\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AccessRightType\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AccessRuleFactory\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AccessRuleType\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AddAccessRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AddAuditRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AuditRuleFactory\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.AuditRuleType\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAccessRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleAll\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleSpecific\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAuditRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleAll\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleSpecific\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.ResetAccessRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.SetAccessRule\">\r\n<meta name=\"APIName\" content=\"System.Security.AccessControl.FileSystemSecurity.SetAuditRule\">\r\n<meta name=\"APILocation\" content=\"mscorlib.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"b7d14bcf-a07d-9ac9-7dc7-947117d79122\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Represents the access control and audit security for a file or directory.\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Security.AccessControl/toc.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Security.AccessControl.FileSystemSecurity\">\r\n","rawMetadata":{"author":"dotnet-bot","breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Security.AccessControl.FileSystemSecurity.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Security.AccessControl.FileSystemSecurity.yml","open_to_public_contributors":true,"api_name":["System.Security.AccessControl.FileSystemSecurity","System.Security.AccessControl.FileSystemSecurity.AccessRightType","System.Security.AccessControl.FileSystemSecurity.AccessRuleFactory","System.Security.AccessControl.FileSystemSecurity.AccessRuleType","System.Security.AccessControl.FileSystemSecurity.AddAccessRule","System.Security.AccessControl.FileSystemSecurity.AddAuditRule","System.Security.AccessControl.FileSystemSecurity.AuditRuleFactory","System.Security.AccessControl.FileSystemSecurity.AuditRuleType","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRule","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleAll","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleSpecific","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRule","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleAll","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleSpecific","System.Security.AccessControl.FileSystemSecurity.ResetAccessRule","System.Security.AccessControl.FileSystemSecurity.SetAccessRule","System.Security.AccessControl.FileSystemSecurity.SetAuditRule"],"api_location":["mscorlib.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Security.AccessControl.FileSystemSecurity","System::Security::AccessControl::FileSystemSecurity","System.Security.AccessControl.FileSystemSecurity.AccessRightType","System::Security::AccessControl::FileSystemSecurity::AccessRightType","System.Security.AccessControl.FileSystemSecurity.AccessRuleFactory","System::Security::AccessControl::FileSystemSecurity::AccessRuleFactory","System.Security.AccessControl.FileSystemSecurity.AccessRuleType","System::Security::AccessControl::FileSystemSecurity::AccessRuleType","System.Security.AccessControl.FileSystemSecurity.AddAccessRule","System::Security::AccessControl::FileSystemSecurity::AddAccessRule","System.Security.AccessControl.FileSystemSecurity.AddAuditRule","System::Security::AccessControl::FileSystemSecurity::AddAuditRule","System.Security.AccessControl.FileSystemSecurity.AuditRuleFactory","System::Security::AccessControl::FileSystemSecurity::AuditRuleFactory","System.Security.AccessControl.FileSystemSecurity.AuditRuleType","System::Security::AccessControl::FileSystemSecurity::AuditRuleType","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRule","System::Security::AccessControl::FileSystemSecurity::RemoveAccessRule","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleAll","System::Security::AccessControl::FileSystemSecurity::RemoveAccessRuleAll","System.Security.AccessControl.FileSystemSecurity.RemoveAccessRuleSpecific","System::Security::AccessControl::FileSystemSecurity::RemoveAccessRuleSpecific","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRule","System::Security::AccessControl::FileSystemSecurity::RemoveAuditRule","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleAll","System::Security::AccessControl::FileSystemSecurity::RemoveAuditRuleAll","System.Security.AccessControl.FileSystemSecurity.RemoveAuditRuleSpecific","System::Security::AccessControl::FileSystemSecurity::RemoveAuditRuleSpecific","System.Security.AccessControl.FileSystemSecurity.ResetAccessRule","System::Security::AccessControl::FileSystemSecurity::ResetAccessRule","System.Security.AccessControl.FileSystemSecurity.SetAccessRule","System::Security::AccessControl::FileSystemSecurity::SetAccessRule","System.Security.AccessControl.FileSystemSecurity.SetAuditRule","System::Security::AccessControl::FileSystemSecurity::SetAuditRule"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"b7d14bcf-a07d-9ac9-7dc7-947117d79122","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Security.AccessControl/FileSystemSecurity.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"FileSystemSecurity class | Microsoft Docs","_op_ogTitle":"FileSystemSecurity class","description":"Represents the access control and audit security for a file or directory.\n","toc_asset_id":"_splitted/System.Security.AccessControl/toc.json","toc_rel":"_splitted/System.Security.AccessControl/toc.json","source_url":"","ms.assetid":"System.Security.AccessControl.FileSystemSecurity","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.security.accesscontrol.filesystemsecurity","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.security.accesscontrol.filesystemsecurity","fileRelativePath":"System.Security.AccessControl.FileSystemSecurity.html"},"themesRelativePathToOutputRoot":"_themes/"}