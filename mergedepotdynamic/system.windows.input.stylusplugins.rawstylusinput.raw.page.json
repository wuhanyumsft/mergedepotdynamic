{"content":"    \r\n    <h1 id=\"System_Windows_Input_StylusPlugIns_RawStylusInput\">\r\n      <span class=\"lang-csharp\">RawStylusInput</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Provides information about input from a <a class=\"xref\" href=\"system.windows.input.stylusdevice\" data-linktype=\"relative-path\">StylusDevice</a> to a <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a>.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public class RawStylusInput</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l1\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">RawStylusInput</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>Use the RawStylusInput to get information about the input the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> receives when the user moves the stylus.</p>\n\r\n    \r\n    \r\n    <h2>Properties\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_StylusDeviceId\" data-linktype=\"self-bookmark\">StylusDeviceId</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the identifier of the current stylus device.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_TabletDeviceId\" data-linktype=\"self-bookmark\">TabletDeviceId</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the identifier of the current tablet device.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_Timestamp\" data-linktype=\"self-bookmark\">Timestamp</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the time at which the input occurred.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_GetStylusPoints\" data-linktype=\"self-bookmark\">GetStylusPoints()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Gets the stylus points that are collected from the stylus.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_NotifyWhenProcessed_System_Object_\" data-linktype=\"self-bookmark\">NotifyWhenProcessed(Object)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Subscribes to the application thread&#39;s corresponding stylus methods.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Windows_Input_StylusPlugIns_RawStylusInput_SetStylusPoints_System_Windows_Input_StylusPointCollection_\" data-linktype=\"self-bookmark\">SetStylusPoints(StylusPointCollection)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Sets the stylus points that are passed to the application thread.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"properties\">\r\n        <h2>Properties\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_StylusDeviceId\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_StylusDeviceId_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">StylusDeviceId</div>        \r\n          </div>\r\n    \r\n            <p>Gets the identifier of the current stylus device.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public int StylusDeviceId { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The identifier of the current <a class=\"xref\" href=\"system.windows.input.stylusdevice\" data-linktype=\"relative-path\">StylusDevice</a>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example ensures that the stylus points collected are from the same <a class=\"xref\" href=\"system.windows.input.stylusdevice\" data-linktype=\"relative-path\">StylusDevice</a>. This example is part of the bigger example in the <a class=\"xref\" href=\"system.windows.input.stylusplugins.rawstylusinput\" data-linktype=\"relative-path\">RawStylusInput</a> class overview.  </p>\n<pre><code class=\"lang-cs\" name=\"StylusPluginSamples#15\">// Collect the points as the user draws the stroke.\nprotected override void OnStylusDown(RawStylusInput rawStylusInput)\n{\n    // If points is not null, there is already a stroke taking place\n    // on the digitizer, so don&#39;t create a new StylusPointsCollection.\n    if (points == null)\n    {\n        points = new StylusPointCollection(rawStylusInput.GetStylusPoints().Description);\n        points.Add(rawStylusInput.GetStylusPoints());\n        currentStylus = rawStylusInput.StylusDeviceId;\n    }\n}\n\n// Collect the points as the user draws the stroke.\nprotected override void OnStylusMove(RawStylusInput rawStylusInput)\n{\n    // Check whether the stylus that started the stroke is the same, and\n    // that the element hasn&#39;t lost focus since the stroke began.\n        if (points != null &amp;&amp; currentStylus == rawStylusInput.StylusDeviceId)\n    {\n        points.Add(rawStylusInput.GetStylusPoints());\n    }\n}\n\n// Collect the points as the user draws the stroke.\nprotected override void OnStylusUp(RawStylusInput rawStylusInput)\n{\n    // Check whether the stylus that started the stroke is the same, and\n    // that the element hasn&#39;t lost focus since the stroke began.\n    if (points != null &amp;&amp; currentStylus == rawStylusInput.StylusDeviceId)\n    {\n        points.Add(rawStylusInput.GetStylusPoints());\n\n        // Subscribe to the OnStylusUpProcessed method.\n        rawStylusInput.NotifyWhenProcessed(points);\n    }\n\n    points = null;\n    currentStylus = 0;\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"StylusPluginSamples#15\">&#39; Collect the points as the user draws the stroke.\nProtected Overrides Sub OnStylusDown(ByVal rawStylusInput As RawStylusInput)\n\n    &#39; If points is not null, there is already a stroke taking place\n    &#39; on the digitizer, so don&#39;t create a new StylusPointsCollection.\n    If points Is Nothing Then\n        points = New StylusPointCollection(rawStylusInput.GetStylusPoints().Description)\n        points.Add(rawStylusInput.GetStylusPoints())\n        currentStylus = rawStylusInput.StylusDeviceId\n    End If\n\nEnd Sub &#39;OnStylusDown\n\n&#39; Collect the points as the user draws the stroke.\nProtected Overrides Sub OnStylusMove(ByVal rawStylusInput As RawStylusInput)\n\n    &#39; Check whether the stylus that started the stroke is the same, and\n    &#39; that the element hasn&#39;t lost focus since the stroke began.\n    If Not (points Is Nothing) AndAlso currentStylus = rawStylusInput.StylusDeviceId Then\n        points.Add(rawStylusInput.GetStylusPoints())\n    End If\n\nEnd Sub &#39;OnStylusMove\n\n&#39; Collect the points as the user draws the stroke.\nProtected Overrides Sub OnStylusUp(ByVal rawStylusInput As RawStylusInput)\n\n    &#39; Check whether the stylus that started the stroke is the same, and\n    &#39; that the element hasn&#39;t lost focus since the stroke began.\n    If Not (points Is Nothing) AndAlso currentStylus = rawStylusInput.StylusDeviceId Then\n        points.Add(rawStylusInput.GetStylusPoints())\n\n        &#39; Subscribe to the OnStylusUpProcessed method.\n        rawStylusInput.NotifyWhenProcessed(points)\n    End If\n\n    points = Nothing\n    currentStylus = 0\n\nEnd Sub &#39;OnStylusUp\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_TabletDeviceId\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_TabletDeviceId_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">TabletDeviceId</div>        \r\n          </div>\r\n    \r\n            <p>Gets the identifier of the current tablet device.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public int TabletDeviceId { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The identifier of the current <a class=\"xref\" href=\"system.windows.input.tabletdevice\" data-linktype=\"relative-path\">TabletDevice</a>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_Timestamp\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_Timestamp_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">Timestamp</div>        \r\n          </div>\r\n    \r\n            <p>Gets the time at which the input occurred.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public int Timestamp { get; }</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n              <h4>Property Value</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.int32\" data-linktype=\"relative-path\">Int32</a></div>\r\n                  </div>\r\n                  <p>The time at which the input occurred.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The value of the Timestamp property is the value of the <a class=\"xref\" href=\"system.environment#System_Environment_TickCount_\" data-linktype=\"relative-path\">TickCount</a> property at which the stylus event occurred.</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_GetStylusPoints\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_GetStylusPoints_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">GetStylusPoints()</div>        \r\n          </div>\r\n    \r\n            <p>Gets the stylus points that are collected from the stylus.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public System.Windows.Input.StylusPointCollection GetStylusPoints ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.windows.input.styluspointcollection\" data-linktype=\"relative-path\">StylusPointCollection</a></div>\r\n                  </div>\r\n                  <p>The stylus points that are collected from the stylus.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example demonstrates how to change the stylus points in the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusDown_\" data-linktype=\"relative-path\">OnStylusDown</a> method. To create a <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> that restricts ink to a certain area, see the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> overview.  </p>\n<pre><code class=\"lang-cs\" name=\"StylusPluginSamples#8\">protected override void OnStylusDown(RawStylusInput rawStylusInput)\n{\n    // Run the base class before modifying the data\n    base.OnStylusDown(rawStylusInput);\n\n    // Get the StylusPoints that have come in\n    StylusPointCollection stylusPoints = rawStylusInput.GetStylusPoints();\n\n    // Modify the (X,Y) data to move the points \n    // inside the acceptable input area, if necessary\n    for (int i = 0; i &lt; stylusPoints.Count; i++)\n    {\n        StylusPoint sp = stylusPoints[i];\n        if (sp.X &lt; 50) sp.X = 50;\n        if (sp.X &gt; 250) sp.X = 250;\n        if (sp.Y &lt; 50) sp.Y = 50;\n        if (sp.Y &gt; 250) sp.Y = 250;\n        stylusPoints[i] = sp;\n    }\n\n    // Copy the modified StylusPoints back to the RawStylusInput\n    rawStylusInput.SetStylusPoints(stylusPoints);\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"StylusPluginSamples#8\">Protected Overrides Sub OnStylusDown(ByVal rawStylusInput As RawStylusInput) \n    &#39; Run the base class before we modify the data\n    MyBase.OnStylusDown(rawStylusInput)\n    \n    &#39; Get the StylusPoints that have come in\n    Dim stylusPoints As StylusPointCollection = rawStylusInput.GetStylusPoints()\n    \n    &#39; Modify the (X,Y) data to move the points \n    &#39; inside the acceptable input area, if necessary.\n    Dim i As Integer\n\n    For i = 0 To stylusPoints.Count - 1\n\n        Dim sp As StylusPoint = stylusPoints(i)\n\n        If sp.X &lt; 50 Then\n            sp.X = 50\n        End If\n\n        If sp.X &gt; 250 Then\n            sp.X = 250\n        End If\n\n        If sp.Y &lt; 50 Then\n            sp.Y = 50\n        End If\n\n        If sp.Y &gt; 250 Then\n            sp.Y = 250\n        End If\n\n        stylusPoints(i) = sp\n    Next i\n    \n    &#39; Copy the modified StylusPoints back to the RawStylusInput\n    rawStylusInput.SetStylusPoints(stylusPoints)\n\nEnd Sub &#39;OnStylusDown\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_NotifyWhenProcessed_System_Object_\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_NotifyWhenProcessed_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">NotifyWhenProcessed(Object)</div>        \r\n          </div>\r\n    \r\n            <p>Subscribes to the application thread&#39;s corresponding stylus methods.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void NotifyWhenProcessed (object callbackData);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>callbackData</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">System.Object</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The data to pass to the application thread.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The pen&#39;s input is routed to an element&#39;s <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> on the pen thread. Because accurate hit-testing cannot be performed on the pen thread, some elements might occasionally receive stylus input intended for other elements. If you need to be sure the input was routed correctly before performing an operation, call the NotifyWhenProcessed method in the method that occurs on the pen thread. The following table lists where to call NotifyWhenProcessed to subscribe to the application thread&#39;s method.  </p>\n<table>\n<thead>\n<tr>\n<th>Call NotifyWhenProcessed in this method</th>\n<th>To subscribe to this method</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusDown_\" data-linktype=\"relative-path\">OnStylusDown</a></td>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusDownProcessed_\" data-linktype=\"relative-path\">OnStylusDownProcessed</a></td>\n</tr>\n<tr>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusMove_\" data-linktype=\"relative-path\">OnStylusMove</a></td>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusMoveProcessed_\" data-linktype=\"relative-path\">OnStylusMoveProcessed</a></td>\n</tr>\n<tr>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusUp_\" data-linktype=\"relative-path\">OnStylusUp</a></td>\n<td><a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusUpProcessed_\" data-linktype=\"relative-path\">OnStylusUpProcessed</a></td>\n</tr>\n</tbody>\n</table>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example creates a <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> that checks for the <a class=\"xref\" href=\"system.windows.ink.applicationgesture\" data-linktype=\"relative-path\">ApplicationGesture</a> gesture. The <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> calls NotifyWhenProcessed in <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusUp_\" data-linktype=\"relative-path\">OnStylusUp</a> to subscribe to the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusUpProcessed_\" data-linktype=\"relative-path\">OnStylusUpProcessed</a> method, which is called from the application thread.  </p>\n<pre><code class=\"lang-cs\" name=\"StylusPluginSamples#12\">class RecognizerPlugin : StylusPlugIn\n{\n    GestureRecognizer recognizer;\n    \n    // StylusPointCollection that contains the stylus points of the current\n    // stroke.\n    StylusPointCollection points;\n\n    // Keeps track of the stylus to check whether two styluses are used on the\n    // digitizer.\n    int currentStylus;\n\n    public RecognizerPlugin()\n        : base()\n    {\n        recognizer = new GestureRecognizer();\n    }\n\n    // Collect the points as the user draws the stroke.\n    protected override void OnStylusDown(RawStylusInput rawStylusInput)\n    {\n        // If points is not null, there is already a stroke taking place\n        // on the digitizer, so don&#39;t create a new StylusPointsCollection.\n        if (points == null)\n        {\n            points = new StylusPointCollection(rawStylusInput.GetStylusPoints().Description);\n            points.Add(rawStylusInput.GetStylusPoints());\n            currentStylus = rawStylusInput.StylusDeviceId;\n        }\n    }\n\n    // Collect the points as the user draws the stroke.\n    protected override void OnStylusMove(RawStylusInput rawStylusInput)\n    {\n        // Check whether the stylus that started the stroke is the same, and\n        // that the element hasn&#39;t lost focus since the stroke began.\n            if (points != null &amp;&amp; currentStylus == rawStylusInput.StylusDeviceId)\n        {\n            points.Add(rawStylusInput.GetStylusPoints());\n        }\n    }\n\n    // Collect the points as the user draws the stroke.\n    protected override void OnStylusUp(RawStylusInput rawStylusInput)\n    {\n        // Check whether the stylus that started the stroke is the same, and\n        // that the element hasn&#39;t lost focus since the stroke began.\n        if (points != null &amp;&amp; currentStylus == rawStylusInput.StylusDeviceId)\n        {\n            points.Add(rawStylusInput.GetStylusPoints());\n\n            // Subscribe to the OnStylusUpProcessed method.\n            rawStylusInput.NotifyWhenProcessed(points);\n        }\n\n        points = null;\n        currentStylus = 0;\n    }\n        \n    // If the element loses focus, stop collecting the points and don&#39;t\n    // perform gesture recognition.\n    protected override void OnStylusLeave(RawStylusInput rawStylusInput, bool confirmed)\n    {\n        if (confirmed)\n        {\n            // Clear the StylusPointCollection\n            points = null;\n            currentStylus = 0;\n        }\n    }\n\n    // This method is called on the application thread.\n    protected override void OnStylusUpProcessed(object callbackData, bool targetVerified)\n    {\n        // Check that the element actually receive the OnStylusUp input.\n        if (targetVerified &amp;&amp; recognizer.IsRecognizerAvailable)\n        {\n            StylusPointCollection strokePoints = callbackData as StylusPointCollection;\n\n            if (strokePoints == null)\n            {\n                return;\n            }\n\n            // Create a StrokeCollection to pass to the GestureRecognizer.\n            Stroke newStroke = new Stroke(strokePoints);\n            StrokeCollection strokes = new StrokeCollection();\n            strokes.Add(newStroke);\n\n            ReadOnlyCollection&lt;GestureRecognitionResult&gt; results = recognizer.Recognize(strokes);\n\n            // If the GestureRecognizer recognizes the stroke as a Down\n            // gesture with strong confidence, raise an event.\n            if (results[0].ApplicationGesture == ApplicationGesture.Down &amp;&amp;\n                results[0].RecognitionConfidence == RecognitionConfidence.Strong)\n            {\n                //raise event\n            }\n        }\n    }\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"StylusPluginSamples#12\">Class RecognizerPlugin\n    Inherits StylusPlugIn\n    Private recognizer As GestureRecognizer\n\n    &#39; StylusPointCollection that contains the stylus points of the current\n    &#39; stroke.\n    Private points As StylusPointCollection\n\n    &#39; Keeps track of the stylus to check whether two styluses are used on the\n    &#39; digitizer.\n    Private currentStylus As Integer\n\n    Public Sub New()\n        recognizer = New GestureRecognizer()\n\n    End Sub &#39;New\n\n\n    &#39; Collect the points as the user draws the stroke.\n    Protected Overrides Sub OnStylusDown(ByVal rawStylusInput As RawStylusInput)\n\n        &#39; If points is not null, there is already a stroke taking place\n        &#39; on the digitizer, so don&#39;t create a new StylusPointsCollection.\n        If points Is Nothing Then\n            points = New StylusPointCollection(rawStylusInput.GetStylusPoints().Description)\n            points.Add(rawStylusInput.GetStylusPoints())\n            currentStylus = rawStylusInput.StylusDeviceId\n        End If\n\n    End Sub &#39;OnStylusDown\n\n    &#39; Collect the points as the user draws the stroke.\n    Protected Overrides Sub OnStylusMove(ByVal rawStylusInput As RawStylusInput)\n\n        &#39; Check whether the stylus that started the stroke is the same, and\n        &#39; that the element hasn&#39;t lost focus since the stroke began.\n        If Not (points Is Nothing) AndAlso currentStylus = rawStylusInput.StylusDeviceId Then\n            points.Add(rawStylusInput.GetStylusPoints())\n        End If\n\n    End Sub &#39;OnStylusMove\n\n    &#39; Collect the points as the user draws the stroke.\n    Protected Overrides Sub OnStylusUp(ByVal rawStylusInput As RawStylusInput)\n\n        &#39; Check whether the stylus that started the stroke is the same, and\n        &#39; that the element hasn&#39;t lost focus since the stroke began.\n        If Not (points Is Nothing) AndAlso currentStylus = rawStylusInput.StylusDeviceId Then\n            points.Add(rawStylusInput.GetStylusPoints())\n\n            &#39; Subscribe to the OnStylusUpProcessed method.\n            rawStylusInput.NotifyWhenProcessed(points)\n        End If\n\n        points = Nothing\n        currentStylus = 0\n\n    End Sub &#39;OnStylusUp\n\n    &#39; If the element loses focus, stop collecting the points and don&#39;t\n    &#39; perform gesture recognition.\n    Protected Overrides Sub OnStylusLeave(ByVal rawStylusInput As RawStylusInput, ByVal confirmed As Boolean)\n\n        If confirmed Then\n            &#39; Clear the StylusPointCollection\n            points = Nothing\n            currentStylus = 0\n        End If\n\n    End Sub &#39;OnStylusLeave\n\n    &#39; This method is called on the application thread.\n    Protected Overrides Sub OnStylusUpProcessed(ByVal callbackData As Object, ByVal targetVerified As Boolean)\n\n        &#39; Check that the element actually receive the OnStylusUp input.\n        If targetVerified AndAlso recognizer.IsRecognizerAvailable Then\n\n            Dim strokePoints As StylusPointCollection = callbackData\n\n            If strokePoints Is Nothing Then\n                Return\n            End If\n\n            &#39; Create a StrokeCollection to pass to the GestureRecognizer.\n            Dim newStroke As New Stroke(strokePoints)\n            Dim strokes As New StrokeCollection()\n            strokes.Add(newStroke)\n\n            Dim results As ReadOnlyCollection(Of GestureRecognitionResult) = recognizer.Recognize(strokes)\n\n            &#39; If the GestureRecognizer recognizes the stroke as a Down\n            &#39; gesture with strong confidence, raise an event.\n            If results(0).ApplicationGesture = ApplicationGesture.Down AndAlso _\n               results(0).RecognitionConfidence = RecognitionConfidence.Strong Then\n                &#39;raise event\n            End If\n        End If\n\n    End Sub &#39;OnStylusUpProcessed \nEnd Class &#39;RecognizerPlugin\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_SetStylusPoints_System_Windows_Input_StylusPointCollection_\">\r\n    \r\n            <a id=\"System_Windows_Input_StylusPlugIns_RawStylusInput_SetStylusPoints_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SetStylusPoints(StylusPointCollection)</div>        \r\n          </div>\r\n    \r\n            <p>Sets the stylus points that are passed to the application thread.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public void SetStylusPoints (System.Windows.Input.StylusPointCollection stylusPoints);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>stylusPoints</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.windows.input.styluspointcollection\" data-linktype=\"relative-path\">StylusPointCollection</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The stylus points to pass to the application thread.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>Events such as <a class=\"xref\" href=\"system.windows.uielement#System_Windows_UIElement_StylusDown\" data-linktype=\"relative-path\">StylusDown</a> and <a class=\"xref\" href=\"system.windows.uielement#System_Windows_UIElement_StylusMove\" data-linktype=\"relative-path\">StylusMove</a>, can get the <a class=\"xref\" href=\"system.windows.input.styluspointcollection\" data-linktype=\"relative-path\">StylusPointCollection</a> set by SetStylusPoints by calling the <a class=\"xref\" href=\"system.windows.input.styluseventargs#System_Windows_Input_StylusEventArgs_GetStylusPoints_\" data-linktype=\"relative-path\">GetStylusPoints</a> method.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following example demonstrates how to change the stylus points in the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin#System_Windows_Input_StylusPlugIns_StylusPlugIn_OnStylusDown_\" data-linktype=\"relative-path\">OnStylusDown</a> method. To create a <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> that restricts ink to a certain area, see the <a class=\"xref\" href=\"system.windows.input.stylusplugins.stylusplugin\" data-linktype=\"relative-path\">StylusPlugIn</a> overview.  </p>\n<pre><code class=\"lang-cs\" name=\"StylusPluginSamples#8\">protected override void OnStylusDown(RawStylusInput rawStylusInput)\n{\n    // Run the base class before modifying the data\n    base.OnStylusDown(rawStylusInput);\n\n    // Get the StylusPoints that have come in\n    StylusPointCollection stylusPoints = rawStylusInput.GetStylusPoints();\n\n    // Modify the (X,Y) data to move the points \n    // inside the acceptable input area, if necessary\n    for (int i = 0; i &lt; stylusPoints.Count; i++)\n    {\n        StylusPoint sp = stylusPoints[i];\n        if (sp.X &lt; 50) sp.X = 50;\n        if (sp.X &gt; 250) sp.X = 250;\n        if (sp.Y &lt; 50) sp.Y = 50;\n        if (sp.Y &gt; 250) sp.Y = 250;\n        stylusPoints[i] = sp;\n    }\n\n    // Copy the modified StylusPoints back to the RawStylusInput\n    rawStylusInput.SetStylusPoints(stylusPoints);\n}\n</code></pre><pre><code class=\"lang-vb\" name=\"StylusPluginSamples#8\">Protected Overrides Sub OnStylusDown(ByVal rawStylusInput As RawStylusInput) \n    &#39; Run the base class before we modify the data\n    MyBase.OnStylusDown(rawStylusInput)\n    \n    &#39; Get the StylusPoints that have come in\n    Dim stylusPoints As StylusPointCollection = rawStylusInput.GetStylusPoints()\n    \n    &#39; Modify the (X,Y) data to move the points \n    &#39; inside the acceptable input area, if necessary.\n    Dim i As Integer\n\n    For i = 0 To stylusPoints.Count - 1\n\n        Dim sp As StylusPoint = stylusPoints(i)\n\n        If sp.X &lt; 50 Then\n            sp.X = 50\n        End If\n\n        If sp.X &gt; 250 Then\n            sp.X = 250\n        End If\n\n        If sp.Y &lt; 50 Then\n            sp.Y = 50\n        End If\n\n        If sp.Y &gt; 250 Then\n            sp.Y = 250\n        End If\n\n        stylusPoints(i) = sp\n    Next i\n    \n    &#39; Copy the modified StylusPoints back to the RawStylusInput\n    rawStylusInput.SetStylusPoints(stylusPoints)\n\nEnd Sub &#39;OnStylusDown\n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc1.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Windows.Input.StylusPlugIns.RawStylusInput.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Windows.Input.StylusPlugIns.RawStylusInput.yml\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.GetStylusPoints\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.NotifyWhenProcessed\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.SetStylusPoints\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.StylusDeviceId\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.TabletDeviceId\">\r\n<meta name=\"APIName\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput.Timestamp\">\r\n<meta name=\"APILocation\" content=\"PresentationCore.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"b2fb0ca7-5ac4-ff30-ec57-b61215c42e22\">\r\n<meta name=\"original_ecmaxml_local_path\" content=\"W:\\vejk\\s\\fulldocset\\xml\\System.Windows.Input.StylusPlugIns\\RawStylusInput.xml\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Provides information about input from a  to a .\n\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Windows.Input.StylusPlugIns/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Windows.Input.StylusPlugIns.RawStylusInput\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Windows.Input.StylusPlugIns.RawStylusInput.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Windows.Input.StylusPlugIns.RawStylusInput.yml","open_to_public_contributors":true,"api_name":["System.Windows.Input.StylusPlugIns.RawStylusInput","System.Windows.Input.StylusPlugIns.RawStylusInput.GetStylusPoints","System.Windows.Input.StylusPlugIns.RawStylusInput.NotifyWhenProcessed","System.Windows.Input.StylusPlugIns.RawStylusInput.SetStylusPoints","System.Windows.Input.StylusPlugIns.RawStylusInput.StylusDeviceId","System.Windows.Input.StylusPlugIns.RawStylusInput.TabletDeviceId","System.Windows.Input.StylusPlugIns.RawStylusInput.Timestamp"],"api_location":["PresentationCore.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Windows.Input.StylusPlugIns.RawStylusInput","System::Windows::Input::StylusPlugIns::RawStylusInput","System.Windows.Input.StylusPlugIns.RawStylusInput.GetStylusPoints","System::Windows::Input::StylusPlugIns::RawStylusInput::GetStylusPoints","System.Windows.Input.StylusPlugIns.RawStylusInput.NotifyWhenProcessed","System::Windows::Input::StylusPlugIns::RawStylusInput::NotifyWhenProcessed","System.Windows.Input.StylusPlugIns.RawStylusInput.SetStylusPoints","System::Windows::Input::StylusPlugIns::RawStylusInput::SetStylusPoints","System.Windows.Input.StylusPlugIns.RawStylusInput.StylusDeviceId","System::Windows::Input::StylusPlugIns::RawStylusInput::StylusDeviceId","System.Windows.Input.StylusPlugIns.RawStylusInput.TabletDeviceId","System::Windows::Input::StylusPlugIns::RawStylusInput::TabletDeviceId","System.Windows.Input.StylusPlugIns.RawStylusInput.Timestamp","System::Windows::Input::StylusPlugIns::RawStylusInput::Timestamp"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"b2fb0ca7-5ac4-ff30-ec57-b61215c42e22","original_ecmaxml_local_path":"W:\\vejk\\s\\fulldocset\\xml\\System.Windows.Input.StylusPlugIns\\RawStylusInput.xml","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Windows.Input.StylusPlugIns/RawStylusInput.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"RawStylusInput class | Microsoft Docs","_op_ogTitle":"RawStylusInput class","description":"Provides information about input from a  to a .\n","toc_asset_id":"_splitted/System.Windows.Input.StylusPlugIns/toc.json","toc_rel":"_splitted/System.Windows.Input.StylusPlugIns/toc.json","source_url":"","ms.assetid":"System.Windows.Input.StylusPlugIns.RawStylusInput","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.windows.input.stylusplugins.rawstylusinput","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.windows.input.stylusplugins.rawstylusinput","fileRelativePath":"System.Windows.Input.StylusPlugIns.RawStylusInput.html"},"themesRelativePathToOutputRoot":"_themes/"}