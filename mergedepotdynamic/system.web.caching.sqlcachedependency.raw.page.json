{"content":"    \r\n    <h1 id=\"System_Web_Caching_SqlCacheDependency\">\r\n      <span class=\"lang-csharp\">SqlCacheDependency</span>\r\n        Class\r\n    </h1>\r\n    \r\n    \r\n    <nav id=\"center-doc-outline\" class=\"doc-outline\" ms.cmpgrp=\"intopic toc\" role=\"navigation\" aria-label=\"On page navigation\">\r\n      <h3>In this Article</h3>\r\n    </nav><div class=\"summary\">\r\n    \t<p>Establishes a relationship between an item stored in an ASP.NET application&#39;s <a class=\"xref\" href=\"system.web.caching.cache\" data-linktype=\"relative-path\">Cache</a> object and either a specific SQL Server database table or the results of a <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> query. This class cannot be inherited.</p>\n\r\n    </div><h2>Syntax</h2>\r\n    \r\n    \t<h3>Declaration</h3>\r\n    \t<pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public sealed class SqlCacheDependency : System.Web.Caching.CacheDependency</code></pre>\r\n    \r\n    \r\n    \r\n    <h3>Inheritance Hierarchy</h3>\r\n    <ul class=\"inheritance\">\r\n        <li class=\"l0\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object\" data-linktype=\"relative-path\">Object</a>\r\n          </div>\r\n        </li>\r\n        <li class=\"l1\">\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency\" data-linktype=\"relative-path\">System.Web.Caching.CacheDependency</a>\r\n          </div>\r\n        </li>\r\n      <li class=\"l2\">\r\n        <div class=\"xref\">\r\n          <div class=\"lang-csharp\">SqlCacheDependency</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    \r\n      <div class=\"referencebox inheritedMembers\">\r\n        <h3>Inherited Members</h3>\r\n        <h4></h4>\r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_\" data-linktype=\"relative-path\">Equals(Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_Equals_System_Object_System_Object_\" data-linktype=\"relative-path\">Equals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetHashCode\" data-linktype=\"relative-path\">GetHashCode()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_GetType\" data-linktype=\"relative-path\">GetType()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_MemberwiseClone\" data-linktype=\"relative-path\">MemberwiseClone()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ReferenceEquals_System_Object_System_Object_\" data-linktype=\"relative-path\">ReferenceEquals(Object,Object)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.object#System_Object_ToString\" data-linktype=\"relative-path\">ToString()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_Dispose\" data-linktype=\"relative-path\">Dispose()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_FinishInit\" data-linktype=\"relative-path\">FinishInit()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_GetFileDependencies\" data-linktype=\"relative-path\">GetFileDependencies()</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_HasChanged\" data-linktype=\"relative-path\">HasChanged</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_NotifyDependencyChanged_System_Object_System_EventArgs_\" data-linktype=\"relative-path\">NotifyDependencyChanged(Object,EventArgs)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_SetUtcLastModified_System_DateTime_\" data-linktype=\"relative-path\">SetUtcLastModified(DateTime)</a>\r\n          </div>\r\n          , \r\n          <div class=\"lang-csharp\">\r\n            <a class=\"xref\" href=\"system.web.caching.cachedependency#System_Web_Caching_CacheDependency_UtcLastModified\" data-linktype=\"relative-path\">UtcLastModified</a>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <h2>Remarks</h2>\r\n      <p>On all supported versions of SQL Server (Microsoft SQL Server 7.0, Microsoft SQL Server 2000, and SQL Server 2005) the SqlCacheDependency class monitors a specific SQL Server database table. When the table changes, items associated with the table are removed from the <a class=\"xref\" href=\"system.web.caching.cache\" data-linktype=\"relative-path\">Cache</a>, and a new version of the item is added to the <a class=\"xref\" href=\"system.web.caching.cache\" data-linktype=\"relative-path\">Cache</a>.  </p>\n<p> The SqlCacheDependency class also supports integration with the <a class=\"xref\" href=\"system.data.sqlclient.sqldependency\" data-linktype=\"relative-path\">System.Data.SqlClient.SqlDependency</a> class when using a <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> database. The query notification mechanism of <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> detects changes to data that invalidate the results of an SQL query and removes any cached items associated with the SQL query from the <a class=\"xref\" href=\"system.web.caching.cache\" data-linktype=\"relative-path\">System.Web.Caching.Cache</a>.  </p>\n<p> You can use the SqlCacheDependency class to add items to your application&#39;s <a class=\"xref\" href=\"system.web.caching.cache\" data-linktype=\"relative-path\">Cache</a> that are dependent on either a SQL Server database table or on an SQL query when using <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE -->. You can also use this class with the  directive to make an output-cached page or a user control dependent on a SQL Server database table. Finally, you can use the SqlCacheDependency class with the  page directive to make an output-cached page dependent on the results of an SQL query when using <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE -->. Query notification using <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> is not supported on the  directive for user controls.  </p>\n<div class=\"NOTE\"><h5>Note</h5><p> For this class to work correctly when using table-based notifications, the database and any tables that you want to make dependencies on must have notifications enabled. You can enable notifications by calling methods of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependencyadmin\" data-linktype=\"relative-path\">SqlCacheDependencyAdmin</a> class or by using the  command-line tool. In addition, the proper configuration settings must be included in the application&#39;s Web.config file.  </p>\n<p> Using a SqlCacheDependency object with <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> query notification does not require any explicit configuration. Consult the <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> Books Online for information about restrictions on the types of Transact-SQL queries that are allowed when using query notification.  </p>\n</div>\n<p> The following example shows an ASP.NET Web.config file that enables table-based dependencies on a SQL Server database table.  </p>\n<pre><code>&lt;configuration&gt;  \n  &lt;connectionStrings&gt;  \n    &lt;add name=&quot;Northwind&quot; connectionString=&quot;Data Source=(local); Initial Catalog=northwind; Integrated Security=true&quot;; providerName=&quot;System.Data.SqlClient&quot; /&gt;  \n  &lt;/connectionStrings&gt;  \n  &lt;system.web&gt;  \n    &lt;caching&gt;  \n      &lt;sqlCacheDependency enabled = &quot;true&quot; pollTime = &quot;60000&quot; &gt;  \n        &lt;databases&gt;  \n          &lt;add name=&quot;northwind&quot;   \n            connectionStringName=&quot;Northwind&quot;  \n            pollTime=&quot;9000000&quot;  \n            /&gt;  \n        &lt;/databases&gt;  \n      &lt;/sqlCacheDependency&gt;  \n    &lt;/caching&gt;  \n  &lt;/system.web&gt;  \n&lt;/configuration&gt;\n</code></pre>\r\n    \r\n    \r\n    <h2>Constructors\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Web_Caching_SqlCacheDependency__ctor_System_Data_SqlClient_SqlCommand_\" data-linktype=\"self-bookmark\">SqlCacheDependency(SqlCommand)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> class, using the supplied <a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a> to create a cache-key dependency.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Web_Caching_SqlCacheDependency__ctor_System_String_System_String_\" data-linktype=\"self-bookmark\">SqlCacheDependency(String,String)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> class, using the supplied parameters to create a cache-key dependency.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <h2>Methods\r\n     summary</h2>\r\n    \r\n    <table class=\"nameValue\">\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Web_Caching_SqlCacheDependency_CreateOutputCacheDependency_System_String_\" data-linktype=\"self-bookmark\">CreateOutputCacheDependency(String)</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Creates a dependency relationship between an item that is stored in an ASP.NET application&#39;s <a class=\"xref\" href=\"system.web.caching.outputcache\" data-linktype=\"relative-path\">OutputCache</a> object and a SQL Server database table.</p>\n\r\n            </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td colspan=\"2\">\r\n            <div class=\"lang-csharp\"><a href=\"#System_Web_Caching_SqlCacheDependency_DependencyDispose\" data-linktype=\"self-bookmark\">DependencyDispose()</a></div>\r\n          </td>\r\n        </tr>\r\n        <tr class=\" enable-platform-filter\">\r\n          <td>\r\n            <div class=\"lang-csharp\"><a href=\"#System_Web_Caching_SqlCacheDependency_GetUniqueID\" data-linktype=\"self-bookmark\">GetUniqueID()</a></div>\r\n          </td>\r\n            <td>\r\n            <p>Retrieves a unique identifier for a <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object.</p>\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"constructors\">\r\n        <h2>Constructors\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Web_Caching_SqlCacheDependency__ctor_System_Data_SqlClient_SqlCommand_\">\r\n    \r\n            <a id=\"System_Web_Caching_SqlCacheDependency__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SqlCacheDependency(SqlCommand)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> class, using the supplied <a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a> to create a cache-key dependency.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public SqlCacheDependency (System.Data.SqlClient.SqlCommand sqlCmd);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>sqlCmd</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>A <a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a> that is used to create a <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p>The <code>sqlCmd</code> parameter is <code>null</code>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.httpexception\" data-linktype=\"relative-path\">HttpException</a></div>\r\n                  </div>\r\n                  <p>The <a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a> instance has its <span class=\"xref\">stem.Data.SqlClient.SqlCommand.NotificationAutoEnlist*</span> property set to <code>true</code> and there is an  directive on the page with the <code>SqlDependency</code> attribute set to <code>CommandNotification</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This constructor is used to create <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> objects that use the query-notification feature of <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> products.  </p>\n<p> SQL statements that are associated with the <code>sqlCmd</code> parameter must include the following:  </p>\n<ul>\n<li><p>Fully qualified table names, including the name of the table owner. For example, to refer to a table named Customersthat is owned by the database owner, the SQL statement must refer to <code>dbo.customers</code>.  </p>\n</li>\n<li><p>Explicit column names in the Select statement. You cannot use the asterisk (*) wildcard character to select all columns from a table. For example, instead of <code>select * from dbo.customers</code>, you must use <code>select name, address, city, state from dbo.customers</code>.  </p>\n<p>This constructor cannot be used to associate a <a class=\"xref\" href=\"system.data.sqlclient.sqlcommand\" data-linktype=\"relative-path\">SqlCommand</a> instance with a <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> instance on a page using <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> query notifications with page-level output caching.</p>\n</li>\n</ul>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Web_Caching_SqlCacheDependency__ctor_System_String_System_String_\">\r\n    \r\n            <a id=\"System_Web_Caching_SqlCacheDependency__ctor_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">SqlCacheDependency(String,String)</div>        \r\n          </div>\r\n    \r\n            <p>Initializes a new instance of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> class, using the supplied parameters to create a cache-key dependency.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public SqlCacheDependency (string databaseEntryName, string tableName);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>databaseEntryName</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The name of a database defined in the databases element of the application&#39;s Web.config file.</p>\n\r\n                </li>\r\n                <li>\r\n                  <dl>\r\n                  <dt>tableName</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The name of the database table that the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> is associated with.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n              <h4>Exceptions</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.httpexception\" data-linktype=\"relative-path\">HttpException</a></div>\r\n                  </div>\r\n                  <p>The internal check for <a class=\"xref\" href=\"system.data.sqlclient.sqlclientpermission\" data-linktype=\"relative-path\">SqlClientPermission</a> failed.  </p>\n<p> - or -  </p>\n<p> The <code>databaseEntryName</code> was not found in the list of databases configured for table-based notifications.  </p>\n<p> - or -  </p>\n<p> The <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object could not connect to the database during initialization.  </p>\n<p> - or -  </p>\n<p> The <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object encountered a permission-denied error either on the database or on the database stored procedures that support the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentexception\" data-linktype=\"relative-path\">ArgumentException</a></div>\r\n                  </div>\r\n                  <p>The <code>tableName</code> parameter is <a class=\"xref\" href=\"system.string#System_String_Empty\" data-linktype=\"relative-path\">Empty</a>.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.configuration.configurationerrorsexception\" data-linktype=\"relative-path\">ConfigurationErrorsException</a></div>\r\n                  </div>\r\n                  <p>Polling is not enabled for the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a>.  </p>\n<p> - or -  </p>\n<p> The polling interval is not correctly configured.  </p>\n<p> - or -  </p>\n<p> No connection string was specified in the application&#39;s configuration file.  </p>\n<p> - or -  </p>\n<p> The connection string specified in the application&#39;s configuration file could not be found.  </p>\n<p> - or -  </p>\n<p> The connection string specified in the application&#39;s configuration file is an empty string.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.caching.databasenotenabledfornotificationexception\" data-linktype=\"relative-path\">DatabaseNotEnabledForNotificationException</a></div>\r\n                  </div>\r\n                  <p>The database specified in the <code>databaseEntryName</code> parameter is not enabled for change notifications.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.caching.tablenotenabledfornotificationexception\" data-linktype=\"relative-path\">TableNotEnabledForNotificationException</a></div>\r\n                  </div>\r\n                  <p>The database table specified in the <code>tableName</code> parameter is not enabled for change notifications.</p>\n\r\n                </li>\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.argumentnullexception\" data-linktype=\"relative-path\">ArgumentNullException</a></div>\r\n                  </div>\r\n                  <p><code>databaseEntryName</code> is <code>null</code>.  </p>\n<p> - or -  </p>\n<p> <code>tableName</code> is <code>null</code>.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>This constructor is used to create <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> objects for SQL Server 7.0 and SQL Server 2000 products.  </p>\n<p> The database name passed to the <code>database</code> parameter must be defined in the application&#39;s Web.config file. For example, the following Web.config file defines a database named pubs for <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> change notifications.  </p>\n<pre><code>&lt;configuration&gt;  \n  &lt;connectionStrings&gt;  \n    &lt;add name=&quot;Pubs&quot; connectionString=&quot;Data Source=(local); Initial Catalog=pubs; Integrated Security=true&quot;; providerName=&quot;System.Data.SqlClient&quot; /&gt;  \n  &lt;/connectionStrings&gt;  \n  &lt;system.web&gt;  \n    &lt;caching&gt;  \n      &lt;sqlCacheDependency enabled = &quot;true&quot; pollTime = &quot;60000&quot; &gt;  \n        &lt;databases&gt;  \n          &lt;add name=&quot;pubs&quot;   \n            connectionStringName=&quot;pubs&quot;  \n            pollTime=&quot;9000000&quot;  \n            /&gt;  \n        &lt;/databases&gt;  \n      &lt;/sqlCacheDependency&gt;  \n    &lt;/caching&gt;  \n  &lt;/system.web&gt;  \n&lt;/configuration&gt;\n</code></pre><p> Two exceptions are commonly thrown when this constructor is used: <a class=\"xref\" href=\"system.web.caching.databasenotenabledfornotificationexception\" data-linktype=\"relative-path\">DatabaseNotEnabledForNotificationException</a> and <a class=\"xref\" href=\"system.web.caching.tablenotenabledfornotificationexception\" data-linktype=\"relative-path\">TableNotEnabledForNotificationException</a>. If a <a class=\"xref\" href=\"system.web.caching.databasenotenabledfornotificationexception\" data-linktype=\"relative-path\">DatabaseNotEnabledForNotificationException</a> is thrown, you can call the <a class=\"xref\" href=\"system.web.caching.sqlcachedependencyadmin#System_Web_Caching_SqlCacheDependencyAdmin_EnableNotifications_\" data-linktype=\"relative-path\">EnableNotifications</a> method in exception-handling code, or use the  command-line tool to set up the database for notifications. If a <a class=\"xref\" href=\"system.web.caching.tablenotenabledfornotificationexception\" data-linktype=\"relative-path\">TableNotEnabledForNotificationException</a> is thrown, you can call the <a class=\"xref\" href=\"system.web.caching.sqlcachedependencyadmin#System_Web_Caching_SqlCacheDependencyAdmin_EnableTableForNotifications_\" data-linktype=\"relative-path\">EnableTableForNotifications</a> method or use  to set up the table for notifications.</p>\n\r\n    \r\n            <h4>Example</h4>\r\n            <p>The following code example uses this constructor to create an instance of the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> class that is associated with a database table named Categories in a SQL Server database named Northwind.  </p>\n<pre><code class=\"lang-vb\" name=\"CachingSamples_SqlCacheDependency#2\">    Sub Page_Load(Src As Object, E As EventArgs)\n       &#39; Declare the SqlCacheDependency instance, SqlDep.\n       Dim SqlDep As SqlCacheDependency\n\n       &#39; Check the Cache for the SqlSource key.\n       &#39; If it isn&#39;t there, create it with a dependency\n       &#39; on a SQL Server table using the SqlCacheDependency class.\n       If Cache(&quot;SqlSource&quot;) Is Nothing\n\n          &#39; Because of possible exceptions thrown when this\n          &#39; code runs, use Try...Catch...Finally syntax.\n          Try\n             &#39; Instantiate SqlDep using the SqlCacheDependency constructor.\n             SqlDep = New SqlCacheDependency(&quot;Northwind&quot;, &quot;Categories&quot;)\n\n          &#39; Handle the DatabaseNotEnabledForNotificationException with\n          &#39; a call to the SqlCacheDependencyAdmin.EnableNotifications method.\n          Catch exDBDis As DatabaseNotEnabledForNotificationException\n             Try\n                SqlCacheDependencyAdmin.EnableNotifications(&quot;Northwind&quot;)\n\n             &#39; If the database does not have permissions set for creating tables,\n             &#39; the UnauthorizedAccessException is thrown. Handle it by redirecting\n             &#39; to an error page.\n             Catch exPerm As UnauthorizedAccessException\n                 Response.Redirect(&quot;.\\ErrorPage.htm&quot;)\n             End Try\n\n          &#39; Handle the TableNotEnabledForNotificationException with\n                &#39; a call to the SqlCacheDependencyAdmin.EnableTableForNotifications method.\n          Catch exTabDis As TableNotEnabledForNotificationException\n             Try\n                SqlCacheDependencyAdmin.EnableTableForNotifications( _\n                 &quot;Northwind&quot;, &quot;Categories&quot;)\n\n             &#39; If a SqlException is thrown, redirect to an error page.\n             Catch exc As SqlException\n                 Response.Redirect(&quot;.\\ErrorPage.htm&quot;)\n             End Try\n\n          &#39; If all the other code is successful, add MySource to the Cache\n          &#39; with a dependency on SqlDep. If the Categories table changes,\n          &#39; MySource will be removed from the Cache. Then generate a message\n                &#39; that the data is newly created and added to the cache.\n          Finally\n             Cache.Insert(&quot;SqlSource&quot;, Source1, SqlDep)\n                CacheMsg.Text = &quot;The data object was created explicitly.&quot;\n\n          End Try\n\n        Else\n           CacheMsg.Text = &quot;The data was retrieved from the Cache.&quot;\n        End If\n    End Sub\n</code></pre><pre><code class=\"lang-cs\" name=\"CachingSamples_SqlCacheDependency#2\">    public void Page_Load(object Src, EventArgs E) \n    { \n        // Declare the SqlCacheDependency instance, SqlDep. \n        SqlCacheDependency SqlDep = null; \n        \n        // Check the Cache for the SqlSource key. \n        // If it isn&#39;t there, create it with a dependency \n        // on a SQL Server table using the SqlCacheDependency class. \n        if (Cache[&quot;SqlSource&quot;] == null) { \n            \n            // Because of possible exceptions thrown when this \n            // code runs, use Try...Catch...Finally syntax. \n            try { \n                // Instantiate SqlDep using the SqlCacheDependency constructor. \n                SqlDep = new SqlCacheDependency(&quot;Northwind&quot;, &quot;Categories&quot;); \n            } \n            \n            // Handle the DatabaseNotEnabledForNotificationException with \n            // a call to the SqlCacheDependencyAdmin.EnableNotifications method. \n            catch (DatabaseNotEnabledForNotificationException exDBDis) { \n                try { \n                    SqlCacheDependencyAdmin.EnableNotifications(&quot;Northwind&quot;); \n                } \n                \n                // If the database does not have permissions set for creating tables, \n                // the UnauthorizedAccessException is thrown. Handle it by redirecting \n                // to an error page. \n                catch (UnauthorizedAccessException exPerm) { \n                    Response.Redirect(&quot;.\\\\ErrorPage.htm&quot;); \n                } \n            } \n            \n            // Handle the TableNotEnabledForNotificationException with \n            // a call to the SqlCacheDependencyAdmin.EnableTableForNotifications method. \n            catch (TableNotEnabledForNotificationException exTabDis) { \n                try { \n                    SqlCacheDependencyAdmin.EnableTableForNotifications(&quot;Northwind&quot;, &quot;Categories&quot;); \n                } \n                \n                // If a SqlException is thrown, redirect to an error page. \n                catch (SqlException exc) { \n                    Response.Redirect(&quot;.\\\\ErrorPage.htm&quot;); \n                } \n            } \n            \n            // If all the other code is successful, add MySource to the Cache \n            // with a dependency on SqlDep. If the Categories table changes, \n            // MySource will be removed from the Cache. Then generate a message \n            // that the data is newly created and added to the cache. \n            finally { \n                Cache.Insert(&quot;SqlSource&quot;, Source1, SqlDep); \n                CacheMsg.Text = &quot;The data object was created explicitly.&quot;; \n                \n            } \n        } \n        \n        else { \n            CacheMsg.Text = &quot;The data was retrieved from the Cache.&quot;; \n        } \n    } \n</code></pre>\r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section><section class=\"memberGroup\">\r\n      <header class=\"header enable-platform-filter\" id=\"methods\">\r\n        <h2>Methods\r\n    </h2>\r\n      </header>\r\n    \r\n      <ul class=\"list-clean enable-platform-filter\">\r\n    \r\n        <li class=\" enable-platform-filter\" id=\"System_Web_Caching_SqlCacheDependency_CreateOutputCacheDependency_System_String_\">\r\n    \r\n            <a id=\"System_Web_Caching_SqlCacheDependency_CreateOutputCacheDependency_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">CreateOutputCacheDependency(String)</div>        \r\n          </div>\r\n    \r\n            <p>Creates a dependency relationship between an item that is stored in an ASP.NET application&#39;s <a class=\"xref\" href=\"system.web.caching.outputcache\" data-linktype=\"relative-path\">OutputCache</a> object and a SQL Server database table.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public static System.Web.Caching.CacheDependency CreateOutputCacheDependency (string dependency);</code></pre>\r\n    \r\n    \r\n              <h4>Parameters</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <dl>\r\n                  <dt>dependency</dt>\r\n                  <dd>\r\n                    <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </dd>\r\n                  </dl>\r\n                  <p>The output-cache dependency directive.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.web.caching.cachedependency\" data-linktype=\"relative-path\">System.Web.Caching.CacheDependency</a></div>\r\n                  </div>\r\n                  <p>The new dependency object.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The following markup shows a typical output-cache dependency directive.  </p>\n<pre><code>&lt;%@ OutputCache Duration=&quot;3600&quot; SqlDependency=&quot;Northwind:Employees&quot; VaryByParam=&quot;none&quot; %&gt;\n</code></pre>\r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Web_Caching_SqlCacheDependency_DependencyDispose\">\r\n    \r\n            <a id=\"System_Web_Caching_SqlCacheDependency_DependencyDispose_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">DependencyDispose()</div>        \r\n          </div>\r\n    \r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">protected override void DependencyDispose ();</code></pre>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n          \r\n    \r\n    \r\n    \r\n    \r\n        </li>\r\n        <li class=\" enable-platform-filter\" id=\"System_Web_Caching_SqlCacheDependency_GetUniqueID\">\r\n    \r\n            <a id=\"System_Web_Caching_SqlCacheDependency_GetUniqueID_\"></a>\r\n    \r\n    \r\n          <div class=\"memberName\">\r\n            <div class=\"lang-csharp\">GetUniqueID()</div>        \r\n          </div>\r\n    \r\n            <p>Retrieves a unique identifier for a <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object.</p>\n\r\n    \r\n            <pre class=\"memberDeclaration\"><code class=\"csharp lang-csharp\">public override string GetUniqueID ();</code></pre>\r\n    \r\n    \r\n    \r\n              <h4>Returns</h4>\r\n              <ul class=\"memberDetails\">\r\n                <li>\r\n                  <div class=\"single\">                \r\n                      <div class=\"lang-csharp\"><a class=\"xref\" href=\"system.string\" data-linktype=\"relative-path\">String</a></div>\r\n                  </div>\r\n                  <p>The unique identifier for the <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> object, or null if no identifier can be generated.</p>\n\r\n                </li>\r\n              </ul>\r\n    \r\n    \r\n    \r\n          \r\n    \r\n            <h4>Remarks</h4>\r\n            <p>The <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> method returns an identifier used to uniquely track <a class=\"xref\" href=\"system.web.caching.sqlcachedependency\" data-linktype=\"relative-path\">SqlCacheDependency</a> objects associated with an item or application. The unique identifier generated when using table-based notifications is partially dependent on the change identifier generated by the database.  </p>\n<p> When using SQL Server 2005-based query notifications, the unique identifier is <code>null</code> because <!-- BEGIN INCLUDE: Include content from &quot;~/add/includes/sqprsqlong-md.md&quot; -->SQL Server 2005<!--END INCLUDE --> does not support returning unique identifiers for individual query notifications .</p>\n\r\n    \r\n    \r\n    \r\n        </li>\r\n      </ul>\r\n    </section>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","outputRootRelativePath":"./","pageMetadata":"<meta name=\"breadcrumb_path\" content=\"breadcrumb/toc.json\">\r\n<meta name=\"search.ms_sitename\" content=\"Docs\">\r\n<meta name=\"search.ms_docsetname\" content=\"fulldocset\">\r\n<meta name=\"locale\" content=\"en-us\">\r\n<meta name=\"site_name\" content=\"Docs\">\r\n<meta name=\"search.ms_product\" content=\"MSDN\">\r\n<meta name=\"depot_name\" content=\"MSDN.fulldocset\">\r\n<meta name=\"ref_skeleton_gitcommit\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Web.Caching.SqlCacheDependency.yml\">\r\n<meta name=\"original_ref_skeleton_git_url\" content=\"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Web.Caching.SqlCacheDependency.yml\">\r\n<meta name=\"APIName\" content=\"System.Web.Caching.SqlCacheDependency\">\r\n<meta name=\"APIName\" content=\"System.Web.Caching.SqlCacheDependency..ctor\">\r\n<meta name=\"APIName\" content=\"System.Web.Caching.SqlCacheDependency.CreateOutputCacheDependency\">\r\n<meta name=\"APIName\" content=\"System.Web.Caching.SqlCacheDependency.DependencyDispose\">\r\n<meta name=\"APIName\" content=\"System.Web.Caching.SqlCacheDependency.GetUniqueID\">\r\n<meta name=\"APILocation\" content=\"System.Web.dll\">\r\n<meta name=\"TopicType\" content=\"apiref\">\r\n<meta name=\"APIType\" content=\"Assembly\">\r\n<meta name=\"updated_at\" content=\"2017-03-01 01:37 AM\">\r\n<meta name=\"document_id\" content=\"eaac551a-5922-07bc-0020-cc9cd5675eb7\">\r\n<meta name=\"original_ecmaxml_local_path\" content=\"W:\\vejk\\s\\fulldocset\\xml\\System.Web.Caching\\SqlCacheDependency.xml\">\r\n<meta name=\"pagetype\" content=\"Reference\">\r\n<meta name=\"description\" content=\"Establishes a relationship between an item stored in an ASP.NET application&amp;#39;s  object and either a specific SQL Server database table or the results of a SQL Server 2005 query. This class cannotâ€¦\">\r\n<meta name=\"toc_rel\" content=\"_splitted/System.Web.Caching/toc1.json\">\r\n<meta name=\"source_url\" content=\"\">\r\n<meta name=\"ms.assetid\" content=\"System.Web.Caching.SqlCacheDependency\">\r\n","rawMetadata":{"breadcrumb_path":"breadcrumb/toc.json","search.ms_sitename":"Docs","search.ms_docsetname":"fulldocset","version":null,"_op_canonicalUrlPrefix":"https://ppe.docs.microsoft.com/en-us/fulldotnet/","locale":"en-us","site_name":"Docs","search.ms_product":"MSDN","_op_openToPublicContributors":true,"depot_name":"MSDN.fulldocset","_op_gitRefSkeletonCommitHistory":[{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"use plugin in master","commit_sha":"501959ac03e19ac52a27aa4c6bbeb980f8b11c8c","commit_date":"2017-03-01 09:31:20 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"switch from platform to version","commit_sha":"78cdacb5ca782478af490a6b30c3a2cb2b6b873e","commit_date":"2017-02-28 15:09:51 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update platforms","commit_sha":"39ad5a8919a59afc93a79ac4bd8e07c3b471b37a","commit_date":"2017-02-28 10:38:59 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"checkin yml","commit_sha":"da161b792852497df7140d7768cee2eccd9cb43f","commit_date":"2017-02-28 09:36:15 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"delete ymls","commit_sha":"417c04fd1daf0cb211ec4909020356fc1fe69260","commit_date":"2017-02-27 14:12:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"update latest xml","commit_sha":"1e40a158586a88a698e0cb5342785002a56898b2","commit_date":"2017-02-24 16:20:57 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"add exceptions to reference section","commit_sha":"2f337ac32baa36b4ee4b5d8987b29dba4ce77336","commit_date":"2017-02-24 11:22:25 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"transform see cref and fix paramref format","commit_sha":"3d0ea34483c97ac77f4020a7f294757d67a5c1d4","commit_date":"2017-02-23 10:03:17 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"fix param transform, fix escaped xref","commit_sha":"2af997a764c82488dfa824f1c7bc4d736757d943","commit_date":"2017-02-22 17:04:48 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"convert exceptions","commit_sha":"0a5bf3370731dd35a596c91081e5dc82e2eace3a","commit_date":"2017-02-22 11:54:30 +0800"},{"author_name":"Tianqi Zhang","author_email":"tianzh@microsoft.com","committer_name":"Tianqi Zhang","comitter_email":"tianzh@microsoft.com","message":"remove _yml from url","commit_sha":"f9314af8858edb8c329d223328490093aef4f55f","commit_date":"2017-02-17 15:31:12 +0800"}],"ref_skeleton_gitcommit":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/501959ac03e19ac52a27aa4c6bbeb980f8b11c8c/fulldocset/System.Web.Caching.SqlCacheDependency.yml","original_ref_skeleton_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/System.Web.Caching.SqlCacheDependency.yml","open_to_public_contributors":true,"api_name":["System.Web.Caching.SqlCacheDependency","System.Web.Caching.SqlCacheDependency..ctor","System.Web.Caching.SqlCacheDependency.CreateOutputCacheDependency","System.Web.Caching.SqlCacheDependency.DependencyDispose","System.Web.Caching.SqlCacheDependency.GetUniqueID"],"api_location":["System.Web.dll"],"topic_type":["apiref"],"api_type":["Assembly"],"f1_keywords":["System.Web.Caching.SqlCacheDependency","System::Web::Caching::SqlCacheDependency","System.Web.Caching.SqlCacheDependency.#ctor","System::Web::Caching::SqlCacheDependency::#ctor","System.Web.Caching.SqlCacheDependency.CreateOutputCacheDependency","System::Web::Caching::SqlCacheDependency::CreateOutputCacheDependency","System.Web.Caching.SqlCacheDependency.DependencyDispose","System::Web::Caching::SqlCacheDependency::DependencyDispose","System.Web.Caching.SqlCacheDependency.GetUniqueID","System::Web::Caching::SqlCacheDependency::GetUniqueID"],"dev_langs":["csharp"],"updated_at":"2017-03-01 01:37 AM","document_id":"eaac551a-5922-07bc-0020-cc9cd5675eb7","original_ecmaxml_local_path":"W:\\vejk\\s\\fulldocset\\xml\\System.Web.Caching\\SqlCacheDependency.xml","content_git_url":"https://github.com/TianqiZhang/ECMA2YamlTestRepo2/blob/master/fulldocset/xml/System.Web.Caching/SqlCacheDependency.xml","layout":"Reference","_op_layout":"Reference","pagetype":"Reference","title":"SqlCacheDependency class | Microsoft Docs","_op_ogTitle":"SqlCacheDependency class","description":"Establishes a relationship between an item stored in an ASP.NET application&#39;s  object and either a specific SQL Server database table or the results of a SQL Server 2005 query. This class cannotâ€¦","toc_asset_id":"_splitted/System.Web.Caching/toc.json","toc_rel":"_splitted/System.Web.Caching/toc.json","source_url":"","ms.assetid":"System.Web.Caching.SqlCacheDependency","canonical_url":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.web.caching.sqlcachedependency","_op_canonicalUrl":"https://ppe.docs.microsoft.com/en-us/mergedepotdynamic/system.web.caching.sqlcachedependency","fileRelativePath":"System.Web.Caching.SqlCacheDependency.html"},"themesRelativePathToOutputRoot":"_themes/"}